<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Smart Card Driver Library Routines</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Smart Card Driver Library Routines">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Smart&nbsp;Card&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H2><A NAME="_ntovr_smart_card_driver_library_routines"></A>Smart Card Driver Library Routines</H2>

<P>The following table lists the smart card driver library functions in alphabetical order. For a discussion of when a smart card reader driver should call these routines, see <A HREF="scovr_9v76.htm">Required Routines for a Vendor-Supplied Reader Driver</A> section.</P>

<TABLE>

<TR VALIGN="top">
<TH align=left width=58%>Function</TH>
<TH align=left width=42%>Description</TH>
</TR>

<TR VALIGN="top">
<TD width=58%><A HREF="scfunc_9yvz.htm"><B>MapNtStatusToWinError</B> (VxD)</A></TD>
<TD width=42%>Maps an NTSTATUS status code to a Win32® error code. Not available for WDM drivers.</TD>
</TR>

<TR VALIGN="top">
<TD width=58%><A HREF="scfunc_9vmn.htm"><B>SmartcardCompleteCardTracking</B> (VxD)</A></TD>
<TD width=42%>Informs the caller of a card insertion or removal event. Not available for WDM drivers.</TD>
</TR>

<TR VALIGN="top">
<TD width=58%><A HREF="scfunc_7ja7.htm"><B>SmartcardCompleteRequest</B> (VxD)</A></TD>
<TD width=42%>Informs the caller of the completion of a request, unlocks memory, and enables further calls to the smart card library. Not available for WDM drivers.</TD>
</TR>

<TR VALIGN="top">
<TD width=58%><A HREF="scfuncw_9b8f.htm"><B>SmartcardCreateLink</B> (WDM)</A>
<P>-or-</P>

<P><A HREF="scfunc_5fq7.htm"><B>SmartcardCreateLink</B> (VxD)</A></P>
</TD>
<TD width=42%>WDM: Creates a DOS device name that the smart card resource manager uses to access the driver.
<P>VxD: Creates a registry entry that the smart card resource manager uses to access a device.</P>
</TD>
</TR>

<TR VALIGN="top">
<TD width=58%><A HREF="scfuncw_4ian.htm"><B>SmartcardDeleteLink</B> (WDM)</A>
<P>-or-</P>

<P><A HREF="scfunc_0msf.htm"><B>SmartcardDeleteLink </B>(VXD)</A></P>
</TD>
<TD width=42%>Deletes the link that was created with <B>SmartcardCreateLink</B>.</TD>
</TR>

<TR VALIGN="top">
<TD width=58%><A HREF="scfuncw_3s7z.htm"><B>SmartcardDeviceControl</B> (WDM)</A>
<P>-or-</P>

<P><A HREF="scfunc_9wpr.htm"><B>SmartcardDeviceControl</B> (VxD)</A></P>
</TD>
<TD width=42%>The main entry function for the smart card driver library. Performs parameter checking and completes calls that do not require I/O with the reader.</TD>
</TR>

<TR VALIGN="top">
<TD width=58%><A HREF="scfuncw_719b.htm"><B>SmartcardExit</B> (WDM)</A>
<P>-or-</P>

<P><A HREF="scfunc_35r3.htm"><B>SmartcardExit</B> (VxD)</A></P>
</TD>
<TD width=42%>Frees buffers that were allocated during a call to <B>SmartcardInitialize</B>.</TD>
</TR>

<TR VALIGN="top">
<TD width=58%><A HREF="scfuncw_2xsv.htm"><B>SmartcardInitialize</B> (WDM)</A>
<P>-or-</P>

<P><A HREF="scfunc_92an.htm"><B>SmartcardInitialize</B> (VxD)</A></P>
</TD>
<TD width=42%>Allocates internal buffers for the library.</TD>
</TR>

<TR VALIGN="top">
<TD width=58%><A HREF="scfuncw_2bkv.htm"><B>SmartcardLogError</B> (WDM)</A></TD>
<TD width=42%>Writes an error message to the event log. Not available for VxD drivers.</TD>
</TR>

<TR VALIGN="top">
<TD width=58%><A HREF="scfuncw_4pen.htm"><B>SmartcardRawReply</B> (WDM)</A>
<P>-or-</P>

<P><A HREF="scfunc_0twf.htm"><B>SmartcardRawReply</B> (VxD)</A></P>
</TD>
<TD width=42%>Transfers the data received from the card to the user buffer.</TD>
</TR>

<TR VALIGN="top">
<TD width=58%><A HREF="scfuncw_6wbj.htm"><B>SmartcardRawRequest</B> (WDM)</A>
<P>-or-</P>

<P><A HREF="scfunc_30tb.htm"><B>SmartcardRawRequest</B> (VxD)</A></P>
</TD>
<TD width=42%>Copies data from the user buffer to a send buffer.</TD>
</TR>

<TR VALIGN="top">
<TD width=58%><A HREF="scfuncw_5bfj.htm"><B>SmartcardT0Reply</B> (WDM)</A>
<P>-or-</P>

<P><A HREF="scfunc_1fxb.htm"><B>SmartcardT0Reply</B> (VxD)</A></P>
</TD>
<TD width=42%>Transfers the data received from the card to the user buffer.</TD>
</TR>

<TR VALIGN="top">
<TD width=58%><A HREF="scfuncw_2tgf.htm"><B>SmartcardT0Request</B> (WDM)</A>
<P>-or-</P>

<P><A HREF="scfunc_8xy7.htm"><B>SmartcardT0Request</B> (VxD)</A></P>
</TD>
<TD width=42%>Copies data from the user buffer to a send buffer.</TD>
</TR>

<TR VALIGN="top">
<TD width=58%><A HREF="scfuncw_03hb.htm"><B>SmartcardT1Reply</B> (WDM)</A>
<P>-or-</P>

<P><A HREF="scfunc_67z3.htm"><B>SmartcardT1Reply</B> (VxD)</A></P>
</TD>
<TD width=42%>Copies data from the receive buffer to the user buffer and checks the T=1 protocol status.</TD>
</TR>

<TR VALIGN="top">
<TD width=58%><A HREF="scfuncw_87q7.htm"><B>SmartcardT1Request</B> (WDM)</A>
<P>-or-</P>

<P><A HREF="scfunc_4c7z.htm"><B>SmartcardT1Request</B> (VxD)</A></P>
</TD>
<TD width=42%>Copies data from the user buffer to a send buffer and checks the T=1 protocol status.</TD>
</TR>

<TR VALIGN="top">
<TD width=58%><A HREF="scfuncw_2yvz.htm"><B>SmartcardUpdateCardCapabilities</B>_(WDM)</A>
<P>-or-</P>

<P><A HREF="scfunc_93dr.htm"><B>SmartcardUpdateCardCapabilities</B> (VxD)</A></P>
</TD>
<TD width=42%>Translates an ATR string into the <A HREF="scstruct_2qib.htm">SCARD_CARD_CAPABILITIES</A> structure that can be used by the driver.</TD>
</TR>

<TR VALIGN="top">
<TD width=58%><A HREF="scfunc_6hgf.htm"><B>VxD_CreateDevice</B> (VxD)</A></TD>
<TD width=42%>Creates a new instance of a device. Not available for WDM drivers.</TD>
</TR>

<TR VALIGN="top">
<TD width=58%><A HREF="scfunc_9yan.htm"><B>VxD_DeleteDevice</B> (VxD)</A></TD>
<TD width=42%>Deletes a device that was created using <B>VxD_CreateDevice</B>. Not available for WDM drivers.</TD>
</TR>
</TABLE><BR>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Smart%20Card%20Driver%20Library%20Routines"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
