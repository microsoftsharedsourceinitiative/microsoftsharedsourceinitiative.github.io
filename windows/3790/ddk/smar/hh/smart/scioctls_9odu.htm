<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>IOCTL_SMARTCARD_GET_LAST_ERROR</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="IOCTL_SMARTCARD_GET_LAST_ERROR">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Smart&nbsp;Card&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="_ntioctls_ioctl_smartcard_get_last_error"></A>IOCTL_SMARTCARD_GET_LAST_ERROR</H1>

<H2>WDM driver version</H2>

<P>None</P>

<H2>VxD driver version</H2>

<H4>Operation</H4>

<P>There is no option to return an error code on completing an overlapped operation. Use <A HREF="#_ntioctls_ioctl_smartcard_get_last_error">IOCTL_SMARTCARD_GET_LAST_ERROR</A> to get the error code of the last operation.</P>

<H4>Input</H4>

<DL>
<DT><I>DiocParams-&gt;cbOutBuffer</I></DT>

<DD>The size of the output buffer. Must be at least <B>sizeof</B>(ULONG).
</DD>
</DL>

<H4>Output</H4>

<DL>
<DT><I>DiocParams-&gt;lpvOutBuffer</I> </DT>

<DD>Receives the error code.</DD>

<DT><I>DiocParams-&gt;lpcbBytesReturned</I> </DT>

<DD>Must be set to <B>sizeof</B>(ULONG).
</DD>
</DL>

<H4>I/O Status Block</H4>

<P>This call must return STATUS_SUCCESS. </P>

<P>Note that when your driver uses the smart card driver library, you should store the result of the last overlapped operation in the smart card extension. The library will answer this call automatically using your stored value.</P>

<H4>Headers</H4>

<P>Defined in <I>winsmcrd.h</I>. Include <I>winsmcrd.h</I>.</P>

<H4>See Also</H4>

<P><A HREF="scioctls_1pwl.htm">IOCTL_SMARTCARD_GET_STATE</A></P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: IOCTL_SMARTCARD_GET_LAST_ERROR"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
