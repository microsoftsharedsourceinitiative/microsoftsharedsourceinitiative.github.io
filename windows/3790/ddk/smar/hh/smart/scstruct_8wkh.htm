<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>T1_DATA</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="T1_DATA">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Smart&nbsp;Card&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="_ntstruct_t1_data"></A>T1_DATA</H1>

<P>The T1_DATA structure is used by the smart card driver library for processing T1 I/O. </P>

<PRE class=syntax>typedef struct _T1_DATA {
  UCHAR  InfSize;
  ULONG  BytesReceived;
  ULONG  BytesSent;
  ULONG  BytesToSend;
  UCHAR  LastError;
  UCHAR  NAD;
  ULONG  PrevState;
  UCHAR  Resend;
  UCHAR  Resynch;
  UCHAR  RSN;
  UCHAR  SSN;
  ULONG  State;
  UCHAR  Wtx;
  PUCHAR  ReplyData;
  BOOLEAN  WaitForReply;
} T1_DATA, *PT1_DATA;
 </PRE>

<H4>Members</H4>

<DL>
<DT><B>InfSize</B></DT>

<DD>Contains the current information field size that can be transmitted. </DD>

<DT><B>BytesReceived</B></DT>

<DD>Contains the number of bytes already received from the smart card. </DD>

<DT><B>BytesSent</B></DT>

<DD>Contains the number of bytes already sent to the card. </DD>

<DT><B>BytesToSend</B></DT>

<DD>Contains the total number of bytes still to send. </DD>

<DT><B>LastError</B></DT>

<DD>Contains the T1 error code of the last received block. </DD>

<DT><B>NAD</B></DT>

<DD>Contains the node address byte to be sent to the card. </DD>

<DT><B>PrevState</B></DT>

<DD>Contains the state before the error occurred. </DD>

<DT><B>Resend</B></DT>

<DD>Contains the resend counter. </DD>

<DT><B>Resynch</B></DT>

<DD>Contains the resynch counter. </DD>

<DT><B>RSN</B></DT>

<DD>Contains the number of sent I-Blocks, as defined in the <I>ISO 7816-3</I> specification. </DD>

<DT><B>SSN</B></DT>

<DD>Contains the send sequence number (SSN). This member has a value of 0 or 1 as defined in the <I>ISO 7816-3</I> specification.</DD>

<DT><B>State</B></DT>

<DD>Contains the current state of the protocol. </DD>

<DT><B>Wtx</B></DT>

<DD>Contains the waiting time extension for a T=1 transmission. If nonzero, this is a multiplier for the block waiting time. Usually, the driver should time out if the block waiting time expires. Several smart card operations need longer time, so the smart card answers with a waiting time extension, and therefore the block waiting time must be multiplied with the <B>Wtx</B> value. If this value is nonzero, it only applies as a waiting extension. </DD>

<DT><B>ReplyData</B></DT>

<DD>Pointer to the buffer containing the result of the operation. </DD>

<DT><B>WaitForReply</B></DT>

<DD>Wait for the reply (execute the operation synchronously) if TRUE. 
</DD>
</DL>

<H4>Headers</H4>

<P>Declared in <I>scmlib.h</I>. Include <I>scmlib.h</I>. </P>

<H4>Comments</H4>

<P>This structure must not be directly modified by a reader driver.</P>

<H4></H4>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: T1_DATA"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
