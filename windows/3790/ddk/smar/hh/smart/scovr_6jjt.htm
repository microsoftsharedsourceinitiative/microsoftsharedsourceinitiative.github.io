<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>IOCTL Codes Serviced by the Smart Card Driver Library</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="IOCTL Codes Serviced by the Smart Card Driver Library">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Smart&nbsp;Card&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H2><A NAME="_ntovr_ioctl_codes_serviced_by_the_smart_card_driver_library"></A>IOCTL Codes Serviced by the Smart Card Driver Library</H2>

<P>The most important service provided by the system-supplied smart card driver library is the management of a set of standard IOCTL requests that the resource manager uses to control the card reader device. When a smart card driver receives one of these requests, it does not service the request. Instead, it simply passes the request on to the <A HREF="scfuncw_3s7z.htm"><B>SmartcardDeviceControl</B></A> driver library routine. </P>

<P>The following table lists the set of IOCTL codes that the smart card driver library can service. With the exception of <A HREF="scioctls_9odu.htm">IOCTL_SMARTCARD_GET_LAST_ERROR</A>, these codes apply to both WDM and VxD drivers.</P>

<TABLE>

<TR VALIGN="top">
<TH align=left width=61%>IOCTL Code</TH>
<TH align=left width=39%>Description</TH>
</TR>

<TR VALIGN="top">
<TD width=61%><A HREF="scioctls_8ldg.htm">IOCTL_SMARTCARD_EJECT</A></TD>
<TD width=39%>Ejects the currently inserted smart card from the smart card reader.</TD>
</TR>

<TR VALIGN="top">
<TD width=61%><A HREF="scioctls_1c9x.htm">IOCTL_SMARTCARD_GET_ATTRIBUTE</A></TD>
<TD width=39%>Queries smart card and smart card reader attributes.</TD>
</TR>

<TR VALIGN="top">
<TD width=61%><A HREF="scioctls_9odu.htm">IOCTL_SMARTCARD_GET_LAST_ERROR</A></TD>
<TD width=39%>VxD drivers only. Retrieves the error code of the last operation.</TD>
</TR>

<TR VALIGN="top">
<TD width=61%><A HREF="scioctls_1pwl.htm">IOCTL_SMARTCARD_GET_STATE</A></TD>
<TD width=39%>Gets the current status of the smart card reader.</TD>
</TR>

<TR VALIGN="top">
<TD width=61%><A HREF="scioctls_3fg4.htm">IOCTL_SMARTCARD_IS_ABSENT</A></TD>
<TD width=39%>Either returns immediately if no card is currently inserted, or installs an event handler to track card removals. </TD>
</TR>

<TR VALIGN="top">
<TD width=61%><A HREF="scioctls_0ees.htm">IOCTL_SMARTCARD_IS_PRESENT</A></TD>
<TD width=39%>Either returns immediately if no card is currently inserted, or installs an event handler to track card insertions. </TD>
</TR>

<TR VALIGN="top">
<TD width=61%><A HREF="scioctls_3sxe.htm">IOCTL_SMARTCARD_POWER</A></TD>
<TD width=39%>Either powers down or warm resets the card.</TD>
</TR>

<TR VALIGN="top">
<TD width=61%><A HREF="scioctls_63j9.htm">IOCTL_SMARTCARD_SET_ATTRIBUTE</A></TD>
<TD width=39%>Sets various attributes in the driver. </TD>
</TR>

<TR VALIGN="top">
<TD width=61%><A HREF="scioctls_6f8s.htm">IOCTL_SMARTCARD_SET_PROTOCOL</A></TD>
<TD width=39%>Sets the protocol to be used with the currently-inserted card.</TD>
</TR>

<TR VALIGN="top">
<TD width=61%><A HREF="scioctls_9xrr.htm">IOCTL_SMARTCARD_SWALLOW</A></TD>
<TD width=39%>Causes the reader to swallow the card.</TD>
</TR>

<TR VALIGN="top">
<TD width=61%><A HREF="scioctls_05ro.htm">IOCTL_SMARTCARD_TRANSMIT</A></TD>
<TD width=39%>Transmits data to and receives data from the currently-inserted smart card.</TD>
</TR>
</TABLE><BR>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: IOCTL%20Codes%20Serviced%20by%20the%20Smart%20Card%20Driver%20Library"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
