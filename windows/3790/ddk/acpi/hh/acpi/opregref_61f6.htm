<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>PACPI_OP_REGION_HANDLER</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="PACPI_OP_REGION_HANDLER">
</HEAD>
<BODY TOPMARGIN="0">
<DIV STYLE="display:none;">
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_acpi_driver_kg">
</OBJECT>
</DIV>


<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>ACPI&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_pacpi_op_region_handler_kr"></A>PACPI_OP_REGION_HANDLER</H1>

<P>A PACPI_OP_REGION_HANDLER-typed routine is supplied by an ACPI device function driver to provide access by the <A HREF="JavaScript:hhobj_1.Click()">ACPI driver</A> to the device's operation region.</P>

<PRE class=syntax><B>typedef VOID (EXPORT *PACPI_OP_REGION_CALLBACK)();
typedef
NTSTATUS
  (EXPORT *PACPI_OP_REGION_HANDLER) (
    IN ULONG  </B><I>AccessType</I><B>,</B>
<B>    IN PVOID  </B><I>OperationRegionObject</I><B>,</B>
<B>    IN ULONG  </B><I>Address</I><B>,</B>
<B>    IN ULONG  </B><I>Size</I><B>,</B>
<B>    IN PULONG  </B><I>Data</I><B>,</B>
<B>    IN ULONG_PTR  </B><I>Context</I><B>,</B>
<B>    IN PACPI_OP_REGION_CALLBACK  </B><I>CompletionHandler</I><B>,</B>
<B>    IN PVOID  </B><I>CompletionContext</I>
<B>    );</B></PRE>

<H4>Parameters</H4>

<DL>
<DT><I>AccessType</I></DT>

<DD>Specifies one of the following access types.

<TABLE>

<TR VALIGN="top">
<TH align=left width=43%>Access Type</TH>
<TH align=left width=57%>Description</TH>
</TR>

<TR VALIGN="top">
<TD width=43%>ACPI_OPREGION_WRITE </TD>
<TD width=57%>Write to the operation region memory buffer.</TD>
</TR>

<TR VALIGN="top">
<TD width=43%>ACPI_OPREGION_READ</TD>
<TD width=57%>Read from the operation region memory buffer.</TD>
</TR>
</TABLE><BR>

</DD>

<DT><I>OperationRegionObject</I></DT>

<DD>Specifies the operation region object returned by <A HREF="opregref_6x82.htm"><B>RegisterOpRegionHandler</B></A> for the operation region handler.</DD>

<DT><I>Address</I></DT>

<DD>Specifies a byte offset in the operation region memory buffer. Depending on the access type, data is transferred to or from this memory location. </DD>

<DT><I>Size</I></DT>

<DD>Specifies the number of bytes to access.</DD>

<DT><I>Data</I></DT>

<DD>Pointer to the data buffer supplied by the ACPI driver that is associated with the access. For a read access, bytes are transferred from the operation region memory buffer to the data buffer. For a write access, bytes are transferred from the data buffer to the operation region memory buffer.</DD>

<DT><I>Context</I></DT>

<DD>Pointer to the same operation region context that the function driver specified when it registered the operation region handler.</DD>

<DT><I>CompletionHandler</I></DT>

<DD>Reserved for internal use.</DD>

<DT><I>CompletionContext</I></DT>

<DD>Reserved for internal use.
</DD>
</DL>

<H4>Return Value</H4>

<P>Returns one of the following status values.</P>

<TABLE>

<TR VALIGN="top">
<TH align=left width=57%>Status Value</TH>
<TH align=left width=43%>Description</TH>
</TR>

<TR VALIGN="top">
<TD width=57%>STATUS_SUCCESS</TD>
<TD width=43%>The access was successful.</TD>
</TR>

<TR VALIGN="top">
<TD width=57%>STATUS_INVALID_DEVICE_REQUEST</TD>
<TD width=43%>The access type is invalid.</TD>
</TR>

<TR VALIGN="top">
<TD width=57%>STATUS_<I>Xxx</I></TD>
<TD width=43%>An internal error occurred.</TD>
</TR>
</TABLE><BR>

<H4>Headers</H4>

<P>Declared in <I>oprghdlr.h</I>. Include <I>oprghdlr.h</I>.</P>

<H4>Comments</H4>

<P>When the ACPI driver calls an operation region handler, it specifies values for <I>Address</I> and <I>Size</I> that ensure that the access is within the operation region that is defined in the ACPI BIOS for the ACPI device. The ACPI device function driver must ensure that the operation region memory buffer it allocates is at least as large, in bytes, as the operation region defined for the ACPI device.</P>

<P>For more information about operation region handlers, see <A HREF="opregdg_5inb.htm">Supporting an Operation Region</A>.</P>

<P>A PACPI_OP_REGION_HANDLER-typed routine runs at the caller's IRQL.</P>

<P>For detailed information about constraints on operation regions, see the <I>Advanced Configuration and Power Interface Specification</I>.</P>

<H4>See Also</H4>

<P><A HREF="opregref_6x82.htm"><B>RegisterOpRegionHandler</B></A>, <A HREF="opregref_08xe.htm"><B>DeRegisterOpRegionHandler</B></A></P>

<P></P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: PACPI_OP_REGION_HANDLER"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
