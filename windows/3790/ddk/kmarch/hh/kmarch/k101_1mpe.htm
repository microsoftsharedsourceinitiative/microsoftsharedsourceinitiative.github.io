<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Registry</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Registry">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Kernel-Mode&nbsp;Driver&nbsp;Architecture:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H2><A NAME="ddk_registry_kr"></A>Registry</H2>

<DL>
<DT><A HREF="k104_7pgy.htm"><B>IoGetDeviceProperty</B></A></DT>

<DD>Retrieves device setup information from the registry. Use this routine, rather than accessing the registry directly, to insulate a driver from differences across platforms and from possible changes in the registry structure.</DD>

<DT><A HREF="k104_8kz6.htm"><B>IoOpenDeviceInterfaceRegistryKey</B></A> </DT>

<DD>Returns a handle to a registry key for storing information about a particular device interface.</DD>

<DT><A HREF="k104_4er6.htm"><B>IoOpenDeviceRegistryKey</B></A> </DT>

<DD>Returns a handle to a device-specific or a driver-specific registry key for a particular device instance. </DD>

<DT><A HREF="k104_27n6.htm"><B>IoRegisterDeviceInterface</B></A> </DT>

<DD>Registers device functionality (a device interface) that a driver will enable for use by applications or other system components. The I/O Manager creates a registry key for the device interface. Drivers can access persistent storage under this key using <B>IoOpenDeviceInterfaceRegistryKey</B>.</DD>

<DT><A HREF="k104_3epe.htm"><B>IoSetDeviceInterfaceState</B></A> </DT>

<DD>Enables or disables a previously registered device interface. Applications and other system components can open only interfaces that are enabled.</DD>

<DT><A HREF="k109_8ylu.htm"><B>RtlCheckRegistryKey</B></A> </DT>

<DD>Returns STATUS_SUCCESS if a key exists in the registry along the given relative path.</DD>

<DT><A HREF="k109_8trm.htm"><B>RtlCreateRegistryKey</B></A> </DT>

<DD>Adds a key object in the registry along the given relative path.</DD>

<DT><A HREF="k109_1auq.htm"><B>RtlQueryRegistryValues</B></A> </DT>

<DD>Gives a driver-supplied callback read-only access to the entries for a specified value name, along a specified relative path, in the registry, after the callback routine is given control.</DD>

<DT><A HREF="k109_95iq.htm"><B>RtlWriteRegistryValue</B></A> </DT>

<DD>Writes caller-supplied data into the registry along the specified relative path at the given value name.</DD>

<DT><A HREF="k109_0dyq.htm"><B>RtlDeleteRegistryValue</B></A> </DT>

<DD>Removes the specified value name (and the associated value entries) from the registry along the given relative path.</DD>

<DT><A HREF="k109_66uq.htm"><B>InitializeObjectAttributes</B></A> </DT>

<DD>Sets up a parameter of type OBJECT_ATTRIBUTES for a subsequent call to a <B>ZwCreate</B><I>Xxx</I> or <B>ZwOpen</B><I>Xxx</I> routine.</DD>

<DT><A HREF="k111_4omq.htm"><B>ZwCreateKey</B></A> </DT>

<DD>Creates a new key in the registry with the given object's attributes, allowed access, and creation options (such as whether the key is created again when the system is booted). Alternatively, opens an existing key and returns a handle for the key object.</DD>

<DT><A HREF="k111_55pu.htm"><B>ZwOpenKey</B></A> </DT>

<DD>Returns a handle for a key in the registry given the object's attributes (which must include a name for the key) and the desired access to the object.</DD>

<DT><A HREF="k111_4o8i.htm"><B>ZwQueryKey</B></A> </DT>

<DD>Returns information about the class of a key, and the number and sizes of its subkeys. This information includes, for example, the length of subkey names and the size of value entries.</DD>

<DT><A HREF="k111_3wvm.htm"><B>ZwEnumerateKey</B></A> </DT>

<DD>Returns the specified information about the subkey, as selected by a zero-based index, of an opened key in the registry.</DD>

<DT><A HREF="k111_9dtf.htm"><B>ZwEnumerateValueKey</B></A> </DT>

<DD>Returns the specified information about the value entry of a subkey, as selected by a zero-based index, of an opened key in the registry.</DD>

<DT><A HREF="k111_9qya.htm"><B>ZwQueryValueKey</B></A> </DT>

<DD>Returns the value entry for an opened key in the registry.</DD>

<DT><A HREF="k111_5yya.htm"><B>ZwSetValueKey</B></A> </DT>

<DD>Replaces (or creates) a value entry for an opened key in the registry.</DD>

<DT><A HREF="k111_95wy.htm"><B>ZwFlushKey</B></A> </DT>

<DD>Forces changes made by <B>ZwCreateKey</B> or <B>ZwSetValueKey</B> for the opened key object to be written to disk.</DD>

<DT><A HREF="k111_550y.htm"><B>ZwDeleteKey</B></A> </DT>

<DD>Removes a key and its value entries from the registry as soon as the key is closed.</DD>

<DT><A HREF="k111_03aq.htm"><B>ZwClose</B></A> </DT>

<DD>Releases the handle for an opened object, causing the handle to become invalid and decrementing the reference count of the object handle.
</DD>
</DL>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Registry"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
