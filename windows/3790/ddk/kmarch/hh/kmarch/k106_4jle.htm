<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>MmAllocateMappingAddress</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="MmAllocateMappingAddress">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Kernel-Mode&nbsp;Driver&nbsp;Architecture:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_mmallocatemappingaddress_kr"></A>MmAllocateMappingAddress</H1>

<P>The <B>MmAllocateMappingAddress</B> routine reserves a range of system virtual address space of the specified size.</P>

<PRE class=syntax><B>PVOID
  MmAllocateMappingAddress (
    IN SIZE_T  </B><I>NumberOfBytes</I><B>,</B>
<B>    IN ULONG  </B><I>PoolTag</I>
<B>    );</B></PRE>

<H4>Parameters</H4>

<DL>
<DT><I>NumberOfBytes</I></DT>

<DD>Specifies the number of bytes to reserve.</DD>

<DT><I>PoolTag</I></DT>

<DD>Specifies a one-to-four character tag used to identify the buffer. See <A HREF="k102_2omq.htm"><B>ExAllocatePoolWithTag</B></A> for a description of pool tags. 
</DD>
</DL>

<H4>Return Value</H4>

<P>Pointer to the beginning of the reserved memory buffer.</P>

<H4>Headers</H4>

<P>Declared in <I>wdm.h</I> and <I>ntddk.h</I>. Include <I>wdm.h</I> or <I>ntddk.h</I>.</P>

<H4>Comments</H4>

<P>This routine is only available on Microsoft® Windows® XP and later.</P>

<P><B>MmAllocateMappingAddress</B> reserves the specified range of memory for use by the caller. No physical memory is allocated for the virtual address range and the virtual memory cannot be accessed until it is mapped by the <A HREF="k106_7bci.htm"><B>MmMapLockedPagesWithReservedMapping</B></A> routine. The caller unmaps the reserved memory range by calling the <A HREF="k106_64z6.htm"><B>MmUnmapReservedMapping</B></A> routine. Finally, the caller can free the reserved range by calling <A HREF="k106_1vsi.htm"><B>MmFreeMappingAddress</B></A>.</P>

<P>This routine can only be called at IRQL&nbsp;= PASSIVE_LEVEL.</P>

<H4>See Also</H4>

<P><A HREF="k106_1vsi.htm"><B>MmFreeMappingAddress</B></A>, <A HREF="k106_7bci.htm"><B>MmMapLockedPagesWithReservedMapping</B></A>, <A HREF="k106_64z6.htm"><B>MmUnmapReservedMapping</B></A> </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: MmAllocateMappingAddress"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
