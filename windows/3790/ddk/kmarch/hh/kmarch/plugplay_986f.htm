<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Handling Stop IRPs (Windows 2000 and Later)</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Handling Stop IRPs (Windows 2000 and Later)">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Kernel-Mode&nbsp;Driver&nbsp;Architecture:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H2><A NAME="ddk_handling_stop_irps_windows_2000_and_later_kg"></A>Handling Stop IRPs (Windows 2000 and Later)</H2>

<P>Drivers that run only on Windows&nbsp;2000 and later systems (WDM versions 0x10 and greater) receive stop IRPs only when the PnP Manager rebalances resources. The following sections describe techniques such drivers should use in handling stop IRPs:</P>

<P class=indent1><A HREF="plugplay_0skn.htm">Handling an IRP_MN_QUERY_STOP_DEVICE Request (Windows 2000 and Later)</A> </P>

<P class=indent1><A HREF="plugplay_125j.htm">Handling an IRP_MN_STOP_DEVICE Request (Windows 2000 and Later)</A> </P>

<P class=indent1><A HREF="plugplay_9tlz.htm">Handling an IRP_MN_CANCEL_STOP_DEVICE Request (Windows 2000 and Later)</A> </P>

<P class=indent1><A HREF="plugplay_8alj.htm">Holding Incoming IRPs When A Device Is Paused</A> </P>

<P>WDM drivers that also run on Windows 98/Me must handle these IRPs differently. See <A HREF="plugplay_16w7.htm">Handling Stop IRPs (Windows 98/Me)</A> for details.</P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Handling%20Stop%20IRPs%20(Windows%202000%20and%20Later)"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
