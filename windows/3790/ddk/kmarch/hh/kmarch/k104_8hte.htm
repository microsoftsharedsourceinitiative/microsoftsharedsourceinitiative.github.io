<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>IoFreeController</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="IoFreeController">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Kernel-Mode&nbsp;Driver&nbsp;Architecture:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_iofreecontroller_kr"></A>IoFreeController</H1>

<P>The <B>IoFreeController</B> routine releases a previously allocated controller object when the driver has completed an I/O request.</P>

<PRE class=syntax><B>VOID 
</B>  <B>IoFreeController(</B>
<B>    IN PCONTROLLER_OBJECT</B>  <I>ControllerObject</I>
<B>    );</B></PRE>

<H4>Parameters</H4>

<DL>
<DT><I>ControllerObject</I></DT>

<DD>Pointer to the driver’s controller object, which was allocated for the current I/O operation on a particular device by calling <B>IoAllocateController</B>.
</DD>
</DL>

<H4>Return Value</H4>

<P>None</P>

<H4>Headers</H4>

<P>Declared in <I>ntddk.h.</I> Include <I>ntddk.h.</I></P>

<H4>Comments</H4>

<P>The connection between the current target device object and the controller object is released only if no requests are currently queued to the same device. Otherwise, the driver’s ControllerControl routine is called with the next IRP bound through the device controller to the target device.</P>

<P>Callers of <B>IoFreeController</B> must be running at IRQL&nbsp;= DISPATCH_LEVEL.</P>

<H4>See Also</H4>

<P><A HREF="k104_4qia.htm"><B>IoAllocateController</B></A>, <A HREF="k104_7zqq.htm"><B>IoCreateController</B></A>, <A HREF="k104_1yd0.htm"><B>IoDeleteController</B></A> </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: IoFreeController"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
