<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Examples of AMD 64-Bit Alignment Requirements</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT></HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Kernel-Mode&nbsp;Driver&nbsp;Architecture:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H4><A NAME="ddk_examples_of_amd_64_bit_alignment_requirements_kg"></A>Examples of AMD 64-Bit Alignment Requirements</H4>

<P>The following examples show alignment requirements for the 64-bit compiler calling convention:</P>

<H4>Example 1</H4>

<PRE>struct  S1 {
  short a;    
}</PRE>

<P><IMG SRC="images/amdstrc1.gif" ALT="" BORDER=0></P>

<P>The size of this structure is 2 bytes; its alignment is a WORD.</P>

<H4>Example 2</H4>

<PRE>struct {
  int a;
  double b;
  short c;
};</PRE>

<P><IMG SRC="images/amdstrc2.gif" ALT="" BORDER=0></P>

<P>The size of this structure is 24 bytes; its alignment is a QUAD WORD.</P>

<H4>Example 3</H4>

<PRE>struct {
  char a;
  short b;
  char c;
  int d;
};</PRE>

<P><IMG SRC="images/amdstrc3.gif" ALT="" BORDER=0></P>

<P>The size of this structure is 12 bytes; its alignment is a DOUBLE WORD.</P>

<H4>Example 4</H4>

<PRE>union {
  char *p;
  short s;
  long l;
};</PRE>

<P><IMG SRC="images/amdstrc4.gif" ALT="" BORDER=0></P>

<P>The size of this structure is 8 bytes; its alignment is a QUAD WORD.</P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Examples%20of%20AMD%2064-Bit%20Alignment%20Requirements"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
