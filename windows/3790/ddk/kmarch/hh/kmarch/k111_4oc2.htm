<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>ZwMakeTemporaryObject</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="ZwMakeTemporaryObject">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Kernel-Mode&nbsp;Driver&nbsp;Architecture:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_zwmaketemporaryobject_kr"></A>ZwMakeTemporaryObject</H1>

<P>The <B>ZwMakeTemporaryObject</B> routine changes the attributes of an object to make it temporary.</P>

<PRE class=syntax><B>NTSTATUS 
</B>  <B>ZwMakeTemporaryObject(</B>
    <B>IN HANDLE</B>  <I>Handle</I>
    <B>);</B></PRE>

<H4>Parameters</H4>

<DL>
<DT><I>Handle</I></DT>

<DD>Handle to an arbitrary object.  <B>ZwMakeTemporaryObject</B> makes the object a temporary object.
</DD>
</DL>

<H4>Return Value</H4>

<P><B>ZwMakeTemporaryObject</B> returns STATUS_SUCCESS on success, or the appropriate error code on failure.</P>

<H4>Headers</H4>

<P>Declared in <I>wdm.h</I> and <I>ntddk.h</I>. Include <I>wdm.h</I> or <I>ntddk.h</I>.</P>

<H4>Comments</H4>

<P><B>ZwMakeTemporaryObject</B> is a generic routine that operates on any type of object.</P>

<P>An object is permanent if it was created with the OBJ_PERMANENT object attribute specified. (For more information about object attributes, see <A HREF="k109_66uq.htm"><B>InitializeObjectAttributes</B></A>.) A permanent object is created with a reference count of 1, so it is not deleted when it is dereferenced by a driver. </P>

<P>An object is temporary if it is not permanent. <B>ZwMakeTemporaryObject</B> makes the specified object into a temporary object. (If the object is already temporary, then this is a NO-OP.)</P>

<P>A temporary object has a name only as long as its handle count is greater than zero. When the handle count reaches zero, the system deletes the object name and adjusts the pointer count for the object appropriately.</P>

<P>Callers of <B>ZwMakeTemporaryObject</B> must be running at IRQL&nbsp;= PASSIVE_LEVEL.</P>

<H4>See Also</H4>

<P><A HREF="k109_66uq.htm"><B>InitializeObjectAttributes</B></A>, <A HREF="k111_03aq.htm"><B>ZwClose</B></A>, <A HREF="k111_1cfm.htm"><B>ZwCreateDirectoryObject</B></A>, <A HREF="k111_9dte.htm"><B>ZwCreateFile</B></A> </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: ZwMakeTemporaryObject"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
