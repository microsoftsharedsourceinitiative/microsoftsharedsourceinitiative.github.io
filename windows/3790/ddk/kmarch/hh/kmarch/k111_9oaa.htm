<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>ZwUnmapViewOfSection</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="ZwUnmapViewOfSection">
</HEAD>
<BODY TOPMARGIN="0">
<DIV STYLE="display:none;">
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_view_kg_gly">
</OBJECT>
</DIV>


<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Kernel-Mode&nbsp;Driver&nbsp;Architecture:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_zwunmapviewofsection_kr"></A>ZwUnmapViewOfSection</H1>

<P>The <B>ZwUnmapViewOfSection</B> routine unmaps a <A HREF="JavaScript:hhobj_1.Click()">view</A> of a section from the virtual address space of a subject process.</P>

<PRE class=syntax><B>NTSTATUS 
</B>  <B>ZwUnmapViewOfSection(</B>
    <B>IN HANDLE</B>  <I>ProcessHandle</I><B>,</B>
    <B>IN PVOID</B>  <I>BaseAddress</I>
    <B>);</B></PRE>

<H4>Parameters</H4>

<DL>
<DT><I>ProcessHandle</I></DT>

<DD>Handle to a process object that was previously passed to <A HREF="k111_4k6q.htm"><B>ZwMapViewOfSection</B></A>.</DD>

<DT><I>BaseAddress</I></DT>

<DD>Pointer to the base virtual address of the view that is to be unmapped. This value can be any virtual address within the view.
</DD>
</DL>

<H4>Headers</H4>

<P>Declared in <I>wdm.h</I> and <I>ntddk.h</I>. Include <I>wdm.h</I> or <I>ntddk.h</I>. </P>

<H4>Return Value</H4>

<P><B>ZwUnmapViewOfSection</B> returns an NTSTATUS value. Possible return values include:</P>

<P class=indent1>STATUS_SUCCESS <BR>
STATUS_INVALID_PARAMETER<BR>
STATUS_NO_ACCESS</P>

<H4>Comments</H4>

<P>The entire view of the section specified by the <I>BaseAddress</I> parameter is unmapped from the virtual address space of the specified process.</P>

<P>The virtual address region occupied by the view is no longer reserved and is available to map other views or private pages. If the view was also the last reference to the underlying section, then all committed pages in the section are decommitted and the section is deleted.</P>

<P>Callers of <B>ZwUnmapViewOfSection</B> must be running at IRQL&nbsp;= PASSIVE_LEVEL.</P>

<H4>See Also</H4>

<P><A HREF="k111_4k6q.htm"><B>ZwMapViewOfSection</B></A>, <A HREF="k111_4fqq.htm"><B>ZwOpenSection</B></A> </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: ZwUnmapViewOfSection"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
