<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Driver-Managed Queues</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Driver-Managed Queues">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Kernel-Mode&nbsp;Driver&nbsp;Architecture:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_driver_managed_queues_kr"></A>Driver-Managed Queues</H1>

<DL>
<DT><A HREF="k105_60xe.htm"><B>KeInitializeSpinLock</B></A> </DT>

<DD>Initializes a variable of type KSPIN_LOCK. An initialized spin lock is a required parameter to the <B>ExInterlocked<I>Xxx</I>List</B> routines.</DD>

<DT><A HREF="k109_7zua.htm"><B>InitializeListHead</B></A> </DT>

<DD>Sets up a queue header for a driver's internal queue, given a pointer to driver-supplied storage for the queue header and queue. An initialized queue header is a required parameter to the <B>ExInterlockedInsert/Remove<I>Xxx</I>List</B> routines.</DD>

<DT><A HREF="k102_5xv6.htm"><B>ExInterlockedInsertTailList</B></A> </DT>

<DD>Inserts an entry at the tail of a doubly linked list, using a spin lock to ensure multiprocessor-safe access to the list and atomic modification of the list links.</DD>

<DT><A HREF="k102_84oi.htm"><B>ExInterlockedInsertHeadList</B></A> </DT>

<DD>Inserts an entry at the head of a doubly linked list, using a spin lock to ensure multiprocessor-safe access to the list and atomic modification of the links in the list.</DD>

<DT><A HREF="k102_8h82.htm"><B>ExInterlockedRemoveHeadList</B></A> </DT>

<DD>Removes an entry from the head of a doubly linked list, using a spin lock to ensure multiprocessor-safe access to the list and atomic modification of the links in the list.</DD>

<DT><A HREF="k102_68xe.htm"><B>ExInterlockedPopEntryList</B></A> </DT>

<DD>Removes an entry from the head of a singly linked list as an atomic operation, using a spin lock to ensure multiprocessor-safe access to the list.</DD>

<DT><A HREF="k102_8eya.htm"><B>ExInterlockedPushEntryList</B></A> </DT>

<DD>Inserts an entry at the head of a singly linked list as an atomic operation, using a spin lock to ensure multiprocessor-safe access to the list.</DD>

<DT><A HREF="k109_2j76.htm"><B>IsListEmpty</B></A> </DT>

<DD>Returns TRUE if a queue is empty. (This type of doubly linked list is not protected by a spin lock, unless the caller explicitly manages synchronization to queued entries with an initialized spin lock for which the caller supplies the storage.)</DD>

<DT><A HREF="k109_1xyq.htm"><B>InsertTailList</B></A> </DT>

<DD>Queues an entry at the end of the list.</DD>

<DT><A HREF="k109_44s2.htm"><B>InsertHeadList</B></A> </DT>

<DD>Queues an entry at the head of the list.</DD>

<DT><A HREF="k109_4hbm.htm"><B>RemoveHeadList</B></A> </DT>

<DD>Dequeues an entry at the head of the list.</DD>

<DT><A HREF="k109_2aia.htm"><B>RemoveTailList</B></A> </DT>

<DD>Dequeues an entry at the end of the list.</DD>

<DT><A HREF="k109_88c2.htm"><B>RemoveEntryList</B></A> </DT>

<DD>Returns whether a given entry is in the given list and dequeues the entry if it is.</DD>

<DT><A HREF="k109_94tu.htm"><B>PushEntryList</B></A> </DT>

<DD>Inserts an entry into the queue. (This type of singly linked list is not protected by a spin lock, unless the caller explicitly manages synchronization to queued entries with an initialized spin lock for which the caller supplies the storage.)</DD>

<DT><A HREF="k109_6kky.htm"><B>PopEntryList</B></A> </DT>

<DD>Removes an entry from the queue.</DD>

<DT><A HREF="k102_90du.htm"><B>ExInterlockedPopEntrySList</B></A> </DT>

<DD>Removes an entry from the head of a sequenced, singly linked list that was set up with <A HREF="k102_94fm.htm"><B>ExInitializeSListHead</B></A>. </DD>

<DT><A HREF="k102_7pyq.htm"><B>ExInterlockedPushEntrySList</B></A> </DT>

<DD>Queues an entry at the head of a sequenced, singly linked list that was set up with <A HREF="k102_94fm.htm"><B>ExInitializeSListHead</B></A>. </DD>

<DT><A HREF="k102_68xf.htm"><B>ExQueryDepthSList</B></A> </DT>

<DD>Returns the number of entries currently queued in a sequenced, singly linked list. </DD>

<DT><A HREF="k102_1b1u.htm"><B>ExInitializeNPagedLookasideList</B></A> </DT>

<DD>Sets up a lookaside list, protected by a system-supplied spin lock, in nonpaged pool from which the driver can allocate and free blocks of a fixed size. </DD>

<DT><A HREF="k105_09te.htm"><B>KeInitializeDeviceQueue</B></A> </DT>

<DD>Initializes a device queue object to a not-busy state, setting up an associated spin lock for multiprocessor-safe access to device queue entries.</DD>

<DT><A HREF="k105_36b6.htm"><B>KeInsertDeviceQueue</B></A> </DT>

<DD>Acquires the device queue spin lock and queues an entry to a device driver if the device queue is not empty; otherwise, inserts the entry at the tail of the device queue.</DD>

<DT><A HREF="k105_4oxe.htm"><B>KeInsertByKeyDeviceQueue</B></A> </DT>

<DD>Acquires the device queue spin lock and queues an entry to a device driver if the device queue is not empty; otherwise, inserts the entry into the queue according to the given sort-key value.</DD>

<DT><A HREF="k105_01iq.htm"><B>KeRemoveDeviceQueue</B></A> </DT>

<DD>Removes an entry from the head of a given device queue.</DD>

<DT><A HREF="k105_5j8y.htm"><B>KeRemoveByKeyDeviceQueue</B></A> </DT>

<DD>Removes an entry, selected according to the specified sort-key value, from the given device queue.</DD>

<DT><A HREF="k105_6l9u.htm"><B>KeRemoveEntryDeviceQueue</B></A> </DT>

<DD>Determines whether a given entry is in the given device queue and, if so, dequeues the entry.
</DD>
</DL>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Driver-Managed%20Queues"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
