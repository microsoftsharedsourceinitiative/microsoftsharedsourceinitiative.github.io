<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Server Availability Driver Architecture</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Server Availability Driver Architecture">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Server&nbsp;Appliance&nbsp;High&nbsp;Availability&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_server_availability_driver_architecture_sa"></A>Server Availability Driver Architecture</H1>

<P>Server availability (SA) drivers are used to communicate with server availability devices. These devices make a server appliance that is powered by Microsoft® Windows® Server 2003 and later available to users even if the network fails. A server availability miniport driver uses the services of the system-supplied server availability port driver. To use these services, the source code for an SA miniport driver must include the <I>saport.h</I> header file, which in turn includes the <I>saio.h</I> header file. In addition, when you build your SA driver, you must link it to the SA port library (<I>saport.lib</I>). </P>

<P>An SA miniport driver exposes a callback interface to the SA port driver. The port driver uses this interface to initialize and control the SA device.</P>

<P>The following figure shows an architectural overview for SA drivers. </P>

<P><IMG SRC="images/sa_arch.gif" ALT="" BORDER=0></P>

<P><B>Server availability driver architecture</B></P>

<P>The Windows Server 2003 supplies the watchdog miniport driver, <I>wd.sys</I>, for a watchdog timer device. However, the following SA miniport drivers must be created for their associated SA devices:</P>

<P class=indent1><A HREF="saintro_06xt.htm">Keypad Miniport Driver</A></P>

<P class=indent1><A HREF="saintro_7mht.htm">Local Display Miniport Driver</A></P>

<P class=indent1><A HREF="saintro_1ztt.htm">NVRAM Miniport Driver</A></P>

<P>Each SA miniport driver must <A HREF="saintro_7uht.htm">report the version of the SA interface</A> that it supports.</P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Server%20Availability%20Driver%20Architecture"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
