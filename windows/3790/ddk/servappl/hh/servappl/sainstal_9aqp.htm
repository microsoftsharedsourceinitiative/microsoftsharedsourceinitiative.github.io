<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Summary of SA INF Sections and Directives</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Summary of SA INF Sections and Directives">
</HEAD>
<BODY TOPMARGIN="0">
<DIV STYLE="display:none;">
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_inf_version_section_dr">
</OBJECT>
<OBJECT ID="hhobj_2" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_inf_manufacturer_section_dr">
</OBJECT>
<OBJECT ID="hhobj_3" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_inf_models_section_dr">
</OBJECT>
<OBJECT ID="hhobj_4" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_inf_ddinstall_section_dr">
</OBJECT>
<OBJECT ID="hhobj_5" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_inf_destinationdirs_section_dr">
</OBJECT>
<OBJECT ID="hhobj_6" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_inf_sourcedisksnames_section_dr">
</OBJECT>
<OBJECT ID="hhobj_7" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_inf_sourcedisksfiles_section_dr">
</OBJECT>
<OBJECT ID="hhobj_8" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_inf_ddinstall.services_section_dr">
</OBJECT>
<OBJECT ID="hhobj_9" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_inf_addservice_directive_dr">
</OBJECT>
<OBJECT ID="hhobj_10" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_inf_addreg_directive_dr">
</OBJECT>
<OBJECT ID="hhobj_11" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_inf_strings_section_dr">
</OBJECT>
</DIV>


<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Server&nbsp;Appliance&nbsp;High&nbsp;Availability&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_summary_of_sa_inf_sections_and_directives_sa"></A>Summary of SA INF Sections and Directives</H1>

<P>This section describes the INF file sections in the same order that they generally appear in server availability (SA) device INF files. However, these sections actually can be specified in any arbitrary order. The Setup code finds all sections within each INF file by section name, not by sequential order, whether system-defined or INF-writer-defined. 

<DL>
<DT><A HREF="JavaScript:hhobj_1.Click()"><B>Version</B> Section</A> </DT>

<DD>This section must specify the following entries with the indicated values: 

<UL>
	<LI><B>Signature</B> entry as the <B>$Windows NT$</B> value. This value indicates that the INF is only valid for NT-based operating systems.</LI>

	<LI><B>Class</B> entry as "Unknown".</LI>

	<LI><B>ClassGUID</B> entry as {4D36E97E-E325-11CE-BFC1-08002BE10318}.</LI>
</UL>
</DD>

<DT><A HREF="JavaScript:hhobj_2.Click()"><B>Manufacturer</B> Section</A> </DT>

<DD>This section references the INF-writer-defined <I>Models</I> section. </DD>

<DT><A HREF="JavaScript:hhobj_3.Click()"><I>Models</I> Section</A> (per <B>Manufacturer</B> entry) </DT>

<DD>This section references the INF-writer-defined <I>DDInstall</I> and <I>DDInstall</I><B>.Services</B> sections for the SA device, and specifies the hardware identifier for the SA device.</DD>

<DT><A HREF="JavaScript:hhobj_4.Click()"><I>DDInstall</I> Section</A> (per <I>Models</I> entry) </DT>

<DD>This section contains a <B>CopyFiles</B> directive. This directive references the INF-writer-defined section in which the SA driver files on the source media are specified for transfer to the destination. An INF file for an SA device must specify the SA port driver (<I>saport.sys</I>) along with device's SA miniport driver.</DD>

<DT><A HREF="JavaScript:hhobj_5.Click()"><B>DestinationDirs</B> Section</A> </DT>

<DD>This section specifies a default destination directory where the SA driver files are copied. SA INF files use the <B>DefaultDestDir</B> entry and specify the entry's value as 12. This value causes the operating system to copy the SA driver files to the system's <I>%windir%</I><B>\</B><I>system32</I><B>\</B><I>drivers</I> directory. </DD>

<DT><A HREF="JavaScript:hhobj_6.Click()"><B>SourceDisksNames</B> Section</A> </DT>

<DD>This section identifies the source distribution disks for the installation. An SA INF file typically identifies only one disk.</DD>

<DT><A HREF="JavaScript:hhobj_7.Click()"><B>SourceDisksFiles</B> Section</A> </DT>

<DD>This section identifies on which source distribution disks the SA driver files are located. Because an SA INF file typically identifies only one source distribution disk, the disk identifier for each driver file is set to 1. </DD>

<DT><A HREF="JavaScript:hhobj_8.Click()"><I>DDInstall</I><B>.Services</B> Section</A> </DT>

<DD>This section contains an <A HREF="JavaScript:hhobj_9.Click()"><B>AddService</B> directive</A>. This directive specifies the SA miniport driver's name and references an INF-writer-defined section that controls how and when the driver is started. This INF-writer-defined section must specify the following directives and entries with the indicated values: 

<UL>
	<LI><B>ServiceType</B> entry as 1. This value indicates that the INF supports a device. </LI>

	<LI><B>StartType</B> entry with a value to indicate how the driver is started. An SA INF file for an NVRAM device sets this value to 0 to indicate that the NVRAM miniport driver is started by the operating system loader at boot time. SA INF files for keypad and local display devices set this value to 1 to indicate that their miniport drivers are started by Plug and Play during operating system initialization. </LI>

	<LI><B>ErrorControl</B> entry as 1. This value indicates that if the driver fails to load a warning is displayed to the user.</LI>

	<LI><B>ServiceBinary</B> entry specifies the path to the driver binary. Because the <B>DestinationDirs</B> section specifies a value (12) that causes the driver to be copied to the operating system's <I>%windir%</I><B>\</B><I>system32</I><B>\</B><I>drivers</I> directory, an SA INF file indicates the path to the <I>SAdriver.sys</I> file as: <BR>
%12%\<I>SAdriver.sys</I>.</LI>

	<LI><A HREF="JavaScript:hhobj_10.Click()"><B>AddReg</B> directive</A> that references an INF-writer-defined section that sets up registry information for the driver. <B>HKR</B> specifications in such a section designate the <B>HKLM\System\CurrentControlSet\Services\</B><I>DriverName</I> registry key Note that <I>DriverName</I> was specified in the <B>AddService</B> directive. </LI>
</UL>
</DD>

<DT><A HREF="JavaScript:hhobj_11.Click()"><B>Strings</B> Section</A> </DT>

<DD>This section defines each <B>%</B><I>strkey</I><B>%</B> token specified in the INF. 


</DD>
</DL>

<P></P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Summary%20of%20SA%20INF%20Sections%20and%20Directives"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
