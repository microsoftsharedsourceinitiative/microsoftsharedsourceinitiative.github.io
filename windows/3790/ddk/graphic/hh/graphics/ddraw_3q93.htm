<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Losing Driver-Managed Textures</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Losing Driver-Managed Textures">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Display&nbsp;and&nbsp;Print&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H3><A NAME="ddk_losing_driver_managed_textures_gg"></A>Losing Driver-Managed Textures</H3>

<P>Driver-managed texture surfaces, which consume video memory, need the ability to be placed in a suspended state (lost). Because the driver controls the allocation of video memory for driver-managed texture surfaces, a method notifies the driver when such texture surfaces need to be lost through an extension to the <A HREF="ddfncs_1c4n.htm"><I>DdDestroySurface</I></A> call. </P>

<P>When a driver-managed texture surface (marked with the DDSCAPS2_TEXTUREMANAGE flag) is lost, the driver receives a special <I>DdDestroySurface</I> call with DDRAWISURF_INVALID specified in the <B>dwFlags</B> member of the texture surface structure. The driver should free video memory associated with the managed texture surface, but should not free any other private surface information including the backing (system memory) image of the video memory copy of the surface. There will be no new <A HREF="ddfncs_6bdz.htm"><I>DdCreateSurface</I></A> call to restore the lost driver-managed texture surfaces because they are not really lost from the driver's point of view. For the most part, this special <I>DdDestroySurface</I> call is used to inform the driver that it should evict its video memory copy.</P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Losing%20Driver-Managed%20Textures"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
