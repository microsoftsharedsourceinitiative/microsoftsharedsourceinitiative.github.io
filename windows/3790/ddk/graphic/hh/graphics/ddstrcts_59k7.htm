<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>DDSURFACEDESC2</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="DDSURFACEDESC2">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Display&nbsp;and&nbsp;Print&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_ddsurfacedesc2_gg"></A>DDSURFACEDESC2</H1>

<P>The DDSURFACEDESC2 structure contains a description of a surface to be created by the driver.</P>

<PRE class=syntax>typedef struct _DDSURFACEDESC2 {
  DWORD  dwSize;
  DWORD  dwFlags;
  DWORD  dwHeight;
  DWORD  dwWidth; 
  union {
  LONG  lPitch;
  DWORD  dwLinearSize; 
  } ;
  DWORD  dwBackBufferCount; 
  union {
  DWORD  dwMipMapCount; 
  DWORD  dwRefreshRate;  
  DWORD  dwSrcVBHandle; 
  } ;
  DWORD  dwAlphaBitDepth;  
  DWORD  dwReserved; 
  LPVOID  lpSurface; 
  union {
  DDCOLORKEY  ddckCKDestOverlay;   
  DWORD  dwEmptyFaceColor;    
  } ;
  DDCOLORKEY  ddckCKDestBlt;     
  DDCOLORKEY  ddckCKSrcOverlay;    
  DDCOLORKEY  ddckCKSrcBlt;     
  union {
  DDPIXELFORMAT  ddpfPixelFormat;    
  DWORD  dwFVF;  
  } ;
  DDSCAPS2  ddsCaps;  
  DWORD  dwTextureStage;   
} DDSURFACEDESC2;</PRE>

<H4>Members</H4>

<DL>
<DT><B>dwSize</B> </DT>

<DD>Specifies the size in bytes of this DDSURFACEDESC2 structure. This member must be initialized before the structure is used. </DD>

<DT><B>dwFlags</B> </DT>

<DD>Specifies a set of flags that determine what members of the DDSURFACEDESC2 structure contain valid data. This member can be one or more of the following flags:

<TABLE>

<TR VALIGN="top">
<TH align=left width=48%>Flag</TH>
<TH align=left width=52%>Meaning</TH>
</TR>

<TR VALIGN="top">
<TD width=48%>DDSD_ALL</TD>
<TD width=52%>All input members contain valid data.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>DDSD_ALPHABITDEPTH</TD>
<TD width=52%>The <B>dwAlphaBitDepth</B> member is valid.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>DDSD_BACKBUFFERCOUNT</TD>
<TD width=52%>The <B>dwBackBufferCount</B> member is valid.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>DDSD_CAPS</TD>
<TD width=52%>The <B>ddsCaps</B> member is valid.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>DDSD_CKDESTBLT</TD>
<TD width=52%>The <B>ddckCKDestBlt</B> member is valid.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>DDSD_CKDESTOVERLAY</TD>
<TD width=52%>The <B>ddckCKDestOverlay</B> member is valid.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>DDSD_CKSRCBLT</TD>
<TD width=52%>The <B>ddckCKSrcBlt</B> member is valid.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>DDSD_CKSRCOVERLAY</TD>
<TD width=52%>The <B>ddckCKSrcOverlay</B> member is valid.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>DDSD_FVF</TD>
<TD width=52%>The <B>dwFVF</B> member is valid.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>DDSD_HEIGHT</TD>
<TD width=52%>The <B>dwHeight</B> member is valid.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>DDSD_LINEARSIZE</TD>
<TD width=52%>The <B>dwLinearSize</B> member is valid.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>DDSD_LPSURFACE</TD>
<TD width=52%>The <B>lpSurface</B> member is valid.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>DDSD_MIPMAPCOUNT</TD>
<TD width=52%>The <B>dwMipMapCount</B> member is valid.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>DDSD_PITCH</TD>
<TD width=52%>The <B>lPitch</B> member is valid.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>DDSD_PIXELFORMAT</TD>
<TD width=52%>The <B>ddpfPixelFormat</B> member is valid.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>DDSD_REFRESHRATE</TD>
<TD width=52%>The <B>dwRefreshRate</B> member is valid.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>DDSD_SRCVBHANDLE</TD>
<TD width=52%>The <B>dwSrcVBHandle</B> member is valid.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>DDSD_TEXTURESTAGE</TD>
<TD width=52%>The <B>dwTextureStage</B> member is valid.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>DDSD_WIDTH</TD>
<TD width=52%>The <B>dwWidth</B> member is valid.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>DDSD_ZBUFFERBITDEPTH</TD>
<TD width=52%>This flag is not used in DDSURFACEDESC2. It is only used in <A HREF="ddstrcts_2y7b.htm">DDSURFACEDESC</A>.</TD>
</TR>
</TABLE><BR>

</DD>

<DT><B>dwHeight</B> </DT>

<DD>Specifies the height of surface in pixels.</DD>

<DT><B>dwWidth</B> </DT>

<DD>Specifies the width of the surface in pixels.</DD>

<DT><B>lPitch</B> </DT>

<DD>Specifies the number of bytes between the beginnings of two adjacent scan lines; that is, the number of bytes to add to the beginning address of one scan line to reach the beginning address of the next scan line below it. The driver's <A HREF="ddfncs_6bdz.htm"><I>DdCreateSurface</I></A> callback must return this value.</DD>

<DT><B>dwLinearSize</B></DT>

<DD>Specifies the size of a formless, late-allocated, optimized surface.</DD>

<DT><B>dwBackBufferCount</B> </DT>

<DD>Specifies the number of back buffers associated with the surface.</DD>

<DT><B>dwMipMapCount</B> </DT>

<DD>Specifies the number of mipmap levels.</DD>

<DT><B>dwZBufferBitDepth</B> </DT>

<DD>Removed in DDSURFACEDESC2. Use the <B>ddpfPixelFormat</B> member of this structure instead.</DD>

<DT><B>dwRefreshRate</B> </DT>

<DD>Specifies the refresh rate of the monitor (used when the display mode is described). </DD>

<DT><B>dwSrcVBHandle</B></DT>

<DD>Specifies the source used in <B>IDirect3DVertexBuffer7::Optimize</B> (described in the Direct3D SDK documentation).</DD>

<DT><B>dwAlphaBitDepth</B> </DT>

<DD>Specifies the depth of the alpha buffer in bits per pixel.</DD>

<DT><B>dwReserved</B> </DT>

<DD>Reserved and should be set to zero.</DD>

<DT><B>lpSurface</B> </DT>

<DD>Specifies the address of the associated surface memory. </DD>

<DT><B>ddckCKDestOverlay</B> </DT>

<DD>Specifies the color key for destination overlay use. </DD>

<DT><B>dwEmptyFaceColor</B></DT>

<DD>Specifies the physical color for empty cube map faces.</DD>

<DT><B>ddckCKDestBlt</B> </DT>

<DD>Specifies the color key for destination blit use. </DD>

<DT><B>ddckCKSrcOverlay</B> </DT>

<DD>Specifies the color key for source overlay use. </DD>

<DT><B>ddckCKSrcBlt</B> </DT>

<DD>Specifies the color key for source blit use. </DD>

<DT><B>ddpfPixelFormat</B> </DT>

<DD>Specifies a <A HREF="ddstrcts_6wtj.htm">DDPIXELFORMAT</A> structure that describes the pixel format of the surface.</DD>

<DT><B>dwFVF</B></DT>

<DD>Specifies the Flexible Vertex Format (<A HREF="d3d_449z.htm">FVF</A>) for the vertex buffers.</DD>

<DT><B>ddsCaps</B> </DT>

<DD>Specifies a <A HREF="ddstrcts_6zhj.htm">DDSCAPS</A> structure that contains the DirectDraw surface capabilities. </DD>

<DT><B>dwTextureStage</B></DT>

<DD>Specifies the stage in the multitexture cascade.
</DD>
</DL>

<H4>Headers</H4>

<P>Defined in <I>ddraw.h.</I> Include <I>ddraw.h</I>.</P>

<H4>Comments</H4>

<P>The relevant members differ for each potential type of surface. This structure is typically created and initialized by an application.</P>

<H4>See Also</H4>

<P><A HREF="ddfncs_6bdz.htm"><I>DdCreateSurface</I></A>, <A HREF="ddstrcts_6wtj.htm">DDPIXELFORMAT</A>, <A HREF="ddstrcts_6zhj.htm">DDSCAPS</A> </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: DDSURFACEDESC2"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
