<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>VIDEOMEMORYINFO</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="VIDEOMEMORYINFO">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Display&nbsp;and&nbsp;Print&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_videomemoryinfo_gg"></A>VIDEOMEMORYINFO</H1>

<P>The VIDEOMEMORYINFO structure describes the general format of the display's memory.</P>

<PRE class=syntax>typedef struct _VIDEOMEMORYINFO {
  FLATPTR  fpPrimary;
  DWORD  dwFlags;
  DWORD  dwDisplayWidth;
  DWORD  dwDisplayHeight;
  LONG   lDisplayPitch;
  DDPIXELFORMAT  ddpfDisplay;
  DWORD  dwOffscreenAlign;
  DWORD  dwOverlayAlign;
  DWORD  dwTextureAlign;
  DWORD  dwZBufferAlign;
  DWORD  dwAlphaAlign;
  PVOID  pvPrimary;
  DWORD  dwNumHeaps;
  LPVIDMEM  pvmList;
} VIDEOMEMORYINFO, *LPVIDEOMEMORYINFO;</PRE>

<H4>Members</H4>

<DL>
<DT><B>fpPrimary</B></DT>

<DD>Specifies the offset, in bytes, in display memory to the primary surface.</DD>

<DT><B>dwFlags</B></DT>

<DD>Currently unused and should be set to zero.</DD>

<DT><B>dwDisplayWidth</B></DT>

<DD>Specifies the current width of the display, in pixels.</DD>

<DT><B>dwDisplayHeight</B></DT>

<DD>Specifies the current height of the display, in pixels.</DD>

<DT><B>lDisplayPitch</B></DT>

<DD>Specifies the current pitch of the display, in bytes.</DD>

<DT><B>ddpfDisplay</B></DT>

<DD>Specifies a <A HREF="ddstrcts_6wtj.htm">DDPIXELFORMAT</A> structure in which the pixel format of the display is described. </DD>

<DT><B>dwOffscreenAlign</B></DT>

<DD>Specifies the byte alignment required when allocating this memory for offscreen surfaces.</DD>

<DT><B>dwOverlayAlign</B></DT>

<DD>Specifies the byte alignment required when allocating this memory for overlay planes.</DD>

<DT><B>dwTextureAlign</B></DT>

<DD>Specifies the byte alignment required when allocating this memory for textures.</DD>

<DT><B>dwZBufferAlign</B></DT>

<DD>Specifies the byte alignment required when allocating this memory for the depth buffer.</DD>

<DT><B>dwAlphaAlign</B></DT>

<DD>Specifies the byte alignment required when allocating this memory for an alpha buffer.</DD>

<DT><B>pvPrimary (Windows 2000 and later only)</B></DT>

<DD>Specifies a kernel-mode pointer to the beginning of the primary surface.</DD>

<DT><B>dwNumHeaps (Windows 98/Me only)</B></DT>

<DD>Specifies the number of memory heaps in <B>pvmList</B>.</DD>

<DT><B>pvmList (Windows 98/Me only)</B></DT>

<DD>Points to the first heap in an array of heaps.
</DD>
</DL>

<H4>Headers</H4>

<P>Defined in <I>ddrawint.h</I>. Include <I>winddi.h</I>.</P>

<H4>Comments</H4>

<P>The VIDEOMEMORYINFO structure has minor differences between Windows&nbsp;98/Me and Windows&nbsp;2000 and later. On Windows&nbsp;2000 and later the data structure is called VIDEOMEMORYINFO and on Windows&nbsp;98/Me the data structure is called VIDMEMINFO. On Windows&nbsp;2000 and later, VIDEOMEMORYINFO includes a field <B>pvPrimary</B> that stores a kernel-mode pointer to the primary surface. On Windows&nbsp;98/Me, VIDMEMINFO includes the fields <B>dwNumHeaps</B> and <B>pvmList</B> that specify an array of memory heaps.</P>

<P>GDI allocates memory for and passes a VIDEOMEMORYINFO structure to the driver's <A HREF="ddfncs_4yav.htm"><I>DrvGetDirectDrawInfo</I></A> function as a member of the DD_HALINFO parameter. The driver should fill in the appropriate members to describe the general characteristics of the device's memory.</P>

<H4>See Also</H4>

<P><A HREF="ddstrcts_6wtj.htm">DDPIXELFORMAT</A>, <A HREF="ddfncs_4yav.htm"><I>DrvGetDirectDrawInfo</I></A> </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: VIDEOMEMORYINFO"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
