<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Return Codes for Direct3D Driver Callbacks</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Return Codes for Direct3D Driver Callbacks">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Display&nbsp;and&nbsp;Print&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H2><A NAME="ddk_return_codes_for_direct3d_driver_callbacks_gg"></A>Return Codes for Direct3D Driver Callbacks</H2>

<P>The following table lists values that can be returned by the <A HREF="d3dfncs_4nqf.htm">Direct3D Driver-Supplied Functions</A>. The DDHAL_DRIVER_<I>Xxx</I> values actually are returned in the DWORD return value. The D3D_OK value, D3DHAL_<I>Xxx</I> values, and D3DERR_<I>Xxx</I> error codes are returned in the <B>ddrval</B> member of the structure to which the particular function's parameter points. </P>

<P>For specific error codes that each function can return, see the function and structure descriptions in the reference section. Refer to Direct3D header files <I>d3d.h</I> and <I>d3dhal.h</I> for a complete listing of error codes and return values (also, <I>d3d8.h</I> and <I>d3d9.h</I> for DirectX versions 8.0 and 9.0). Note that error codes are represented by negative values and cannot be combined. </P>

<P>A function in a Direct3D driver must return one of the two return codes: DDHAL_DRIVER_HANDLED or DDHAL_DRIVER_NOTHANDLED. If the driver returns DDHAL_DRIVER_HANDLED, then it must also return either D3D_OK or one of the values listed in <I>d3d.h</I> or <I>d3dhal.h</I>. A function in a Direct3D driver can return the values in the following table. These values are defined in <I>d3d.h</I> and <I>d3dhal.h</I>.</P>

<TABLE>

<TR VALIGN="top">
<TH align=left width=48%>Value</TH>
<TH align=left width=52%>Meaning</TH>
</TR>

<TR VALIGN="top">
<TD width=48%>D3D_OK (defined as DD_OK)</TD>
<TD width=52%>The request completed successfully.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>D3DHAL_CONTEXT_BAD</TD>
<TD width=52%>The context that was passed in was not valid.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>DDHAL_DRIVER_HANDLED</TD>
<TD width=52%>The driver has performed the operation and returned a valid return code for that operation in the <B>ddrval</B> member of the structure passed to the driver's callback. If this code is D3D_OK, Direct3D proceeds with the function. Otherwise, Direct3D returns the error code provided by the driver and aborts the function. </TD>
</TR>

<TR VALIGN="top">
<TD width=48%>DDHAL_DRIVER_NOTHANDLED</TD>
<TD width=52%>The driver has no comment on the requested operation. If the driver is required to have implemented a particular callback, Direct3D reports an error condition. Otherwise, Direct3D handles the operation as if the driver callback had not been defined by executing the Direct3D device-independent implementation. Direct3D typically ignores any value returned in the <B>ddrval</B> member of that callback's parameter structure.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>D3DHAL_OUTOFCONTEXTS</TD>
<TD width=52%>There are no more contexts left in this process.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>D3DERR_UNSUPPORTEDCOLOROPERATION</TD>
<TD width=52%>The color operation is not supported.</TD>
</TR>
</TABLE><BR>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Return%20Codes%20for%20Direct3D%20Driver%20Callbacks"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
