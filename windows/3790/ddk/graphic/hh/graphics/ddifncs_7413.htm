<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>DrvQueryAdvanceWidths</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="DrvQueryAdvanceWidths">
</HEAD>
<BODY TOPMARGIN="0">
<DIV STYLE="display:none;">
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_pdev_gg_gly">
</OBJECT>
</DIV>


<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Display&nbsp;and&nbsp;Print&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_drvqueryadvancewidths_gg"></A><I>DrvQueryAdvanceWidths</I></H1>

<P>The <I>DrvQueryAdvanceWidths</I> function returns character advance widths for a specified set of glyphs.</P>

<PRE class=syntax><B>BOOL
  </B><I>DrvQueryAdvanceWidths</I><B>(</B>
    <B>IN DHPDEV</B>  <I>dhpdev</I><B>,</B>
    <B>IN FONTOBJ</B>  <I>*pfo</I><B>,</B>
    <B>IN ULONG</B>  <I>iMode</I><B>,</B>
    <B>IN HGLYPH</B>  <I>*phg</I><B>,</B>
    <B>OUT PVOID</B>  <I>pvWidths</I><B>,</B>
    <B>IN ULONG</B>  <I>cGlyphs</I>
<B>    );</B></PRE>

<H4>Parameters</H4>

<DL>
<DT><I>dhpdev</I></DT>

<DD>Handle to the physical device's <A HREF="JavaScript:hhobj_1.Click()">PDEV</A> that was previously returned by <A HREF="ddifncs_0zzb.htm"><I>DrvEnablePDEV</I></A>.</DD>

<DT><I>pfo</I></DT>

<DD>Pointer to a <A HREF="grstrcts_3w9z.htm">FONTOBJ</A> structure that identifies the font instance.</DD>

<DT><I>iMode</I></DT>

<DD>Specifies the type of information to be provided. This parameter can be one of the following values:

<TABLE>

<TR VALIGN="top">
<TH align=left width=35%>Value</TH>
<TH align=left width=65%>Meaning</TH>
</TR>

<TR VALIGN="top">
<TD width=35%>QAW_GETEASYWIDTHS</TD>
<TD width=65%>The character advance widths are returned as an array of 12.4 fixed-point numbers. This mode will not be used if the widths exceed the range of the 12.4 representation. This routine should compute widths as quickly as possible. If the computation of a glyph's character advance width cannot be accomplished efficiently, the driver should write 0xFFFF into the buffer for that glyph. The function returns DDI_ERROR if an error occurs, FALSE if not all widths can be efficiently computed for this mode, or TRUE in all other cases.</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>QAW_GETWIDTHS</TD>
<TD width=65%>The character advance widths are recorded as an array of 12.4 fixed-point numbers. This mode will not be used if the widths exceed the range of the 12.4 representation. The function returns TRUE if successful.</TD>
</TR>
</TABLE><BR>

</DD>

<DT><I>phg</I></DT>

<DD>Pointer to an array of glyph handles that specify the glyphs for which the driver will return character advance widths.</DD>

<DT><I>pvWidths</I></DT>

<DD>Pointer to a buffer where the driver will record data.</DD>

<DT><I>cGlyphs</I></DT>

<DD>Specifies the number of glyphs in the input buffer pointed to by <I>phg</I>.
</DD>
</DL>

<H4>Return Value</H4>

<P>The return value is dependent on the value of the <I>iMode</I> parameter.</P>

<H4>Headers</H4>

<P>Declared in <I>winddi.h</I>. Include <I>winddi.h</I>.</P>

<H4>See Also</H4>

<P><A HREF="ddifncs_0zzb.htm"><I>DrvEnablePDEV</I></A>, <A HREF="grstrcts_3w9z.htm">FONTOBJ</A> </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: DrvQueryAdvanceWidths"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
