<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>VIDEO_PORT_AGP_INTERFACE_2</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="VIDEO_PORT_AGP_INTERFACE_2">
</HEAD>
<BODY TOPMARGIN="0">
<DIV STYLE="display:none;">
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_interface_dr">
</OBJECT>
</DIV>


<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Display&nbsp;and&nbsp;Print&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_video_port_agp_interface_2_gg"></A>VIDEO_PORT_AGP_INTERFACE_2</H1>

<P>The VIDEO_PORT_AGP_INTERFACE_2 structure describes the AGP service routines provided by the video port driver.</P>

<PRE class=syntax>typedef struct _VIDEO_PORT_AGP_INTERFACE_2 {
  SHORT  Size;
  SHORT  Version;
  PVOID  Context;
  PINTERFACE_REFERENCE  InterfaceReference;
  PINTERFACE_DEREFERENCE  InterfaceDereference;
  PAGP_RESERVE_PHYSICAL  AgpReservePhysical;
  PAGP_RELEASE_PHYSICAL  AgpReleasePhysical;
  PAGP_COMMIT_PHYSICAL  AgpCommitPhysical;
  PAGP_FREE_PHYSICAL  AgpFreePhysical;
  PAGP_RESERVE_VIRTUAL  AgpReserveVirtual;
  PAGP_RELEASE_VIRTUAL  AgpReleaseVirtual;
  PAGP_COMMIT_VIRTUAL  AgpCommitVirtual;
  PAGP_FREE_VIRTUAL  AgpFreeVirtual;
  ULONGLONG  AgpAllocationLimit;
  PAGP_SET_RATE  AgpSetRate;
} VIDEO_PORT_AGP_INTERFACE_2, *PVIDEO_PORT_AGP_INTERFACE_2;</PRE>

<H4>Members</H4>

<DL>
<DT><B>Size</B></DT>

<DD>Specifies the size in bytes of this structure.</DD>

<DT><B>Version</B></DT>

<DD>Specifies the version of the interface to be returned by the video port driver. The current interface version is defined in <I>video.h</I> and has the form VIDEO_PORT_AGP_INTERFACE_<I>N</I>.</DD>

<DT><B>Context</B></DT>

<DD>Pointer to a video port driver-defined context for the interface.</DD>

<DT><B>InterfaceReference</B></DT>

<DD>Pointer to the video port driver-implemented reference routine for this interface.</DD>

<DT><B>InterfaceDereference</B></DT>

<DD>Pointer to the video port driver-implemented dereference routine for this interface.</DD>

<DT><B>AgpReservePhysical</B></DT>

<DD>Pointer to the video port driver-implemented <A HREF="vpfncs_9b53.htm"><I>AgpReservePhysical</I></A> routine.</DD>

<DT><B>AgpReleasePhysical</B></DT>

<DD>Pointer to the video port driver-implemented <A HREF="vpfncs_37l3.htm"><I>AgpReleasePhysical</I></A> routine.</DD>

<DT><B>AgpCommitPhysical</B></DT>

<DD>Pointer to the video port driver-implemented <A HREF="vpfncs_9gkn.htm"><I>AgpCommitPhysical</I></A> routine.</DD>

<DT><B>AgpFreePhysical</B></DT>

<DD>Pointer to the video port driver-implemented <A HREF="vpfncs_9btz.htm"><I>AgpFreePhysical</I></A> routine.</DD>

<DT><B>AgpReserveVirtual</B></DT>

<DD>Pointer to the video port driver-implemented <A HREF="vpfncs_4h47.htm"><I>AgpReserveVirtual</I></A> routine.</DD>

<DT><B>AgpReleaseVirtual</B></DT>

<DD>Pointer to the video port driver-implemented <A HREF="vpfncs_8lk7.htm"><I>AgpReleaseVirtual</I></A> routine.</DD>

<DT><B>AgpCommitVirtual</B></DT>

<DD>Pointer to the video port driver-implemented <A HREF="vpfncs_40br.htm"><I>AgpCommitVirtual</I></A> routine.</DD>

<DT><B>AgpFreeVirtual</B></DT>

<DD>Pointer to the video port driver-implemented <A HREF="vpfncs_1i93.htm"><I>AgpFreeVirtual</I></A> routine.</DD>

<DT><B>AgpAllocationLimit</B></DT>

<DD>Specifies the maximum total number of bytes of AGP memory that a miniport driver can commit.</DD>

<DT><B>AgpSetRate</B></DT>

<DD>Pointer to the video port driver-implemented <A HREF="vpfncs_6hbb.htm"><I>AgpSetRate</I></A> routine.
</DD>
</DL>

<H4>Headers</H4>

<P>Declared in <I>video.h</I>. Include <I>video.h</I>.</P>

<H4>Comments</H4>

<P>PnP video miniport drivers that can use AGP must fill in the <B>Size</B> and <B>Version</B> members, and then call the <A HREF="vpfncs_9m7b.htm"><B>VideoPortQueryServices</B></A> function, which initializes the remaining members of this structure.</P>

<P>This structure is identical to the <A HREF="vstrcts_41bb.htm">VIDEO_PORT_AGP_INTERFACE</A> structure, except for the <B>AgpSetRate</B> member, which that structure lacks. Video miniport drivers should first attempt to use VIDEO_PORT_AGP_INTERFACE_2 in a call to <B>VideoPortQueryServices</B>. If that call fails, due to the fact that the AGP filter driver does not support the newer version of the AGP interface, the video miniport driver can make a second call to <B>VideoPortQueryServices</B>, this time passing a VIDEO_PORT_AGP_INTERFACE structure.</P>

<H4>See Also</H4>

<P><A HREF="vpfncs_9m7b.htm"><B>VideoPortQueryServices</B></A>, <A HREF="JavaScript:hhobj_1.Click()">INTERFACE</A>, <A HREF="vstrcts_41bb.htm">VIDEO_PORT_AGP_INTERFACE</A></P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: VIDEO_PORT_AGP_INTERFACE_2"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
