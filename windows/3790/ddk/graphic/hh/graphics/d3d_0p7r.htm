<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Dynamic Vertex and Index Buffers</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT></HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Display&nbsp;and&nbsp;Print&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H4><A NAME="ddk_dynamic_vertex_and_index_buffers_gg"></A>Dynamic Vertex and Index Buffers</H4>

<P>A dynamic vertex or index buffer is a resource that an application frequently locks and writes to. When a dynamic buffer is locked in a call to the driver's <A HREF="d3dfncs_1bqf.htm"><I>LockD3DBuffer</I></A> function, the DDLOCK_OKTOSWAP bit (also known as the D3DLOCK_DISCARD bit) of the <B>dwFlags</B> member of the DD_LOCKDATA structure can be set to indicate that the caller does not require the existing contents of the buffer. Therefore, the driver can discard the contents before returning the pointer to the buffer data. Because the caller does not require the existing contents, the driver can rename the buffer by setting the <B>fpVidMem</B> member of the DD_SURFACE_GLOBAL structure for the buffer to a new value. By renaming the buffer (that is, setting up multiple buffering), the driver avoids hardware stalling. </P>

<P>The DDLOCK_OKTOSWAP bit can only be set to lock dynamic buffers and never to lock static buffers. </P>

<P>Note that drivers should store dynamic buffers in <A HREF="ddraw_3spz.htm">AGP</A> memory because if dynamic buffers are stored in local video memory and an application writes data into those buffers in a nonsequential manner, bus performance might be seriously affected. </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Dynamic%20Vertex%20and%20Index%20Buffers"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
