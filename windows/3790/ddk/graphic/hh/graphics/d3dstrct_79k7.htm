<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>DD_FREE_DEFERRED_AGP_DATA</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="DD_FREE_DEFERRED_AGP_DATA">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Display&nbsp;and&nbsp;Print&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_dd_free_deferred_agp_data_gg"></A>DD_FREE_DEFERRED_AGP_DATA</H1>

<P><B>DirectX 8.0 and later versions and NT-based operating systems only.</B></P>

<P>DD_FREE_DEFERRED_AGP_DATA is the data structure pointed to by the <B>lpvData</B> field of <A HREF="ddstrcts_3ijr.htm">DD_GETDRIVERINFODATA</A> for <A HREF="d3dstrct_2ucn.htm#ddk_d3dgdi2_type_defer_agp_frees_gg">D3DGDI2_TYPE_DEFER_AGP_FREES</A> and <A HREF="d3dstrct_2ucn.htm#ddk_d3dgdi2_type_free_deferred_agp_gg">D3DGDI2_TYPE_FREE_DEFERRED_AGP</A> notifications.</P>

<PRE class=syntax>typedef struct _DD_FREE_DEFERRED_AGP_DATA {
    DD_GETDRIVERINFO2DATA gdi2;
    DWORD dwProcessId;
} DD_FREE_DEFERRED_AGP_DATA;</PRE>

<H4>Members</H4>

<DL>
<DT><B>gdi2</B></DT>

<DD>Specifies a <A HREF="d3dstrct_2ucn.htm">DD_GETDRIVERINFO2DATA</A> structure that contains the <B>GetDriverInfo2</B> data.</DD>

<DT><B>dwProcessId</B></DT>

<DD>Specifies the process identifier (PID) of the process destroying the <A HREF="ddraw_3spz.htm">AGP memory</A> for surfaces.
</DD>
</DL>

<H4>Headers</H4>

<P>Defined in <I>d3dhal.h</I>. Include <I>d3dhal.h</I>.</P>

<H4>Comments</H4>

<P>The driver sometimes receives a <B>GetDriverInfo2</B> call with <A HREF="d3dstrct_2ucn.htm#ddk_d3dgdi2_type_defer_agp_frees_gg">D3DGDI2_TYPE_DEFER_AGP_FREES</A> notification type before a display mode change occurs. The runtime only sends this notification type if it is to be used to perform the display mode change. Drivers should check the process identifier (PID) of the process destroying the surface against the process that created the surface. If the PIDs are different, the driver probably should not destroy the user-mode mappings of the AGP memory because an application might still be using the memory.</P>

<P>The driver receives a <B>GetDriverInfo2</B> call with <A HREF="d3dstrct_2ucn.htm#ddk_d3dgdi2_type_free_deferred_agp_gg">D3DGDI2_TYPE_FREE_DEFERRED_AGP</A> notification type when all display devices within the process stop using surfaces, textures, vertex buffers, and index buffers that were locked at the time of the display mode change. This notification type informs the driver that it is now safe to destroy all the user-mode mappings of the AGP memory. </P>

<H4>See Also</H4>

<P><A HREF="ddstrcts_3ijr.htm">DD_GETDRIVERINFODATA</A>, <A HREF="d3dstrct_2ucn.htm">DD_GETDRIVERINFO2DATA</A> </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: DD_FREE_DEFERRED_AGP_DATA"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
