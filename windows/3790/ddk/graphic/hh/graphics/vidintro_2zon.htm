<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>General Design and Implementation Strategies</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="General Design and Implementation Strategies">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Display&nbsp;and&nbsp;Print&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_general_design_and_implementation_strategies_gg"></A>General Design and Implementation Strategies</H1>

<P>To design an effective Windows®&nbsp;2000 and later display driver and video miniport driver, consider the following strategies:

<UL>
	<LI>Modify an existing DDK sample driver that was designed for a similar type of graphics adapter to reduce driver design time.</LI>

	<LI>Use C to write as much of the driver as possible to maximize portability, using assembly language only when necessary for time-critical operations that are not well supported by the hardware. Although coding in assembly increases the potential for optimization, time and portability issues outweigh its benefits.</LI>

	<LI>Use video miniport drivers for operations that manage resources, perform physical device memory mapping, ensure that register outputs occur in close proximity, or respond to interrupts. Miniport drivers are predominately used for handling variations within a hardware family and for minimizing display driver hardware-type dependencies.</LI>
</UL>

<P>For additional information of interest to display driver writers, see <A HREF="dpyddi_7b53.htm">Graphics DDI Functions for Display Drivers</A>. This topic and the subtopics following it discuss the graphics DDI functions that are required, conditionally required, and optional for a display driver. <A HREF="vmport_1auf.htm">Video Miniport Driver Interface</A> and its subtopics contain similar information aimed at video miniport driver writers.</P>

<P>You should also consider the following facts:

<UL>
	<LI>The display driver and video miniport driver operate in the same privileged kernel-mode address space as the rest of the NT Executive. A fault in either driver will cause the rest of the system to fault.</LI>

	<LI>Display drivers and video miniport drivers can be preempted at any time.</LI>

	<LI>The code and data sections of a display driver are both entirely pageable.</LI>

	<LI>Exported functions must execute the standard NT-based operating system <I>prolog</I> on entry and the <I>epilog</I> on exit. For more information, see the Platform SDK documentation.</LI>
</UL>

<P>For information that is specific to display drivers, see <A HREF="dpyddi_7b53.htm">Graphics DDI Functions for Display Drivers</A>. That section contains information about required, conditionally required, and optionally required graphics DDI functions. </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: General%20Design%20and%20Implementation%20Strategies"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
