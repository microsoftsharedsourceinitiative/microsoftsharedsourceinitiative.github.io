<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>DIRECT3D_VERSION</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="DIRECT3D_VERSION">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Display&nbsp;and&nbsp;Print&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H3><A NAME="ddk_direct3d_version_gg"></A>DIRECT3D_VERSION</H3>

<P>A DirectX display driver must support legacy (DirectX 7.0 and earlier) versions of the DirectX runtime. In order to do that, it is necessary to include both old and new DirectX headers, for example <I>d3d.h</I> and <I>d3d8.h</I>. However, this can cause a problem with the definition of the preprocessor symbol DIRECT3D_VERSION. This preprocessor symbol is used in the header files to indicate which structures and functions should be included. If the DIRECT3D_VERSION has not already been defined, the DirectX header files set the value of DIRECT3D_VERSION to the most recent version they were designed for. Thus, <I>d3d.h</I> sets DIRECT3D_VERSION to 0x0700 and <I>d3d8.h</I> sets DIRECT3D_VERSION to 0x0800. If <I>d3d.h</I> is included in your source before <I>d3d8.h</I>, new Direct3D 8.0 features are not defined and compiler errors will result.</P>

<P>To avoid this, define DIRECT3D_VERSION to 0x0800 before including any header files. In order to get all the necessary symbols in header files, include d3d8.h before <I>winddi.h</I> or <I>d3dnthal.h</I>.</P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: DIRECT3D_VERSION"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
