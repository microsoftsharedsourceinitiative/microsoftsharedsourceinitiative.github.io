<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Exposing the Extended Surface Capabilities</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Exposing the Extended Surface Capabilities">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Display&nbsp;and&nbsp;Print&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H2><A NAME="ddk_exposing_the_extended_surface_capabilities_gg"></A>Exposing the Extended Surface Capabilities</H2>

<P>The <A HREF="ddstrcts_5xgn.htm">DDCORECAPS</A> structure contains a <A HREF="ddstrcts_6zhj.htm">DDSCAPS</A> field which drivers fill in to indicate what types of surfaces they support. When these caps are reported to the application, a slightly different structure, DDCAPS, is returned. This DDCAPS structure is built from the driver's DDCORECAPS and other structures that are queried using the <A HREF="ddfncs_0yhz.htm"><I>DdGetDriverInfo</I></A> interface. For the latest version of DirectX, the application-visible DDCAPS contains a <A HREF="ddstrcts_3jqf.htm">DDSCAPS2</A> member. This DDCAPS2 member is constructed from the DDSCAPS member in the DDCORECAPS structure, and the <B>ddsCapsMore</B> member of the <A HREF="ddstrcts_4jvr.htm">DD_MORESURFACECAPS</A> structure. </P>

<P>The DD_MORESURFACECAPS structure is queried from the driver at driver initialization time using the <I>DdGetDriverInfo</I> call. The appropriate GUID, as defined in <I>ddrawint.h</I>, is GUID_DDMoreSurfaceCaps. </P>

<P>Responding to the GUID_DDMoreSurfaceCaps query is entirely optional. It is intended to allow drivers to do two distinct things:

<UL>
	<LI>Expose extended surface capabilities that the driver can create in display memory.</LI>

	<LI>Express to DirectDraw new heap restrictions for these extended surface capabilities.</LI>
</UL>

<P>The first item has been covered in the previous section and is fairly self-explanatory. The second item is more complex, and readers should be familiar with the significance of the <B>ddsCaps</B> and <B>ddsCapsAlt</B> members of the <A HREF="ddstrcts_90yv.htm">VIDEOMEMORY</A> structure, described in <A HREF="ddraw_10dj.htm">Memory Heap Allocation</A>, before reading the next section. </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Exposing%20the%20Extended%20Surface%20Capabilities"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
