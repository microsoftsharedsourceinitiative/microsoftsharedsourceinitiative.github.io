<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>DXVA_PicResample</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="DXVA_PicResample">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Display&nbsp;and&nbsp;Print&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_dxva_picresample_gg"></A>DXVA_PicResample</H1>

<P>The DXVA_PicResample structure is sent by the host decoder to the accelerator to control the resampling process. This process is invoked when the <A HREF="dxvaguide_9i5j.htm"><I>bDXVA_Func</I> variable</A> is equal to 4.</P>

<PRE class=syntax>typedef struct _DXVA_PicResample {
  WORD  wPicResampleSourcePicIndex;
  WORD  wPicResampleDestPicIndex;
  WORD  wPicResampleRcontrol;
  BYTE  bPicResampleExtrapWidth;
  BYTE  bPicResampleExtrapHeight;
  DWORD  dwPicResampleSourceWidth;
  DWORD  dwPicResampleSourceHeight;
  DWORD  dwPicResampleDestWidth;
  DWORD  dwPicResampleDestHeight;
  DWORD  dwPicResampleFullDestWidth;
  DWORD  dwPicResampleFullDestHeight;
} DXVA_PicResample, *LPDXVA_PicResample;</PRE>

<H4>Members</H4>

<DL>
<DT><B>wPicResampleSourcePicIndex</B></DT>

<DD>Specifies the reference buffer to be resampled. </DD>

<DT><B>wPicResampleDestPicIndex</B></DT>

<DD>Specifies the buffer to be used for the output of the reference picture resampling operation.</DD>

<DT><B>wPicResampleRcontrol</B></DT>

<DD>Specifies the rounding mode for averaging in the resampling operation. In the case of H.263 Annex O Spatial Scalability, this member is 1. (This corresponds to the value of <I>RCRPR</I> in H.263 Annex P that is equivalent to the upsampling needed for H.263 Annex O spatial scalability.) In the case of H.263 Annex P Reference Picture Resampling, this value is equal to the H.263 variable <I>RCRPR</I></DD>

<DT><B>bPicResampleExtrapWidth</B></DT>

<DD>Indicates if horizontal resampling must include padding of the resampled picture. If nonzero and the padding method of using motion vectors over picture boundaries is used on the accelerator, any resampling must include padding of the resampled picture. This padding must cover at least the specified width around each edge of the resampled picture regardless of the resampling operation that is performed.</DD>

<DT><B>bPicResampleExtrapHeight</B></DT>

<DD>Indicates if vertical resampling must include padding of the resampled picture. If nonzero and the padding method of using motion vectors over picture boundaries is used on the accelerator, any resampling must include padding of the resampled picture. This padding must cover at least the specified height around each edge of the resampled picture regardless of the resampling operation that is performed.</DD>

<DT><B>dwPicResampleSourceWidth</B></DT>

<DD>Specifies the width in units of luminance samples of the area of the source picture to be resampled to the destination picture.</DD>

<DT><B>dwPicResampleSourceHeight</B></DT>

<DD>Specifies the height of the area of the source picture, in units of luminance samples to be resampled to the destination picture.</DD>

<DT><B>dwPicResampleDestWidth</B></DT>

<DD>Specifies the width of the area of the destination picture, in units of luminance samples to contain the resampled data from the source picture. </DD>

<DT><B>dwPicResampleDestHeight</B></DT>

<DD>Specifies the height of the area of the destination picture in units of luminance samples to contain the resampled data from the source picture. </DD>

<DT><B>dwPicResampleFullDestWidth</B></DT>

<DD>Specifies the full width<B> </B>of the area of the destination picture in units of luminance samples to contain the resampled data from the source picture. </DD>

<DT><B>dwPicResampleFullDestHeight</B></DT>

<DD>Specifies the full height of the area of the destination picture in units of luminance samples to contain the resampled data from the source picture.
</DD>
</DL>

<H4>Headers</H4>

<P>Declared in <I>dxva.h</I>. Include <I>dxva.h</I>.</P>

<H4>Comments</H4>

<P>The clipping performed by <B>dwPicResampleFullDestHeight</B> is used to generate any samples outside the source resampling area. (This value is necessary for H.263 Annex P support of custom source formats in which the luminance width or height is not divisible by 16.)</P>

<P>In the case of H.263 Annex O Spatial Scalability, the value of <B>wPicResampleRcontrol </B>is 1. This value corresponds to the value of <I>RCRPR</I> in H.263 Annex P that is equivalent to the upsampling needed for H.263 Annex O spatial scalability. In the case of H.263 Annex P Reference Picture Resampling, <B>wPicResampleRcontrol</B> is equal to the H.263 variable <I>RCRPR</I>.</P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: DXVA_PicResample"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
