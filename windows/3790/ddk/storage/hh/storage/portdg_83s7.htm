<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>The Storport Driver</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="The Storport Driver">
<META NAME="MS-HKWD" CONTENT="Storport Driver">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Storage&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_the_storport_driver_kg"></A>The Storport Driver</H1>

<P>In addition to the ScsiPort driver, Microsoft® Windows® Server&nbsp;2003 and later versions provide Storport (<I>storport.sys</I>), a storage port driver that is especially suitable for use with high-performance buses, such as fibre channel buses, and RAID adapters. </P>

<P>There are several advantages to using Storport rather than the ScsiPort driver:

<UL>
	<LI>Improved performance, both in terms of throughput and the system resources that are utilized. The Storport driver should also perform on a par with, or better than, a monolithic port driver.</LI>

	<LI>Improved miniport interface that addresses the needs of high-end storage vendors, particularly host-based RAID and fibre channel vendors.</LI>
</UL>

<P>All vendors are encouraged to use Storport where possible, rather than the ScsiPort driver. Certain restrictions apply, however. Storport cannot be used with adapters or devices that do not support Plug and Play. All DMA devices must have bus-mastering DMA capability, since Storport does not support programmed I/O or slave-mode DMA. Other restrictions apply in regard to tagged queuing, autorequest sense, WMI support, the sort of SCSI inquiry data that devices must report, and booting directly from an adapter's ROM BIOS. For a detailed list of restrictions on the use of the Storport driver, see <A HREF="portdg_1uw7.htm">Requirements for Using Storport with an Adapter</A>. </P>

<P>To better utilize the investment that vendors have made in ScsiPort miniport drivers, Storport follows the ScsiPort-miniport driver architecture with very few modifications. Changes to the ScsiPort driver interface were made in areas where new algorithms were able to produce measurable speed increases, or where it was necessary to add support for high-speed buses.</P>

<P>This section includes the following topics:</P>

<P class=indent1><A HREF="portdg_8y7b.htm">The Storport I/O Model</A></P>

<P class=indent1><A HREF="portdg_4lyf.htm">Storport Queue Management</A></P>

<P class=indent1><A HREF="portdg_7dbb.htm">Storport Error Management</A></P>

<P class=indent1><A HREF="portdg_8vjb.htm">Making ScsiPort Miniport Drivers Work with Storport</A></P>

<P class=note></P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: The%20Storport%20Driver"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
