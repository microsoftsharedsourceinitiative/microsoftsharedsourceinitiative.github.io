<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>TapeClassPhysicalBlockToLogicalBlock</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="TapeClassPhysicalBlockToLogicalBlock">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Storage&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_tapeclassphysicalblocktologicalblock_kr"></A>TapeClassPhysicalBlockToLogicalBlock</H1>

<P><B>TapeClassPhysicalBlockToLogicalBlock</B> translates a physical block address to a pseudological block address. This routine is for SCSI-1 devices.</P>

<PRE class=syntax><B>ULONG
  TapeClassPhysicalBlockToLogicalBlock(
    IN UCHAR  </B><I>DensityCode</I><B>,</B>
<B>    IN ULONG  </B><I>PhysicalBlockAddress</I><B>,</B>
<B>    IN ULONG  </B><I>BlockLength</I><B>,</B>
<B>    IN BOOLEAN  </B><I>FromBOT</I>
<B>    );</B></PRE>

<H4>Parameters</H4>

<DL>
<DT><I>DensityCode</I></DT>

<DD>Specifies the tape media density code. This routine supports tapes with the following density codes: QIC_24, QIC_120, QIC_150, QIC_525, QIC_1000, QIC_2GB, QIC_1350, and QIC_2100.</DD>

<DT><I>PhysicalBlockAddress</I></DT>

<DD>Specifies the physical block address obtained by a SCSI READ POSITION command.</DD>

<DT><I>BlockLength</I></DT>

<DD>Specifies the logical block size, in bytes.</DD>

<DT><I>FromBOT</I></DT>

<DD>TRUE indicates that the logical block calculation should start at the beginning of the tape and account for the physical device header. FALSE indicates that the tape has two partitions, that the block address is on the directory partition, and therefore no physical device header needs to be factored into the calculation.
</DD>
</DL>

<H4>Return Value</H4>

<P><B>TapeClassPhysicalBlockToLogicalBlock</B> returns the logical block address.</P>

<H4>Headers</H4>

<P>Declared in <I>minitape.h</I>. Include <I>minitape.h</I>. </P>

<H4>Comments</H4>

<P>A tape miniclass driver calls <B>TapeClassPhysicalBlockToLogicalBlock</B> to translate a physical block address from a tape device to a logical block address for an application. <B>TapeClassPhysicalBlockToLogicalBlock</B> is not necessary for SCSI-2 or later drivers because devices that comply with SCSI-2 or later standards support logical block addressing.</P>

<P>If a tape miniclass driver calls this routine with an unsupported tape density code, <B>TapeClassPhysicalBlockToLogicalBlock </B>returns the physical block address in the return value, without performing any translation.</P>

<H4>See Also</H4>

<P><A HREF="k303_0v8y.htm"><B>TapeClassLogicalBlockToPhysicalBlock</B></A> </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: TapeClassPhysicalBlockToLogicalBlock"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
