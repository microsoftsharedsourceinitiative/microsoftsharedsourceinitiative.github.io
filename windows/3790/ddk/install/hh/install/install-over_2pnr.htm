<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>System Setup Phases</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="System Setup Phases">
<META NAME="MS-HKWD" CONTENT="Installations During Text-Mode Setup">
<META NAME="MS-HKWD" CONTENT="Installations During GUI-Mode Setup">
<META NAME="MS-HKWD" CONTENT="Installations After the System is Running">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Device&nbsp;Installation:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_system_setup_phases_dg"></A>System Setup Phases</H1>

<P>For most devices, you should design your device and supporting files so that Setup can install the device at an appropriate time during system startup, or dynamically at any time after startup while the system is running. Certain devices, however, must be installed during a particular phase of system startup. To assist vendors of such devices, this section provides some background information on the system setup phases as they relate to device installation. </P>



<H4><A NAME="ddk_installations_during_text_mode_setup_dg"></A>Installations During Text-Mode Setup</H4>

<P>When Windows® boots on a system, the initial phase of the Setup program installs only the minimum number of devices needed for Windows to run, such as the keyboard, mouse, video adapter, SCSI/Disk, and Machine/HAL. This phase of the Setup program is known as <I>text-mode setup</I>.</P>

<P>For a user to install your device during text-mode setup, your distribution disk must include a text file named <I>txtsetup.oem</I>. For more information, see <A HREF="specinst_9mg7.htm">Installing a Boot Driver</A>.</P>



<H4><A NAME="ddk_installations_during_gui_mode_setup_dg"></A>Installations During GUI-Mode Setup</H4>

<P>After text-mode setup has completed, the Setup program boots Windows and proceeds with the <I>GUI-mode setup</I> phase of the installation. Setup installs most devices during GUI-mode setup.</P>

<P>Devices that are not installed during GUI-mode setup include those that require user interaction to be installed. For example, if this is the first time a device is being configured on the system and a co-installer for the device supplies one or more custom Finish pages, Setup must display the pages to the user. Setup performs such a device installation when a user with administrative privileges logs on.</P>



<H4><A NAME="ddk_installations_after_the_system_is_running_dg"></A>Installations After the System is Running</H4>

<P>Once a system is up and running, a user can install new devices:

<UL>
	<LI>To install a new PnP device, plug the device into the system. 
<P>If the device and the bus support hot-plug notification, device installation is initiated automatically. 

<P>If the user needs to power down the system and open the system box to plug in the device, the device will be recognized and configured when the system boots. 

<P>If the device can be plugged in while the system is running and the device and the bus do not support hot-plug notification, use the Add Hardware Wizard to initiate device configuration. (Select Install.) 
</LI>

	<LI>To install a non-PnP device, use the Add Hardware Wizard. </LI>
</UL>

<P>If Setup can install the device in the trusted context of a system process, the user does not need administrative privileges to install the device. If Setup needs to prompt the user for information, it requires the process context of an administrative user to install the device.</P>

<P>To update a driver for an installed device, use the Device Manager or click on the Hardware tab of the appropriate Control Panel program. (Clicking the <B>Properties</B> button in the Hardware tab for a device listed in Control Panel brings up the Device Manager properties for the device.) </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: System%20Setup%20Phases"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
