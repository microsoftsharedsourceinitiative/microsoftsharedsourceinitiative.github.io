<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>INF DDInstall.FactDef Section</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="INF DDInstall.FactDef Section">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Device&nbsp;Installation:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_inf_ddinstall.factdef_section_dr"></A>INF <I>DDInstall</I>.FactDef Section</H1>

<P><B>[</B><I>install-section-name</I><B>.FactDef]</B> |<BR>
<B>[</B><I>install-section-name</I><B>.nt.FactDef]</B> | <BR>
<B>[</B><I>install-section-name</I><B>.ntx86.FactDef]</B> <BR>
<B>[</B><I>install-section-name</I><B>.ntia64.FactDef]</B> <BR>
&nbsp;<BR>
<B>ConfigPriority=</B><I>Priority_Value</I><BR>
[<B>DMAConfig=</B>[<I>DMAattrs</I><B>:</B>]<I>DMANum</I>]<BR>
[<B>IOConfig=</B><I>io-range</I>]<BR>
[<B>MemConfig=</B><I>mem-range</I>]<BR>
[<B>IRQConfig=</B>[<I>IRQattrs</I><B>:</B>]<I>IRQNum</I><BR>
 ...<BR>
&nbsp;<BR>
&nbsp;<BR>
</P>

<P>This section should be used in an INF for any manually installed non-PnP device that an end user might install with the Add Hardware wizard. This section specifies the factory-default hardware configuration settings, such as the bus-relative I/O ports and IRQ (if any), for such a card. </P>

<H4>Section Entries and Values</H4>

<DL>
<DT><B>ConfigPriority=</B><I>Priority_Value</I></DT>

<DD>Specifies one of the following priority values for this factory-default logical configuration.

<TABLE>

<TR VALIGN="top">
<TH align=left width=31%>Priority Value</TH>
<TH align=left width=69%>Meaning</TH>
</TR>

<TR VALIGN="top">
<TD width=31%>FORCECONFIG</TD>
<TD width=69%>Specifies a forced configuration, which identifies the resources that the PnP Manager must assign to a device. </TD>
</TR>

<TR VALIGN="top">
<TD width=31%>DESIRED</TD>
<TD width=69%>Provides the highest device performance. The PnP Manager can dynamically configure the device with this configuration.</TD>
</TR>

<TR VALIGN="top">
<TD width=31%>NORMAL</TD>
<TD width=69%>Provides greater device performance than SUBOPTIMAL, but less performance than DESIRED. This is the typical priority value. The PnP Manager can dynamically configure the device with this configuration.</TD>
</TR>

<TR VALIGN="top">
<TD width=31%>SUBOPTIMAL</TD>
<TD width=69%>Provides the lowest device performance. This configuration is not desirable, but it will work. The PnP Manager can dynamically configure this configuration. </TD>
</TR>

<TR VALIGN="top">
<TD width=31%>RESTART</TD>
<TD width=69%>Same as REBOOT, except that RESTART is faster than REBOOT for Microsoft® Windows® 95/98/Me.</TD>
</TR>

<TR VALIGN="top">
<TD width=31%>REBOOT</TD>
<TD width=69%>Requires a system reboot.</TD>
</TR>

<TR VALIGN="top">
<TD width=31%>POWEROFF</TD>
<TD width=69%>Requires a power cycle.</TD>
</TR>

<TR VALIGN="top">
<TD width=31%>HARDRECONFIG</TD>
<TD width=69%>Requires a jumper change.</TD>
</TR>

<TR VALIGN="top">
<TD width=31%>HARDWIRED</TD>
<TD width=69%>Cannot be changed.</TD>
</TR>

<TR VALIGN="top">
<TD width=31%>DISABLED</TD>
<TD width=69%>Indicates that the device is disabled.</TD>
</TR>
</TABLE><BR>

</DD>

<DT><B>DMAConfig=</B>[<I>DMAattrs</I><B>:</B>]<I>DMANum</I></DT>

<DD>Specifies the bus-relative DMA channel as a decimal number. <I>DMAattrs</I> is optional if the device is connected on a bus that has only 8-bit DMA channels and the device uses standard system DMA. Otherwise, it can be one of the letters <B>D</B> for 32-bit DMA, <B>W</B> for 16-bit DMA, and <B>N</B> for 8-bit DMA, with <B>M </B>if the device uses bus-master DMA, and with one of the following (mutually exclusive) letters indicating the type of DMA channel used: <B>A</B>, <B>B</B>, or <B>F</B>. If none of <B>A</B>, <B>B</B>, or <B>F</B> is specified, a standard DMA channel is assumed. </DD>

<DT><B>IOConfig=</B><I>io-range</I></DT>

<DD>Specifies the I/O port range for the device in the following form:

<P><I>start</I><B>-</B><I>end</I>[<B>(</B>[<I>decode-mask</I>][<B>:</B><I>alias-offset</I>][<B>:</B><I>attr</I>]<B>)</B>]<BR>
where:


<P class=indent1><I>start </I>specifies the (bus-relative) starting address of the I/O port range as a 64-bit hexadecimal value. </P>


<P class=indent1><I>end</I> specifies the ending address of the I/O port range, also as a 64-bit hexadecimal value. </P>


<P class=indent1><I>decode-mask</I> defines the alias type and can be any of the following.</P>


<TABLE>

<TR VALIGN="top">
<TH align=left width=30%>Mask Value</TH>
<TH align=left width=35%>Meaning</TH>
<TH align=left width=35%>IOR_Alias =</TH>
</TR>

<TR VALIGN="top">
<TD width=30%><B>3ff</B></TD>
<TD width=35%>10-bit decode</TD>
<TD width=35%>0x04</TD>
</TR>

<TR VALIGN="top">
<TD width=30%><B>fff</B></TD>
<TD width=35%>12-bit decode</TD>
<TD width=35%>0x10</TD>
</TR>

<TR VALIGN="top">
<TD width=30%><B>ffff</B></TD>
<TD width=35%>16-bit decode</TD>
<TD width=35%>0x00</TD>
</TR>

<TR VALIGN="top">
<TD width=30%><B>0</B></TD>
<TD width=35%>positive decode</TD>
<TD width=35%>0xFF</TD>
</TR>
</TABLE><BR>



<P class=indent1><I>alias-offset</I> is ignored. </P>


<P class=indent1><I>attr</I> specifies the letter <B>M</B> if the given range is in system memory. If omitted, the given range is in I/O port space. </P>
</DD>

<DT><B>MemConfig=</B><I>mem-range</I></DT>

<DD>Specifies the memory range for the device in the following form:

<P><I>start</I><B>-</B><I>end</I>[<B>(</B><I>attr</I><B>)</B>] <BR>
where:


<P class=indent1><I>start </I>specifies the starting (bus-relative) address of the device memory range as a 64-bit hexadecimal value. </P>


<P class=indent1><I>end</I> specifies the ending address of the memory range, also as a 64-bit hexadecimal value. </P>


<P class=indent1><I>attr</I> specifies the attributes of the memory range as one or more of the following letters: <B>R</B> (read-only), <B>W</B> (write-only), <B>RW</B> (read/write), <B>C</B> (combined write allowed), <B>H</B> (cacheable), <B>F</B> (prefetchable), and <B>D</B> (card decode addressing is 32-bit, instead of 24-bit). If both <B>R </B>and <B>W</B> are specified or if neither is specified, read/write is assumed. </P>
</DD>

<DT><B>IRQConfig=</B>[<I>IRQattrs</I><B>:</B>]<I>IRQNum</I></DT>

<DD>Specifies the bus-relative IRQ that the device uses as a decimal number. <I>IRQattrs</I> is omitted if the device uses a bus-relative, edge-triggered IRQ. Otherwise, specify <B>L</B> to indicate a level-triggered IRQ, and <B>LS</B> if the device can share the IRQ line listed in this entry.
</DD>
</DL>

<H4>Comments</H4>

<P>The given <I>DDInstall</I> section<I> </I>must be referenced in a device-specific entry under the per-manufacturer <I>Models</I> section of the INF file. The case-insensitive extensions to the <I>install-section-name</I> shown in the formal syntax statement can be inserted into such a <I>DDInstall</I><B>.FactDef </B>section name in cross-OS and/or cross-platform INF files. For more information about these system-defined extensions, see <A HREF="create-inf_4l47.htm">Creating an INF File</A>.</P>

<P>This section must contain complete factory-default information for installing one device. The INF should specify this set of entries in the order best suited to how the driver initializes its device. If necessary, it can have more than one of any particular kind of entry. For example, the INF for a device that used two DMA channels would have two <B>DMAConfig=</B> lines in its <I>DDInstall</I><B>.FactDef</B> section. From this section, the Add Hardware wizard builds binary logical configuration records and stores them in the registry.</P>

<P>The INF files of manually installed devices for which the factory-default logical configuration settings can be changed also should use the <B>LogConfig</B> directive in their <I>DDInstall</I> sections. In general, such an INF should specify the entries in each of its log config sections and in its <I>DDInstall</I><B>.FactDef</B> section in the same order. </P>

<H4>Examples</H4>

<P>This <B>IOConfig=</B> entry specifies an I/O port region, 8 bytes in size, which can start at 2F8.</P>

<PRE>IOConfig=2F8-2FF</PRE>

<P>This <B>MemConfig= </B>entry specifies a memory region of 32K bytes that can start at D0000.</P>

<PRE>MemConfig=D0000-D7FFF</PRE>

<H4>See Also</H4>

<P><A HREF="inf-format_2k8i.htm"><I>DDInstall</I></A>, <A HREF="inf-format_85f6.htm"><B>LogConfig</B></A> </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: INF%20DDInstall.FactDef%20Section"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
