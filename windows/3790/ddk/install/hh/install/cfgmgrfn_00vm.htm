<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>CM_Get_Device_ID</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="CM_Get_Device_ID">
</HEAD>
<BODY TOPMARGIN="0">
<DIV STYLE="display:none;">
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_device_instance_id_dg_gly">
</OBJECT>
<OBJECT ID="hhobj_2" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_device_instance_dg_gly">
</OBJECT>
</DIV>


<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Device&nbsp;Installation:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_cm_get_device_id_dr"></A>CM_Get_Device_ID</H1>

<P>The <B>CM_Get_Device_ID</B> function retrieves the <A HREF="JavaScript:hhobj_1.Click()">device instance ID</A> for a specified <A HREF="JavaScript:hhobj_2.Click()">device instance</A>, on the local machine.</P>

<PRE class=syntax><B>CMAPI</B> <B>CONFIGRET</B> <B>WINAPI</B>
  <B>CM_Get_Device_ID(</B>
    <B>IN</B> <B>DEVINST</B>  <I>dnDevInst</I><B>,</B>
    <B>OUT</B> <B>PTCHAR </B> <I>Buffer</I><B>,</B>
    <B>IN</B> <B>ULONG</B>  <I>BufferLen</I><B>,</B>
    <B>IN</B> <B>ULONG</B>  <I>ulFlags</I>
    <B>);</B></PRE>

<H4>Parameters</H4>

<DL>
<DT><I>dnDevInst</I></DT>

<DD>Caller-supplied device instance handle that is bound to the local machine.</DD>

<DT><I>Buffer</I></DT>

<DD>Address of a buffer to receive a device instance ID string. The required buffer size can be obtained by calling <A HREF="cfgmgrfn_1302.htm"><B>CM_Get_Device_ID_Size</B></A>, then incrementing the received value to allow room for the string's terminating NULL. </DD>

<DT><I>BufferLen</I></DT>

<DD>Caller-supplied length, in characters, of the buffer specified by <I>Buffer</I>.</DD>

<DT><I>ulFlags</I></DT>

<DD>Not used, must be zero.
</DD>
</DL>

<H4>Return Value</H4>

<P>If the operation succeeds, the function returns CR_SUCCESS. Otherwise, it returns one of the CR_-prefixed error codes defined in <I>cfgmgr32.h</I>.</P>

<H4>Headers</H4>

<P>Declared in <I>cfgmgr32.h</I>. Include <I>cfgmgr32.h</I>.</P>

<H4>Comments</H4>

<P>The function appends a NULL terminator to the supplied device instance ID string, unless the buffer is too small to hold the string. In this case, the function supplies as much of the identifier string as will fit into the buffer, and then returns CR_BUFFER_SMALL. </P>

<P>For information about device instance IDs, see <A HREF="idstrings_8tt3.htm">Device Identification Strings</A>.</P>

<P>For information about using device instance handles that are bound to the local machine, see <A HREF="cfgmgrfn_7zea.htm"><B>CM_Get_Child</B></A>.</P>

<H4>See Also</H4>

<P><A HREF="cfgmgrfn_7zea.htm"><B>CM_Get_Child</B></A>, <A HREF="cfgmgrfn_5tde.htm"><B>CM_Get_Device_ID_Ex</B></A> </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: CM_Get_Device_ID"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
