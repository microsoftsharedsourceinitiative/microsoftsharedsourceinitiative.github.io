<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>SetupDiGetDriverInfoDetail</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="SetupDiGetDriverInfoDetail">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Device&nbsp;Installation:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_setupdigetdriverinfodetail_dr"></A>SetupDiGetDriverInfoDetail</H1>

<P>The <B>SetupDiGetDriverInfoDetail</B> function retrieves detailed information for a specified driver information element.</P>

<PRE class=syntax><B>WINSETUPAPI BOOL WINAPI</B>
  <B>SetupDiGetDriverInfoDetail(</B>
    <B>IN HDEVINFO</B>  <I>DeviceInfoSet</I><B>,</B>
    <B>IN PSP_DEVINFO_DATA</B>  <I>DeviceInfoData</I><B>,  OPTIONAL</B>
    <B>IN PSP_DRVINFO_DATA</B>  <I>DriverInfoData</I><B>,</B>
    <B>OUT PSP_DRVINFO_DETAIL_DATA</B>  <I>DriverInfoDetailData<B>,</B></I><B>  OPTIONAL</B><I>
    </I><B>IN DWORD</B>  <I>DriverInfoDetailDataSize</I><B>,
    OUT PDWORD</B>  <I>RequiredSize</I><B>  OPTIONAL</B>
    <B>);</B></PRE>

<H4>Parameters</H4>

<DL>
<DT><I>DeviceInfoSet</I></DT>

<DD>Supplies a handle to the <A HREF="setup-cls_2h9j.htm">device information set</A> that contains a driver information structure for which to retrieve details.</DD>

<DT><I>DeviceInfoData</I></DT>

<DD>Supplies a pointer to an <A HREF="di-struct_7nqq.htm">SP_DEVINFO_DATA</A> structure that contains a driver information structure for which to retrieve details. If this parameter is not specified, the driver referenced is a member of the global class driver list owned by the device information set.</DD>

<DT><I>DriverInfoData</I></DT>

<DD>Supplies a pointer to an <A HREF="di-struct_7hpu.htm">SP_DRVINFO_DATA</A> structure that specifies the driver for which details are to be retrieved.</DD>

<DT><I>DriverInfoDetailData</I></DT>

<DD>Supplies a pointer to an <A HREF="di-struct_05te.htm">SP_DRVINFO_DETAIL_DATA</A> structure that receives detailed information about the specified driver. If this parameter is not specified, <I>DriverInfoDetailDataSize</I> must be 0. If this parameter is specified, the <B>cbSize</B> field of this structure must be set to the size, in bytes, of the structure before calling <B>SetupDiGetDriverInfoDetail</B>.</DD>

<DT><I>DriverInfoDetailDataSize</I></DT>

<DD>Supplies the size, in bytes, of the <I>DriverInfoDetailData</I> buffer.</DD>

<DT><I>RequiredSize</I></DT>

<DD>Supplies a pointer to a variable that receives the number of bytes required to store the detailed driver information. This value includes both the size of the structure and the additional bytes required for the variable-length character buffer at the end that holds the hardware ID list and the compatible ID list. The lists are in REG_MULTI_SZ format. For information about hardware and compatible IDs, see <A HREF="idstrings_8tt3.htm">Device Identification Strings</A>.
</DD>
</DL>

<H4>Return Value</H4>

<P>The function returns TRUE if it is successful. Otherwise, it returns FALSE and the logged error can be retrieved with a call to <B>GetLastError</B>.</P>

<H4>Headers</H4>

<P>Declared in <I>setupapi.h</I>. Include <I>setupapi.h</I>. </P>

<H4>Comments</H4>

<P>If the specified driver information member and the caller-supplied buffer are both valid, this function is guaranteed to fill in all static fields in the SP_DRVINFO_DETAIL_DATA structure and as many IDs as possible in the variable-length buffer at the end while still maintaining REG_MULTI_SZ format. In this case, the function returns FALSE and a call to <B>GetLastError</B> returns ERROR_INSUFFICIENT_BUFFER. If specified, <I>RequiredSize</I> contains the total number of bytes required for the structure with all IDs.</P>

<H4>See Also</H4>

<P><A HREF="di-rtns_36r6.htm"><B>SetupDiEnumDriverInfo</B></A>, <A HREF="di-rtns_8ohe.htm"><B>SetupDiGetSelectedDriver</B></A> </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: SetupDiGetDriverInfoDetail"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
