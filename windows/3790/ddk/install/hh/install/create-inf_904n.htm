<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Summary of INF Directives</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Summary of INF Directives">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Device&nbsp;Installation:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_summary_of_inf_directives_dg"></A>Summary of INF Directives</H1>

<P>The following list summarizes many (but not all) of the directives that can be used in INF files. INF directive names are case-insensitive, so <B>Addreg</B>, <B>addReg</B>, and <B>AddReg</B> are equally valid as directive specifications within an INF. </P>

<P>This section lists the most commonly used directives first, together with their reciprocal or related directives. The most rarely used directives are toward the end of the list.  

<DL>
<DT><A HREF="inf-format_2v02.htm"><B>AddReg</B> Directive</A> </DT>

<DD>This directive references one or more <I>add-registry-section</I>s, which are INF sections used to add or modify subkeys and value entries in the registry. 

<P>The particular INF section in which an <B>AddReg</B> (or <B>DelReg</B>) directive resides determines the default, relative registry location that will receive modifications specified in the referenced <I>add-registry-section</I> (or <I>delete-registry-section</I>). These default registry locations are typically device-specific or driver-specific subkeys somewhere under the HKEY_LOCAL_MACHINE registry tree. For more information, see <A HREF="install-over_6e3r.htm">Driver Information in the Registry</A>.


<P>Additional <I>add-registry-sections</I> can set up registry information for vendor-supplied co-installers, for system-defined device interfaces (such as kernel streaming interfaces) exported to higher level drivers, for new device interfaces exported by an installed component for a given class of devices, for driver services, or (rarely) for a new setup class of devices if the INF has a <B>ClassInstall32</B> section. 
</DD>

<DT><A HREF="inf-format_21de.htm"><B>DelReg</B> Directive</A> </DT>

<DD>This directive references one or more <I>del-registry-section</I>s used to remove obsolete subkeys and/or value entries from the registry. For example, such a section might appear in an INF that upgrades a previous installation. </DD>

<DT><A HREF="inf-format_4oaa.htm"><B>CopyFiles</B> Directive</A> </DT>

<DD>This directive references one or more <I>file-list-section</I>s specifying transfers of model/device-specific driver images and any other necessary files from the distribution media to the destination directory for each such file. Alternatively, this directive can specify a single file to be copied from the distribution media to the default destination directory.</DD>

<DT><A HREF="inf-format_3vg2.htm"><B>DelFiles</B> Directive</A> </DT>

<DD>This rarely used directive references one or more <I>file-list-section</I>s specifying files to be deleted from the target of the installation.</DD>

<DT><A HREF="inf-format_0pki.htm"><B>RenFiles</B> Directive</A> </DT>

<DD>This rarely used directive references one or more <I>file-list-section</I>s specifying INF-associated source files to be renamed on the destination. </DD>

<DT><A HREF="inf-format_79te.htm"><B>AddService</B> Directive</A> </DT>

<DD>This directive references at least a <I>service-install-section</I>, possibly with an additional <I>event-log-install-section</I>. 

<P>INF files for most kinds of Windows&nbsp;2000 and later devices (those that install drivers) have an INF-writer-defined <I>service-install-section</I> to specify any dependencies on system-supplied drivers or services, during which stage of the system initialization process the supplied drivers should be loaded, and so forth. Many INF files for device drivers also have an INF-writer-defined <I>event-log-install-section</I> that is referenced by the <B>AddService</B> directive to set up event logging by the device driver. 
</DD>

<DT><A HREF="inf-format_91iq.htm"><B>DelService</B> Directive</A> </DT>

<DD>This rarely used directive deletes a previously installed service. </DD>

<DT><A HREF="inf-format_3omq.htm"><B>AddInterface</B> Directive</A> </DT>

<DD>This directive references an <I>add-interface-section</I> in which one or more <B>AddReg</B> directives are specified referencing sections that set up the registry entries for the device interfaces supported by this device/driver. Optionally, such an <I>add-interface-section</I> can reference one or more additional sections that specify delete-registry, file-transfer, file-delete, and/or file-rename operations. </DD>

<DT><A HREF="inf-format_4sj6.htm"><B>BitReg</B> Directive</A> </DT>

<DD>This rarely used directive references one or more <I>bit-registry-section</I>s specifying existing REG_BINARY-type value entries in the registry for which particular bits in the values are to be modified. </DD>

<DT><A HREF="inf-format_85f6.htm"><B>LogConfig</B> Directive</A> </DT>

<DD>This directive references one or more <I>log-config-section</I>s that specify acceptable bus-relative and device-specific hardware configurations in an INF for devices that are detected (by PnP device enumerators) or manually installed. For example, INF files for nonPnP ISA, EISA, and MCA devices, which are manually installed, use this directive. (Also see <A HREF="inf-format_03qq.htm">INF <I>DDInstall</I><B>.LogConfigOverride</B> Section</A>.) </DD>

<DT><A HREF="inf-format_4f76.htm"><B>UpdateInis</B> Directive</A> </DT>

<DD>This rarely used directive references one or more <I>update-ini-section</I>s specifying parts of a supplied INI file to be read during installation and, possibly specifying line-by-line modifications to be made in that INI file. </DD>

<DT><A HREF="inf-format_5a0i.htm"><B>UpdateIniFields</B> Directive</A> </DT>

<DD>This rarely used directive references one or more <I>update-inifields-section</I>s specifying modifications to be made on fields within the lines of an INI file. </DD>

<DT><A HREF="inf-format_2i5u.htm"><B>Ini2Reg</B> Directive</A> </DT>

<DD>This rarely used directive references one or more <I>ini-to-registry-section</I>s specifying lines or sections of an INI file to be written into the registry. 
</DD>
</DL>

<P>The sections under which any of the directives in the preceding list can be be specified is system-determined. The basic form of each directive is shown in the formal syntax of the reference for each section, as for example:</P>

<P><B>[</B><I>DDInstall</I><B>]</B> | <B>[</B><I>DDInstall</I><B>.HW]</B> | <B>[</B><I>DDInstall</I><B>.CoInstallers]</B> | <B>[ClassInstall32]</B> | <B>[ClassInstall32.ntx86]</B> | <B>[ClassInstall32.ntia64]<BR>
&nbsp;</B><BR>
<B>AddReg=</B><I>add-registry-section</I>[<B>,</B> <I>add-registry-section</I>] ...</P>

<P>The rest of this section describes the formal syntax and meaning for each system-defined named section, standard INF-writer-defined section, and directive that can be specified in an INF file. </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Summary%20of%20INF%20Directives"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
