<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>IOCTL_PAR_IS_PORT_FREE</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="IOCTL_PAR_IS_PORT_FREE">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Parallel&nbsp;Ports&nbsp;and&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_ioctl_par_is_port_free_parport_kr"></A>IOCTL_PAR_IS_PORT_FREE</H1>

<H4>Operation</H4>

<P>The IOCTL_PAR_IS_PORT_FREE request determines if a parallel device's parent parallel port is free at the time the system-supplied bus driver for parallel ports processes the request. This request is provided primarily for user-mode clients.</P>

<P>This request is processed immediately after the I/O Manager calls the parallel port bus driver's dispatch routine for device control requests. Note, however, that the status of the parallel port can change between the time that the parallel port bus driver completes the request and the time that control returns to a user-mode client.</P>

<P>Kernel-mode clients can directly determine if a parallel port is free by calling the system-supplied <A HREF="cisspd_01wy.htm">PPARALLEL_TRY_ALLOCATE_ROUTINE</A> callback.</P>

<P>For more information, see <A HREF="vspd_8js7.htm">Locking and Unlocking a Parallel Port for Use by a Parallel Device</A>.</P>

<H4>Input</H4>

<P>None.</P>

<H4>Output</H4>

<P>The <B>AssociatedIrp.SystemBuffer</B> member points to a BOOLEAN buffer that the client allocates to output the status of the parallel port. If the parallel port is free, The system-supplied function driver for parallel ports sets the buffer to TRUE, otherwise it sets the buffer to FALSE.</P>

<H4>I/O Status Block</H4>

<P>The <B>Information</B> member is set to the size, in bytes, of a BOOLEAN.</P>

<P>The <B>Status</B> member is set to one of the <A HREF="cisspd_89wy.htm#ddk_generic_status_values_returned_by_device_control_requests_for_parallel_devices_kr">generic status values returned by device control requests for parallel devices</A> or to the following value:

<DL>
<DT>STATUS_BUFFER_TOO_SMALL</DT>

<DD>The <B>Parameters.DeviceIoControl.OutputBufferLength</B> member is less than the size, in bytes, of a BOOLEAN.
</DD>
</DL>

<H4>Headers</H4>

<P>Defined in <I>ntddpar.h</I>. Include <I>ntddpar.h</I>.</P>

<H4>See Also</H4>

<P><A HREF="cisspd_094i.htm">IOCTL_INTERNAL_PARALLEL_PORT_FREE</A>, <A HREF="cisspd_0qlu.htm">IOCTL_INTERNAL_LOCK_PORT</A>, <A HREF="cisspd_01wy.htm">PPARALLEL_TRY_ALLOCATE_ROUTINE</A></P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: IOCTL_PAR_IS_PORT_FREE"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
