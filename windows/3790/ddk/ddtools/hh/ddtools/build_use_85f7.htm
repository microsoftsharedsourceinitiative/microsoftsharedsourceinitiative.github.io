<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Building a Sample Driver</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Building a Sample Driver">
<META NAME="MS-HKWD" CONTENT="sample driver building">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Driver&nbsp;Development&nbsp;Tools:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H4><A NAME="ddk_building_a_sample_driver_tools"></A>Building a Sample Driver</H4>

<P>Although the Build utility has a great number of features — and some of them are rather obscure — it is very easy to begin using this utility to build useful binaries.</P>

<P class=proch><B><IMG SRC="../images/wedge.gif" ALT="" BORDER=0>To build a single DDK sample driver</B>

<OL>
	<LI>Open a build environment window. The command prompt appears with the DDK installation directory as its current directory.</LI>

	<LI>Change to the <I>src</I> subdirectory of the DDK directory. Within this directory are all the samples. Navigate to the subdirectory containing the sample you want to build.</LI>

	<LI>Invoke the Build utility with the <B>-cZ</B> options, as in the following example:
<PRE>E:\DDK&gt; <B>cd src</B>
E:\DDK\src&gt; <B>cd wdm\AVStream\avssamp</B>
E:\DDK\src\wdm\AVStream\avssamp&gt; <B>build -cZ</B>
</PRE>
</LI>
</OL>

<P>The <B>-cZ</B> option creates a clean build of the samples (by deleting all preexisting .<I>obj</I> files). It also inhibits the dependency checking of source and header files. For other available options, see <A HREF="build_ref_7sdv.htm">Build Utility Command-Line Options</A> and <A HREF="build_use_4h9v.htm">Using Macros and Environment Variables</A>. The <A HREF="build_ref_3egj.htm"><I>sources</I> file</A> lets the Build utility know what to build.</P>

<P class=proch><B><IMG SRC="../images/wedge.gif" ALT="" BORDER=0>To build all samples at once</B>

<OL>
	<LI>Open a build environment window. The command prompt appears with the DDK installation directory as its current directory.</LI>

	<LI>Change to the <I>src</I> subdirectory of the DDK directory.</LI>

	<LI>Invoke the Build utility with the <B>-cZ</B> options, as in the following example:
<PRE>E:\DDK&gt; <B>cd src</B>
E:\DDK\src&gt; <B>build -cZ</B>
</PRE>
</LI>
</OL>

<P>The <A HREF="build_ref_6vzn.htm"><I>dirs</I> files</A> in the sample tree instruct the Build utility on how to recurse through the entire tree.</P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Building%20a%20Sample%20Driver"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
