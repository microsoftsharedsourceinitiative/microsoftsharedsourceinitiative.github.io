<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>MASTER_VERSION_FILE</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="MASTER_VERSION_FILE build macro">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Driver&nbsp;Development&nbsp;Tools:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_master_version_file_tools"></A>MASTER_VERSION_FILE</H1>

<P>The MASTER_VERSION_FILE macro specifies the file name of a master version file.</P>

<P>Every binary created by the Build utility has a version number on it. These are usually based on version resources created by Microsoft when products built for NT-based operating systems are created.</P>

<P>You can use Windows Explorer or <I>filever.exe</I> to view properties and see which version resource the Setup program uses when it copies that image onto a new system. The system checks whether or not the version resource is newer than the one already on the system. If it is, the resource is copied onto the system. Otherwise, it is not.</P>

<P>There is a master version file for NT-based operating systems, from which all version resources are built. The Master Version File for NT-based operating systems is called <I>ntverp.h</I> and it is located in <I>%DDKROOT%\inc\Version</I>, where <I>Version</I> indicates the version of Windows supported by the build environment — <B>w2k</B> for Windows&nbsp;2000, <B>wxp</B> for Windows&nbsp;XP, or <B>wnet</B> for Windows Server&nbsp;2003.</P>

<P>If you do not want to use the version specified in <I>ntverp.h</I>, you can specify a different master version file by setting MASTER_VERSION_FILE to the correct file name.</P>

<P>If you look on the very last line of <A HREF="build_ref_9oc3.htm"><I>makefile.def</I></A>, you will see the one place where MASTER_VERSION_FILE is used as a dependency for the resources. The <A HREF="build_ref_91ir.htm">TARGET_DIRECTORY</A> macro is always dependent on the master version file to determine the name of the resource for your image.</P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: MASTER_VERSION_FILE"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
