<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>TARGETLIBS</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="TARGETLIBS build macro">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Driver&nbsp;Development&nbsp;Tools:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_targetlibs_tools"></A>TARGETLIBS</H1>

<P>Use the TARGETLIBS macro to specify other libraries that you want to link against when building your image. This macro should be the primary method you use to specify the libraries or objects that you want to link against to build your image.</P>

<H4>TARGETLIBS Paths</H4>

<P>Paths specified in TARGETLIBS must be absolute. Separate the entries in this list with spaces or tabs.</P>

<P>The easiest way to define TARGETLIBS is to refer to the <A HREF="build_ref_7mur.htm">DDK_LIB_PATH</A>, <A HREF="build_ref_3e9f.htm">SDK_LIB_PATH</A>, or <A HREF="build_ref_3bhv.htm">CRT_LIB_PATH</A> environment variable. For example:</P>

<PRE>TARGETLIBS=$(SDK_LIB_PATH)\kernel32.lib \
           $(SDK_LIB_PATH)\advapi32.lib \
           $(SDK_LIB_PATH)\user32.lib   \
           $(SDK_LIB_PATH)\spoolss.lib
</PRE>

<P>If you do not want to use these environment variables, you must define TARGETLIBS path names in a special way. Because the Build utility can create build products for several hardware platforms, the destination path for build products is constructed as follows:</P>

<PRE>%TARGETPATH%\&lt;cpu_type&gt;\
</PRE>

<P>where <A HREF="build_ref_6mwj.htm">TARGETPATH</A> is defined in the <I>sources</I> file, and <I>cpu_type</I> specifies the platform for which the products were built.</P>

<P>For example, if TARGETPATH is defined as LIB and a build request is made for an x86 processor, the build products will be directed to the following subdirectory:</P>

<PRE>lib\i386\
</PRE>

<P>Because of this convention, TARGETLIBS entries should specify library names in the following form:</P>

<PRE>&lt;targetpath&gt;\*\&lt;library_name&gt;
</PRE>

<P>where <I>targetpath</I> is identical to the value assigned to TARGETPATH in the <I>sources</I> file, and <I>library_name</I> is the full file name of the library to be linked to the executable file. The Build utility replaces the asterisk (&nbsp;<B>*</B>&nbsp;) with the target platform type.</P>

<H4>LINKLIBS  </H4>

<P>You can also use the <A HREF="build_ref_3ddf.htm">LINKLIBS</A> macro to specify the libraries that you need to link against. This macro is needed for some DLL builds, but it must be used carefully. For more information, see its reference page.</P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: TARGETLIBS"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
