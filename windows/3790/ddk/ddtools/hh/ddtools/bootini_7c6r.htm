<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Changing Boot Parameters</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Changing Boot Parameters">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Driver&nbsp;Development&nbsp;Tools:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H2><A NAME="ddk_changing_boot_parameters_tools"></A>Changing Boot Parameters</H2>

<P>To enable and configure boot-related operating system features, such as debugging, you must add boot parameters to a boot entry for the operating system. </P>

<P>For a list of boot parameters that are related to developing, testing, and debugging drivers, see the <A HREF="bootini_28hf.htm">Boot Parameter Reference</A>.</P>

<P>For examples of boot entries configured for driver debugging and testing, see <A HREF="bootini_1gj7.htm">Using Boot Parameters</A>.</P>

<P>To add or change boot parameters of a boot entry on an x86-based system, you can use Bootcfg or edit the <I>boot.ini</I> file in Notepad. On an Itanium-based system, you can use Bootcfg or Nvrboot.</P>

<H4>Using Bootcfg</H4>

<P>In the Bootcfg display, the boot parameters appear in the <I>OS Load Options</I> (32-bit) or <I>OSLoadOptions</I> (64-bit) fields.</P>

<P>The following Bootcfg sample shows the display from the 64-bit version of Bootcfg. The sample boot entry includes the <A HREF="bootini_08ab.htm"><B>/fastdetect</B></A>, <A HREF="bootini_39f7.htm"><B>/debugport</B></A>, and <A HREF="bootini_39f7.htm"><B>/baudrate</B></A> parameters.</P>

<PRE>Boot entry ID:    2
OS Friendly Name: Microsoft Windows XP 64-Bit Edition
<B>OsLoadOptions:     /fastdetect /debugport=COM1 /baudrate=115200</B>
BootFilePath:     \Device\HarddiskVolume1\EFI\Microsoft\WINNT50C\ia64ldr.efi
OsFilePath:       \Device\HarddiskVolume3\WINDOWS.0
</PRE>

<P>To add a boot parameter to a boot entry, use the Bootcfg parameter-specific switches, such as <B>/ems</B>, <B>/debug</B>, and <B>/dbg1394</B>, or the Bootcfg <B>/addsw</B> or <B>/raw</B> switches. For a complete list of Bootcfg switches, type <B>bootcfg&nbsp;/?</B>.</P>

<P>For example, the following Bootcfg command uses the Bootcfg <B>/addsw</B> switch with the <B>/MM</B> argument and a value of <B>512</B> to add the <A HREF="bootini_7s37.htm"><B>/maxmem</B></A> boot parameter to the second entry in the <B>Boot Entries</B> section and to set the value of <B>/maxmem</B> to 512 (MB). The <B>/ID</B> switch with a value of <B>2</B> identifies the second boot entry (line number <B>2</B>).</P>

<PRE>bootcfg /addsw /MM 512 /ID 2
</PRE>

<P>The resulting entry is shown in a sample display from the 64-bit version of Bootcfg.</P>

<PRE>Boot entry ID:    2
OS Friendly Name: Microsoft Windows XP 64-Bit Edition
<B>OsLoadOptions:     /fastdetect /debugport=COM1 /baudrate=115200 /maxmem=512</B>
BootFilePath:     \Device\HarddiskVolume1\EFI\Microsoft\WINNT50C\ia64ldr.efi
OsFilePath:       \Device\HarddiskVolume3\WINDOWS.0
</PRE>

<H4>Editing the <I>boot.ini</I> File</H4>

<P>In the <I>boot.ini</I> file, the boot parameters appear in the boot entry immediately following the friendly name. </P>

<P>For example, the following boot entry in the <I>boot.ini</I> file includes the <A HREF="bootini_08ab.htm"><B>/fastdetect</B></A>, <A HREF="bootini_39f7.htm"><B>/debugport</B></A>, and <A HREF="bootini_39f7.htm"><B>/baudrate</B></A> parameters.</P>

<PRE>multi(0)disk(0)rdisk(0)partition(1)\WINDOWS="Windows&nbsp;XP Debug1" /fastdetect /debugport=COM1 /baudrate=57600
</PRE>

<P>To add a boot parameter, type the parameter, using the prescribed syntax.</P>

<P>For example, to add the <A HREF="bootini_7s37.htm"><B>/maxmem</B></A> parameter, which limits the physical memory available to the operating system to the specified value, type <B>/maxmem</B> and a value in MB in the list of boot parameters in the entry. Parameters can appear in any order. In the following example, the <B>/maxmem</B> parameter and a value of 512 (MB) appear at the end of the parameter list.</P>

<PRE>multi(0)disk(0)rdisk(0)partition(1)\WINDOWS="Windows&nbsp;XP Debug1" /fastdetect /debugport=COM1 /baudrate=57600 <B>/maxmem=512</B>
</PRE>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Changing%20Boot%20Parameters"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
