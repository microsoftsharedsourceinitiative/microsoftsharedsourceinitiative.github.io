<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Bug Check 0xC4:  DRIVER_VERIFIER_DETECTED_VIOLATION</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="bug check 0xC4">
<META NAME="MS-HKWD" CONTENT="DRIVER_VERIFIER_DETECTED_VIOLATION">
<META NAME="MS-HKWD" CONTENT="Driver Verifier, bug check 0xC4">
</HEAD>
<BODY TOPMARGIN="0">
<DIV STYLE="display:none;">
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_keraiseirql_kr">
</OBJECT>
<OBJECT ID="hhobj_2" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_kelowerirql_kr">
</OBJECT>
<OBJECT ID="hhobj_3" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_kereleasespinlock_kr">
</OBJECT>
<OBJECT ID="hhobj_4" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_obreferenceobjectbyhandle_kr">
</OBJECT>
<OBJECT ID="hhobj_5" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_exacquireresourceexclusive_kr">
</OBJECT>
<OBJECT ID="hhobj_6" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_keacquirespinlockatdpclevel_kr">
</OBJECT>
<OBJECT ID="hhobj_7" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_kereleasespinlockfromdpclevel_kr">
</OBJECT>
<OBJECT ID="hhobj_8" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_keacquirespinlock_kr">
</OBJECT>
<OBJECT ID="hhobj_9" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_mmprobeandlockpages_kr">
</OBJECT>
<OBJECT ID="hhobj_10" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_mmprobeandlockpages_kr">
</OBJECT>
<OBJECT ID="hhobj_11" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_mmprobeandlockprocesspages_kr">
</OBJECT>
<OBJECT ID="hhobj_12" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_mmmapiospace_kr">
</OBJECT>
<OBJECT ID="hhobj_13" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_mmmaplockedpages_kr">
</OBJECT>
<OBJECT ID="hhobj_14" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_mmmaplockedpages_kr">
</OBJECT>
<OBJECT ID="hhobj_15" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_mmmaplockedpagesspecifycache_kr">
</OBJECT>
<OBJECT ID="hhobj_16" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_mmmaplockedpagesspecifycache_kr">
</OBJECT>
<OBJECT ID="hhobj_17" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_mmunlockpages_kr">
</OBJECT>
<OBJECT ID="hhobj_18" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_mmunmaplockedpages_kr">
</OBJECT>
<OBJECT ID="hhobj_19" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_mmunmaplockedpages_kr">
</OBJECT>
<OBJECT ID="hhobj_20" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_mmunmapiospace_kr">
</OBJECT>
<OBJECT ID="hhobj_21" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_mmunlockpages_kr">
</OBJECT>
<OBJECT ID="hhobj_22" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_mmunlockpages_kr">
</OBJECT>
<OBJECT ID="hhobj_23" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_kesetevent_kr">
</OBJECT>
<OBJECT ID="hhobj_24" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_mmmaplockedpages_kr">
</OBJECT>
<OBJECT ID="hhobj_25" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_mmmaplockedpagesspecifycache_kr">
</OBJECT>
<OBJECT ID="hhobj_26" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_mmmaplockedpagesspecifycache_kr">
</OBJECT>
<OBJECT ID="hhobj_27" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_mmmapiospace_kr">
</OBJECT>
<OBJECT ID="hhobj_28" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_mmmapiospace_kr">
</OBJECT>
<OBJECT ID="hhobj_29" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_mmmaplockedpages_kr">
</OBJECT>
<OBJECT ID="hhobj_30" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_mmmaplockedpages_kr">
</OBJECT>
<OBJECT ID="hhobj_31" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_mmmapiospace_kr">
</OBJECT>
<OBJECT ID="hhobj_32" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_mmmapiospace_kr">
</OBJECT>
</DIV>


<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Driver&nbsp;Development&nbsp;Tools:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_bug_check_0xc4_bug"></A>Bug Check 0xC4: DRIVER_VERIFIER_DETECTED_VIOLATION</H1>

<P>The DRIVER_VERIFIER_DETECTED_VIOLATION bug check has a value of 0x000000C4. This is the general bug check code for fatal errors found by Driver Verifier.</P>

<H4>Parameters</H4>

<P>The four bug check parameters are displayed on the blue screen. Parameter&nbsp;1 identifies the type of violation.</P>

<P>The following parameters are general Driver Verifier violation codes:</P>

<TABLE>

<TR VALIGN="top">
<TH align=left width=11%>Parameter 1</TH>
<TH align=left width=16%>Parameter 2</TH>
<TH align=left width=18%>Parameter 3</TH>
<TH align=left width=18%>Parameter 4</TH>
<TH align=left width=37%>Cause of Error</TH>
</TR>

<TR VALIGN="top">
<TD width=11%>0x00</TD>
<TD width=16%>Current IRQL</TD>
<TD width=18%>Pool type</TD>
<TD width=18%>0 </TD>
<TD width=37%>The driver requested a zero-byte pool allocation. </TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x01</TD>
<TD width=16%>Current IRQL</TD>
<TD width=18%>Pool type</TD>
<TD width=18%>Size of allocation, in bytes</TD>
<TD width=37%>The driver attempted to allocate paged memory at an IRQL above APC_LEVEL. </TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x02</TD>
<TD width=16%>Current IRQL</TD>
<TD width=18%>Pool type</TD>
<TD width=18%>Size of allocation, in bytes</TD>
<TD width=37%>The driver attempted to allocate nonpaged memory at an IRQL above DISPATCH_LEVEL. </TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x10</TD>
<TD width=16%>Bad Address</TD>
<TD width=18%>0 </TD>
<TD width=18%>0 </TD>
<TD width=37%>The driver attempted to free an address that was not returned from an allocate call. </TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x11</TD>
<TD width=16%>Current IRQL</TD>
<TD width=18%>Pool type</TD>
<TD width=18%>Address of pool</TD>
<TD width=37%>The driver attempted to free paged pool at an IRQL above APC_LEVEL. </TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x12</TD>
<TD width=16%>Current IRQL</TD>
<TD width=18%>Pool type</TD>
<TD width=18%>Address of pool</TD>
<TD width=37%>The driver attempted to free nonpaged pool at an IRQL above DISPATCH_LEVEL. </TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x13<BR>
or<BR>
0x14</TD>
<TD width=16%>Reserved    </TD>
<TD width=18%>Pointer to pool header</TD>
<TD width=18%>Pool header contents</TD>
<TD width=37%>The driver attempted to free memory pool which was already freed.  </TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x15</TD>
<TD width=16%>Timer entry</TD>
<TD width=18%>Pool type (-1 for special pool)</TD>
<TD width=18%>Pool address being freed</TD>
<TD width=37%>The driver attempted to free pool which contains an active timer. </TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x16</TD>
<TD width=16%>Reserved</TD>
<TD width=18%>Pool address</TD>
<TD width=18%>0 </TD>
<TD width=37%>The driver attempted to free pool at a bad address (or passed invalid parameters to a memory routine). </TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x17</TD>
<TD width=16%>Resource entry</TD>
<TD width=18%>Pool type (-1 for special pool)</TD>
<TD width=18%>Pool address being freed</TD>
<TD width=37%>The driver attempted to free pool which contains an active ERESOURCE. </TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x30</TD>
<TD width=16%>Current IRQL</TD>
<TD width=18%>Requested IRQL</TD>
<TD width=18%>0 </TD>
<TD width=37%>The driver passed an invalid parameter to <A HREF="JavaScript:hhobj_1.Click()"><B>KeRaiseIrql</B></A>. 
<P>(The parameter was either a value lower than the current IRQL, or a value higher than HIGH_LEVEL. This may be the result of using an uninitialized parameter.) </P>
</TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x31</TD>
<TD width=16%>Current IRQL</TD>
<TD width=18%>Requested IRQL</TD>
<TD width=18%>0 </TD>
<TD width=37%>The driver passed an invalid parameter to <A HREF="JavaScript:hhobj_2.Click()"><B>KeLowerIrql</B></A>. 
<P>(The parameter was either a value higher than the current IRQL, or a value higher than HIGH_LEVEL. This may be the result of using an uninitialized parameter.) </P>
</TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x32</TD>
<TD width=16%>Current IRQL</TD>
<TD width=18%>Spin lock address</TD>
<TD width=18%>0 </TD>
<TD width=37%>The driver called <A HREF="JavaScript:hhobj_3.Click()"><B>KeReleaseSpinLock</B></A> at an IRQL other than DISPATCH_LEVEL.
<P>(This may be due to a double-release of a spin lock.) </P>
</TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x33</TD>
<TD width=16%>Current IRQL</TD>
<TD width=18%>Fast mutex address</TD>
<TD width=18%>0 </TD>
<TD width=37%>The driver attempted to acquire fast mutex at an IRQL above APC_LEVEL. </TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x34</TD>
<TD width=16%>Current IRQL</TD>
<TD width=18%>Fast mutex address</TD>
<TD width=18%>0 </TD>
<TD width=37%>The driver attempted to release fast mutex at an IRQL other than APC_LEVEL.  </TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x35</TD>
<TD width=16%>Current IRQL</TD>
<TD width=18%>Spin lock address</TD>
<TD width=18%>Old IRQL</TD>
<TD width=37%>The kernel released a spin lock when not at DISPATCH_LEVEL. </TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x36</TD>
<TD width=16%>Current IRQL</TD>
<TD width=18%>Spin lock number</TD>
<TD width=18%>Old IRQL</TD>
<TD width=37%>The kernel released a queued spin lock when not at DISPATCH_LEVEL. </TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x37</TD>
<TD width=16%>Current IRQL</TD>
<TD width=18%>Thread APC disable count</TD>
<TD width=18%>Resource</TD>
<TD width=37%>The driver tried to acquire a resource, but APCs are not disabled. </TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x38</TD>
<TD width=16%>Current IRQL</TD>
<TD width=18%>Thread APC disable count</TD>
<TD width=18%>Resource</TD>
<TD width=37%>The driver tried to release a resource, but APCs are not disabled. </TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x39</TD>
<TD width=16%>Current IRQL</TD>
<TD width=18%>Thread APC disable count</TD>
<TD width=18%>Mutex</TD>
<TD width=37%>The driver tried to acquire a mutex "unsafe", but the IRQL was not APC_LEVEL on entry. </TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x3A</TD>
<TD width=16%>Current IRQL</TD>
<TD width=18%>Thread APC disable count</TD>
<TD width=18%>Mutex</TD>
<TD width=37%>The driver tried to release a mutex "unsafe", but the IRQL was not APC_LEVEL on entry. </TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x3B</TD>
<TD width=16%>Current IRQL</TD>
<TD width=18%>Object to wait on</TD>
<TD width=18%>Timeout parameter</TD>
<TD width=37%>The driver called <B>KeWaitXxx</B> at an IRQL of DISPATCH_LEVEL or higher.
<P>(This is permitted only if the driver already owns the DISPATCHER lock and it passes a timeout value of zero to the routine.) </P>
</TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x3C</TD>
<TD width=16%>Handle passed to routine</TD>
<TD width=18%>Object type</TD>
<TD width=18%>0 </TD>
<TD width=37%>The driver called <A HREF="JavaScript:hhobj_4.Click()"><B>ObReferenceObjectByHandle</B></A> with a bad handle. </TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x3D</TD>
<TD width=16%>0 </TD>
<TD width=18%>0 </TD>
<TD width=18%>Address of the bad resource </TD>
<TD width=37%>The driver passed a bad (unaligned) resource to <A HREF="JavaScript:hhobj_5.Click()"><B>ExAcquireResourceExclusive</B></A>. </TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x40</TD>
<TD width=16%>Current IRQL</TD>
<TD width=18%>Spin lock address</TD>
<TD width=18%>0 </TD>
<TD width=37%>The driver called <A HREF="JavaScript:hhobj_6.Click()"><B>KeAcquireSpinLockAtDpcLevel</B></A> at an IRQL other than DISPATCH_LEVEL. </TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x41</TD>
<TD width=16%>Current IRQL</TD>
<TD width=18%>Spin lock address</TD>
<TD width=18%>0 </TD>
<TD width=37%>The driver called <A HREF="JavaScript:hhobj_7.Click()"><B>KeReleaseSpinLockFromDpcLevel</B></A> at an IRQL other than DISPATCH_LEVEL. </TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x42</TD>
<TD width=16%>Current IRQL</TD>
<TD width=18%>Spin lock address</TD>
<TD width=18%>0 </TD>
<TD width=37%>The driver called <A HREF="JavaScript:hhobj_8.Click()"><B>KeAcquireSpinLock</B></A> at an IRQL above DISPATCH_LEVEL. </TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x6F</TD>
<TD width=16%>MDL address</TD>
<TD width=18%>Physical page being locked</TD>
<TD width=18%>Highest physical page in the system</TD>
<TD width=37%>The driver passed a page to <A HREF="JavaScript:hhobj_9.Click()"><B>MmProbeAndLockPages</B></A> that was not in the PFN database.
<P>(This often results from a driver that attempts to lock its own private dualport RAM. Such behavior can corrupt memory on machines with noncontiguous physical RAM.)</P>
</TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x70</TD>
<TD width=16%>Current IRQL</TD>
<TD width=18%>MDL address</TD>
<TD width=18%>Access mode</TD>
<TD width=37%>The driver called <A HREF="JavaScript:hhobj_10.Click()"><B>MmProbeAndLockPages</B></A> at an IRQL above DISPATCH_LEVEL. </TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x71</TD>
<TD width=16%>Current IRQL</TD>
<TD width=18%>MDL address</TD>
<TD width=18%>Process address</TD>
<TD width=37%>The driver called <A HREF="JavaScript:hhobj_11.Click()"><B>MmProbeAndLockProcessPages</B></A> at an IRQL above DISPATCH_LEVEL. </TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x72</TD>
<TD width=16%>Current IRQL</TD>
<TD width=18%>MDL address</TD>
<TD width=18%>Process address</TD>
<TD width=37%>The driver called <B>MmProbeAndLockSelectedPages</B> at an IRQL above DISPATCH_LEVEL. </TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x73</TD>
<TD width=16%>Current IRQL</TD>
<TD width=18%>Low 32 bits of the physical address (all 64 bits in Win64)</TD>
<TD width=18%>Number of bytes</TD>
<TD width=37%>The driver called <A HREF="JavaScript:hhobj_12.Click()"><B>MmMapIoSpace</B></A> at an IRQL above DISPATCH_LEVEL.           </TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x74</TD>
<TD width=16%>Current IRQL</TD>
<TD width=18%>MDL address</TD>
<TD width=18%>Access mode</TD>
<TD width=37%>The driver called <A HREF="JavaScript:hhobj_13.Click()"><B>MmMapLockedPages</B></A> in kernel mode at an IRQL above DISPATCH_LEVEL. </TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x75</TD>
<TD width=16%>Current IRQL</TD>
<TD width=18%>MDL address</TD>
<TD width=18%>Access mode</TD>
<TD width=37%>The driver called <A HREF="JavaScript:hhobj_14.Click()"><B>MmMapLockedPages</B></A> in user mode at an IRQL above APC_LEVEL. </TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x76</TD>
<TD width=16%>Current IRQL</TD>
<TD width=18%>MDL address</TD>
<TD width=18%>Access mode</TD>
<TD width=37%>The driver called <A HREF="JavaScript:hhobj_15.Click()"><B>MmMapLockedPagesSpecifyCache</B></A> in kernel mode at an IRQL above DISPATCH_LEVEL. </TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x77</TD>
<TD width=16%>Current IRQL</TD>
<TD width=18%>MDL address</TD>
<TD width=18%>Access mode</TD>
<TD width=37%>The driver called <A HREF="JavaScript:hhobj_16.Click()"><B>MmMapLockedPagesSpecifyCache</B></A> in user mode at an IRQL above APC_LEVEL. </TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x78</TD>
<TD width=16%>Current IRQL</TD>
<TD width=18%>MDL address</TD>
<TD width=18%>0 </TD>
<TD width=37%>The driver called <A HREF="JavaScript:hhobj_17.Click()"><B>MmUnlockPages</B></A> at an IRQL above DISPATCH_LEVEL. </TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x79</TD>
<TD width=16%>Current IRQL</TD>
<TD width=18%>Virtual address being unmapped</TD>
<TD width=18%>MDL address</TD>
<TD width=37%>The driver called <A HREF="JavaScript:hhobj_18.Click()"><B>MmUnmapLockedPages</B></A> in kernel mode at an IRQL above DISPATCH_LEVEL. </TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x7A</TD>
<TD width=16%>Current IRQL</TD>
<TD width=18%>Virtual address being unmapped</TD>
<TD width=18%>MDL address</TD>
<TD width=37%>The driver called <A HREF="JavaScript:hhobj_19.Click()"><B>MmUnmapLockedPages</B></A> in user mode at an IRQL above APC_LEVEL. </TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x7B</TD>
<TD width=16%>Current IRQL</TD>
<TD width=18%>Virtual address being unmapped</TD>
<TD width=18%>Number of bytes</TD>
<TD width=37%>The driver called <A HREF="JavaScript:hhobj_20.Click()"><B>MmUnmapIoSpace</B></A> at an IRQL above APC_LEVEL. </TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x7C</TD>
<TD width=16%>MDL address</TD>
<TD width=18%>MDL flags</TD>
<TD width=18%>0 </TD>
<TD width=37%>The driver called <A HREF="JavaScript:hhobj_21.Click()"><B>MmUnlockPages</B></A>, and passed an MDL whose pages were never successfully locked. </TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x7D</TD>
<TD width=16%>MDL address</TD>
<TD width=18%>MDL flags</TD>
<TD width=18%>0 </TD>
<TD width=37%>The driver called <A HREF="JavaScript:hhobj_22.Click()"><B>MmUnlockPages</B></A>, and passed an MDL whose pages are from nonpaged pool.
<P>(These should never be unlocked.) </P>
</TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x80</TD>
<TD width=16%>Current IRQL</TD>
<TD width=18%>Event address</TD>
<TD width=18%>0 </TD>
<TD width=37%>The driver called <A HREF="JavaScript:hhobj_23.Click()"><B>KeSetEvent</B></A> at an IRQL above DISPATCH_LEVEL. </TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x81</TD>
<TD width=16%>MDL address</TD>
<TD width=18%>MDL flags</TD>
<TD width=18%>0 </TD>
<TD width=37%>The driver called <A HREF="JavaScript:hhobj_24.Click()"><B>MmMapLockedPages</B></A>.
<P>(You should use <A HREF="JavaScript:hhobj_25.Click()"><B>MmMapLockedPagesSpecifyCache</B></A> instead, with the <I>BugCheckOnFailure</I> parameter set to FALSE.)</P>
</TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x82</TD>
<TD width=16%>MDL address</TD>
<TD width=18%>MDL flags</TD>
<TD width=18%>0 </TD>
<TD width=37%>The driver called <A HREF="JavaScript:hhobj_26.Click()"><B>MmMapLockedPagesSpecifyCache</B></A> with the <I>BugCheckOnFailure</I> parameter equal to TRUE.
<P>(This parameter should be set to FALSE.)</P>
</TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x83</TD>
<TD width=16%>Start of physical address range to map</TD>
<TD width=18%>Number of bytes to map</TD>
<TD width=18%>First page frame number that isn't locked down</TD>
<TD width=37%>The driver called <A HREF="JavaScript:hhobj_27.Click()"><B>MmMapIoSpace</B></A> without having locked down the MDL pages. </TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x84</TD>
<TD width=16%>Start of physical address range to map</TD>
<TD width=18%>Number of bytes to map</TD>
<TD width=18%>First page frame number that is on the free list</TD>
<TD width=37%>The driver called <A HREF="JavaScript:hhobj_28.Click()"><B>MmMapIoSpace</B></A> without having locked down the MDL pages (or after freeing the MDL pages).  </TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x85</TD>
<TD width=16%>MDL address</TD>
<TD width=18%>Number of pages to map</TD>
<TD width=18%>First page frame number that isn't locked down</TD>
<TD width=37%>The driver called <A HREF="JavaScript:hhobj_29.Click()"><B>MmMapLockedPages</B></A> without having locked down the MDL pages. </TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x86</TD>
<TD width=16%>MDL address</TD>
<TD width=18%>Number of pages to map</TD>
<TD width=18%>First page frame number that is on the free list</TD>
<TD width=37%>The driver called <A HREF="JavaScript:hhobj_30.Click()"><B>MmMapLockedPages</B></A> without having locked down the MDL pages (or after freeing the MDL pages).  </TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x87</TD>
<TD width=16%>Base physical page of the existing mapping
<P>(Shift left for physical address)</P>
</TD>
<TD width=18%>Number of pages already mapped in the existing mapping</TD>
<TD width=18%>MEMORY_CACHING_TYPE of the existing mapping</TD>
<TD width=37%>The driver called <A HREF="JavaScript:hhobj_31.Click()"><B>MmMapIoSpace</B></A>, but the caller's cache type conflicts with an existing mapping.</TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x88</TD>
<TD width=16%>Base physical page of the requested mapping
<P>(Shift left for physical address)</P>
</TD>
<TD width=18%>Number of pages in the requested mapping</TD>
<TD width=18%>MEMORY_CACHING_TYPE of the requested mapping</TD>
<TD width=37%>The driver called <A HREF="JavaScript:hhobj_32.Click()"><B>MmMapIoSpace</B></A> to map a physical range as non-cached or write-combined, but the caller's physical range already has an existing cached mapping.</TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x89</TD>
<TD width=16%>MDL address</TD>
<TD width=18%>Pointer to the non-memory page in the MDL</TD>
<TD width=18%>The non-memory page number in the MDL</TD>
<TD width=37%>An MDL is not marked as "I/O", but it contains non-memory page addresses.</TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x8A</TD>
<TD width=16%>MDL address</TD>
<TD width=18%>Base physical page of the requested mapping
<P>(Shift left for physical address)</P>
</TD>
<TD width=18%>MEMORY_CACHING_TYPE of the requested mapping</TD>
<TD width=37%>The driver called <B>MmMapLockedPages<I>Xxx</I></B> to map a physical range as non-cached or write-combined, but the caller's physical range already has an existing cached mapping.</TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x90</TD>
<TD width=16%>Reserved</TD>
<TD width=18%>Reserved</TD>
<TD width=18%>Reserved</TD>
<TD width=37%>The driver switched stacks, and the current stack is neither a thread stack nor a DPC stack.
<P>(Typically, the driver doing this should be on the stack obtained by the <B>KB</B> debugger command.)      </P>
</TD>
</TR>
</TABLE><BR>



<P><A NAME="ddk_bug_check_0xc4_verifier_mpt_bug"></A>The following parameters are used only when the <B>Memory Pool Tracking</B><I> </I>option of Driver Verifier is active.</P>

<TABLE>

<TR VALIGN="top">
<TH align=left width=11%>Parameter 1</TH>
<TH align=left width=20%>Parameter 2</TH>
<TH align=left width=20%>Parameter 3</TH>
<TH align=left width=19%>Parameter 4</TH>
<TH align=left width=30%>Cause of Error</TH>
</TR>

<TR VALIGN="top">
<TD width=11%>0x51</TD>
<TD width=20%>Base address of allocation</TD>
<TD width=20%>Corrupt address</TD>
<TD width=19%>Number of charged bytes</TD>
<TD width=30%>The driver attempted to free memory after having written past the end of the allocation. </TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x52</TD>
<TD width=20%>Base address of allocation</TD>
<TD width=20%>Reserved </TD>
<TD width=19%>Number of charged bytes</TD>
<TD width=30%>The driver attempted to free memory after having written past the end of the allocation. </TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x53,<BR>
0x54,<BR>
or<BR>
0x59</TD>
<TD width=20%>Base address of allocation</TD>
<TD width=20%>Reserved  </TD>
<TD width=19%>Reserved  </TD>
<TD width=30%>The driver attempted to free memory after having written past the end of the allocation. </TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x60</TD>
<TD width=20%>Bytes allocated from paged pool</TD>
<TD width=20%>Bytes allocated from nonpaged pool</TD>
<TD width=19%>Total number of unfreed allocations</TD>
<TD width=30%>The driver is unloading without first freeing all its memory pools. </TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x61</TD>
<TD width=20%>Bytes allocated from paged pool</TD>
<TD width=20%>Bytes allocated from nonpaged pool</TD>
<TD width=19%>Total number of unfreed allocations</TD>
<TD width=30%>The driver is unloading, but it is simultaneously attempting to allocate pool in another thread. </TD>
</TR>
</TABLE><BR>



<P><A NAME="ddk_bug_check_0xc4_verifier_dd_bug"></A>The following parameters are used only when the <B>Deadlock Detection</B><I> </I>option of Driver Verifier is active. This option is only available in Windows&nbsp;XP and later.</P>

<TABLE>

<TR VALIGN="top">
<TH align=left width=12%>Parameter 1</TH>
<TH align=left width=19%>Parameter 2</TH>
<TH align=left width=19%>Parameter 3</TH>
<TH align=left width=18%>Parameter 4</TH>
<TH align=left width=32%>Cause of Error</TH>
</TR>

<TR VALIGN="top">
<TD width=12%>0x1000</TD>
<TD width=19%>Address of the resource</TD>
<TD width=19%>Reserved</TD>
<TD width=18%>Reserved</TD>
<TD width=32%><B>Self-deadlock:</B> The current thread has tried to recursively acquire a resource. </TD>
</TR>

<TR VALIGN="top">
<TD width=12%>0x1001</TD>
<TD width=19%>Address of the resource that was the final cause of the deadlock</TD>
<TD width=19%>Reserved</TD>
<TD width=18%>Reserved</TD>
<TD width=32%><B>Deadlock:</B> A lock hierarchy violation has been found.
<P>(Use the <B>!deadlock</B> debugger extension for further information.) </P>
</TD>
</TR>

<TR VALIGN="top">
<TD width=12%>0x1002</TD>
<TD width=19%>Address of the resource</TD>
<TD width=19%>Reserved</TD>
<TD width=18%>Reserved</TD>
<TD width=32%><B>Uninitialized resource:</B> A resource has been acquired without having been initialized first. </TD>
</TR>

<TR VALIGN="top">
<TD width=12%>0x1003</TD>
<TD width=19%>Address of the resource that is being released deadlocked</TD>
<TD width=19%>Address of the resource which should have been released first</TD>
<TD width=18%>Reserved</TD>
<TD width=32%><B>Unexpected release:</B> A resource has been released out of the proper order. </TD>
</TR>

<TR VALIGN="top">
<TD width=12%>0x1004</TD>
<TD width=19%>Address of the resource</TD>
<TD width=19%>Address of the thread that acquired the resource</TD>
<TD width=18%>Address of the current thread</TD>
<TD width=32%><B>Unexpected thread:</B> The wrong thread is releasing a resource. </TD>
</TR>

<TR VALIGN="top">
<TD width=12%>0x1005</TD>
<TD width=19%>Address of the resource</TD>
<TD width=19%>Reserved</TD>
<TD width=18%>Reserved</TD>
<TD width=32%><B>Multiple initialization:</B> A resource is being initialized more than once. </TD>
</TR>

<TR VALIGN="top">
<TD width=12%>0x1006</TD>
<TD width=19%>Address of the thread being deleted</TD>
<TD width=19%>Address of the resource owned by the thread</TD>
<TD width=18%>Reserved</TD>
<TD width=32%><B>Thread holds resources:</B> A thread is being deleted without first releasing its resources. </TD>
</TR>

<TR VALIGN="top">
<TD width=12%>0x1007</TD>
<TD width=19%>Address of the resource</TD>
<TD width=19%>Reserved</TD>
<TD width=18%>Reserved</TD>
<TD width=32%><B>Unacquired resource:</B> A resource is being released without having first been acquired. </TD>
</TR>
</TABLE><BR>



<P><A NAME="ddk_bug_check_0xc4_verifier_div_bug"></A>The following parameters are used only when the <B>Disk Integrity Verification</B><I> </I>option of Driver Verifier is active. This option is only available in Windows Server&nbsp;2003 and later.</P>

<TABLE>

<TR VALIGN="top">
<TH align=left width=11%>Parameter 1</TH>
<TH align=left width=20%>Parameter 2</TH>
<TH align=left width=19%>Parameter 3</TH>
<TH align=left width=19%>Parameter 4</TH>
<TH align=left width=31%>Cause of Error</TH>
</TR>

<TR VALIGN="top">
<TD width=11%>0xA0</TD>
<TD width=20%>Pointer to the IRP making the read or write request</TD>
<TD width=19%>Device object of the lower device</TD>
<TD width=19%>Number of the sector in which the error was detected</TD>
<TD width=31%>A cyclic redundancy check (CRC) error was detected on a hard disk.</TD>
</TR>
</TABLE><BR>

<P>The _POOL_TYPE codes are enumerated in <I>ntddk.h</I>. In particular, zero indicates nonpaged pool and one indicates paged pool.</P>

<H4>Cause</H4>

<P>See the description of each code in the Parameters section for a description of the cause.</P>

<H4>Resolving the Problem</H4>

<P>This bug check can only occur when Driver Verifier has been instructed to monitor one or more drivers. If you did not intend to use Driver Verifier, you should deactivate it. You might consider removing the driver which caused this problem as well.</P>

<P>If you are the driver writer, use the information obtained through this bug check to fix the bugs in your code.</P>

<P>After a <B>Memory Allocation Tracking </B>bug check, use the following command in the kernel debugger:</P>

<PRE>kd&gt; <B>dp ViBadDriver L1; dS @$p</B>
</PRE>

<P>This will return the name of the driver causing the error.</P>

<P>Then use the the <B>!verifier</B> debugger extension:</P>

<PRE>kd&gt; <B>!verifier 3 </B><I>drivername</I><B>.sys</B>
</PRE>

<P>This will return information about the leaked memory allocations.</P>

<P>For full details, see <A HREF="dv_7g8j.htm">Driver Verifier</A>.  </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Bug%20Check%200xC4:%20%20DRIVER_VERIFIER_DETECTED_VIOLATION"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
