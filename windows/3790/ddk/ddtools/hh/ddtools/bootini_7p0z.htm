<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Editing Boot Options in NVRAM</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Editing Boot Options in NVRAM">
<META NAME="MS-HKWD" CONTENT="Bootcfg (Boot Options Editor)">
<META NAME="MS-HKWD" CONTENT="NvrBoot.efi (Boot Options Editor)">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Driver&nbsp;Development&nbsp;Tools:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H3><A NAME="ddk_editing_boot_options_in_nvram_tools"></A>Editing Boot Options in NVRAM</H3>

<P>To edit the boot options, in NVRAM, use Bootcfg (<I>bootcfg.exe</I>), a tool that runs in Windows, or Nvrboot (<I>nvrboot.efi</I>), a tool that runs in the EFI environment. Both tools are included in the 64-bit editions of Windows&nbsp;XP and Windows Server&nbsp;2003. </P>

<P>You can also view and change some boot options in the <B>Startup and Recovery</B> dialog box on the <B>Advanced</B> tab in System in Control Panel. Because this functionality is limited, it is not discussed in this section. For information about the <B>Startup and Recovery</B> dialog box, see Help and Support Center.</P>

<H4>Bootcfg</H4>

<P>Bootcfg (<I>bootcfg.exe</I>) is a command-line tool that edits boot options on a local or remote computer Using the same Bootcfg commands and procedures, you can edit the <I>boot.ini</I> file on an x86-based computer and the boot options in non-volatile RAM (NVRAM) on a Itanium-based computer. Bootcfg is included in the <I>%Systemroot%\System32</I> directory in Windows&nbsp;XP and Windows Server&nbsp;2003. </P>

<P>You can use Bootcfg to add, delete, and change the values of all valid boot options, except that you cannot set an indefinite timeout value. You can also use Bootcfg commands in a script or batch file to set boot options or to reset them after you replace or upgrade an operating system.</P>

<P>Using the version of Bootcfg designed for Itanium-based systems, you can also display the boot partition table, add boot entries for mirrored drives, and update the GUIDs for a system partition.</P>

<P>Bootcfg displays boot options in a user-friendly format. For example, it displays the OS file path and the boot loader file path as a partition object name followed by a Windows directory path.</P>

<P>You must be a member of the Administrators group on the computer to use Bootcfg. For detailed instructions on how to use  Bootcfg, see Help and Support Center.</P>

<H4>Nvrboot</H4>

<P>Nvrboot (<I>nvrboot.efi</I>) is an EFI-based boot entry editor included in the 64-bit editions of Windows&nbsp;XP and Windows Server&nbsp;2003. To use Nvrboot, you must select it from the boot menu. You cannot run Nvrboot while an operating system is running. </P>

<P>Nvrboot edits only boot entries. You cannot use it to display or change the timeout value for the boot menu, although you can use the <I>push</I> command (<B>nvrboot&nbsp;p</B>) to change the default boot entry.</P>

<P>Nvrboot also includes commands to export backup copies of boot entries and to import backup copies of boot entries into NVRAM. This procedure is discussed in the <A HREF="bootini_38fn.htm">Backing up Boot Options in NVRAM</A> section.</P>

<P>Nvrboot displays boot options in a user-friendly format. For example, it displays the OS file path and the boot loader file path as a partition GUID followed by a Windows directory path.</P>

<P>The following procedure explains how to start Nvrboot from the EFI Shell, a tool provided with many Itanium-based systems. Because the EFI shell tools vary among manufacturers, the description in this section might not accurately describe the EFI shell interface on a particular computer.</P>

<P class=proch><B><IMG SRC="../images/wedge.gif" ALT="" BORDER=0>To run Nvrboot</B>

<OL>
	<LI>Reboot the computer.</LI>

	<LI>From the boot menu, select <B>EFI Shell</B>.</LI>

	<LI>At the shell prompt, type the drive letter or file system number of the system partition, such as C: or <B>FS</B><I>n</I>, where <I>n</I> is the file system number of the system partition.</LI>

	<LI>Type <B>cd msutil</B> to navigate to the <I>Msutil</I> directory in which <I>nvrboot.efi </I>is located.</LI>

	<LI>To start Nvrboot, type <B>nvrboot</B>.</LI>
</OL>

<P>To find instructions for Nvrboot, type <B>h</B>. </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Editing%20Boot%20Options%20in%20NVRAM"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
