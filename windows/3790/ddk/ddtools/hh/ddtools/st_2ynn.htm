<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Tracefmt Utility</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Tracefmt Utility">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Driver&nbsp;Development&nbsp;Tools:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H3><A NAME="ddk_tracefmt_utility_tools"></A>Tracefmt Utility</H3>

<P>The Tracefmt command-line utility converts logged messages to a human-readable form.</P>

<H4>Usage</H4>

<P>The following is the minimum required to format messages in a specified trace log file, and to save the formatted trace messages in a specified output file.</P>

<PRE>tracefmt -o <I>FormattedMessageFile</I> <I>LogFileName</I> 
</PRE>

<P>The following table lists the commonly used options.</P>

<TABLE>

<TR VALIGN="top">
<TH align=left width=41%>Option</TH>
<TH align=left width=59%>Description</TH>
</TR>

<TR VALIGN="top">
<TD width=41%><B>-?, -h</B></TD>
<TD width=59%>The utility prints a list of options to standard output.</TD>
</TR>

<TR VALIGN="top">
<TD width=41%><I>LogFileName</I></TD>
<TD width=59%>Specifies a trace log file.</TD>
</TR>

<TR VALIGN="top">
<TD width=41%><B>-display</B></TD>
<TD width=59%>The utility prints formatted trace messages to standard output.</TD>
</TR>

<TR VALIGN="top">
<TD width=41%><B>-o</B> <I>FormattedMessageFile</I></TD>
<TD width=59%>Specifies the name of a <A HREF="st_9blf.htm">formatted trace message file</A> in which the utility saves the formatted messages. The utility also creates a <A HREF="st_1awj.htm">summary message file</A> that summarizes the processed trace messages. A summary file has the same name as a formatted message file, with the <I>.sum</I> extension appended to it.</TD>
</TR>

<TR VALIGN="top">
<TD width=41%><B>-p </B><I>TraceMessageSearchPath</I></TD>
<TD width=59%>Specifies the path to the trace message format file.</TD>
</TR>
</TABLE><BR>

<H4>Location</H4>

<P>The Tracefmt utility is located in the <I>tools\tracing</I> directory of the Windows DDK.</P>

<H4>Comments</H4>

<P>The Tracefmt utility uses the <B>OpenTrace</B> and <B>ProcessTrace</B> functions (described in the Platform SDK documentation) to open a trace log and process the messages in the trace log.</P>

<P>A trace consumer must specify the path to the trace message format file in one of the following ways:

<UL>
	<LI>Use the <B>-p</B> <I>TraceMessageSearchPath</I> option.</LI>

	<LI>Set the environment variable TRACE_FORMAT_SEARCH_PATH to <I>TraceMessageSearchPath</I></LI>
</UL>

<P>However, the consumer does not have to specify the name of a trace message format file. The Tracefmt utility uses internally generated information to automatically select the format file that corresponds to a specified <I>LogFileName</I> trace log file.</P>

<P>By default, if a user does not specify <B>-o</B> <I>FormattedMessageFile</I>, the Tracefmt utility creates the following output files in the current directory:

<UL>
	<LI><I>fmtsum.txt</I>, a summary message file that describes all the trace entries processed. This file is normally only used to debug tracing problems.</LI>

	<LI><I>fmtfile.txt</I>, a formatted trace message file that contains the logged messages converted to a human-readable form.</LI>
</UL>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Tracefmt%20Utility"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
