<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Monitoring Global Counters</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Driver Verifier Manager (verifier.exe), Global Counters">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Driver&nbsp;Development&nbsp;Tools:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H4><A NAME="ddk_monitoring_global_counters_tools"></A>Monitoring Global Counters</H4>

<P><I>Global counters</I> are statistics that monitor some of the actions that Driver Verifier performs on drivers. These statistics are drawn from all drivers being verified, except for graphics drivers.</P>

<P>Global counters can be viewed by using the <A HREF="dv_5xir.htm">Verifier Command Line</A>, or by using the Driver Verifier Manager graphical interface. There are two versions of Driver Verifier Manager — one for <A HREF="dv_2dtf.htm">Windows&nbsp;2000</A> and one for <A HREF="dv_5w1f.htm">Windows&nbsp;XP and later</A>.</P>

<H4>Verifier Command Line</H4>

<P>To view global counters, use the <B>verifier&nbsp;/query</B> command. This will show both global counters and <A HREF="dv_26pf.htm">individual counters</A>.</P>

<P>Global counters are also included in Driver Verifier <A HREF="dv_5q44.htm">log files</A>.</P>

<H4>Driver Verifier Manager <I>(Windows&nbsp;2000)</I></H4>

<P>To view global counters, select the <B>Global Counters</B> tab. This tab includes almost all of the global counters. (However, the <I>Not Tracked Allocations</I> counter is on the <B>Pool Tracking</B> screen, and the 95% special pool alert is on the <B>Driver Status</B> screen, as described immediately below.)</P>

<H4>Driver Verifier Manager <I>(Windows&nbsp;XP and later)</I></H4>

<P>To view global counters, start Driver Verifier Manager and select the <B>Display information about the currently verified drivers</B> task. Then press <B>Next</B> twice.</P>

<H4>Explanation of Global Counters</H4>

<P>The following global counters monitor statistics related to the <A HREF="dv_03ub.htm">Forcing IRQL Checking</A> option. These counters include actions performed since the last boot by all kernel-mode drivers that are currently being verified.

<DL>
<DT><I>IRQL Raises</I></DT>

<DD>The number of times verified drivers raised the IRQL.</DD>

<DT><I>Spinlocks Acquired</I></DT>

<DD>The number of times verified drivers acquired spin locks.</DD>

<DT><I>Executions Synchronized</I></DT>

<DD>The number of times verified drivers synchronized the execution of a given routine with the ISR associated with a given interrupt object pointer.</DD>

<DT><I>Trims</I></DT>

<DD>The number of times Driver Verifier trimmed all pageable memory.
</DD>
</DL>

<P>The following global counter monitors a statistic related to the <A HREF="dv_5j03.htm">Low Resources Simulation</A> option.

<DL>
<DT><I>Faults Injected</I></DT>

<DD>The total number of resource allocations failed deliberately by Driver Verifier since the last boot. (This only applies to kernel-mode drivers, not to graphics drivers.)
</DD>
</DL>

<P>The following global counters monitor statistics related to the <A HREF="dv_3i7n.htm">Special Memory Pool</A> option. These counters always reflect the allocations attempted since the last boot by all kernel-mode drivers that are currently being verified. Graphics drivers are not included in these totals.

<DL>
<DT><I>Pool Allocations Attempted</I></DT>

<DD>The total number of memory allocations attempted by these drivers.</DD>

<DT><I>Pool Allocations Succeeded</I></DT>

<DD>The number of allocation attempts that succeeded.</DD>

<DT><I>Pool Allocations Succeeded in Special Pool</I></DT>

<DD>The number of allocation attempts that succeeded, and were assigned from the special pool.</DD>

<DT><I>Pool Allocations Without Tag</I></DT>

<DD>The number of times these drivers requested memory allocations but did not supply a pool tag. (Pool tags are always recommended for every allocation.)</DD>

<DT><I>Pool Allocations Failed</I></DT>

<DD>The number of allocation attempts that failed, due to lack of memory.
</DD>
</DL>

<P>If Special Memory Pool is enabled, but less than 95% of all pool allocations have been assigned from the special pool, a warning will appear. In Windows XP and later, this warning will appear in a popup window on the <B>Global Counters</B> screen. In Windows&nbsp;2000, this warning will appear on the <B>Driver Status</B> screen.</P>

<P>The following global counter monitors a statistic related to the <A HREF="dv_3i7n.htm">Special Memory Pool</A> and <A HREF="dv_2ayb.htm">Memory Pool Tracking</A> options. It will always be zero if Memory Pool Tracking is not active.

<DL>
<DT><I>Pool Allocations Not Tracked</I></DT>

<DD>The number of untracked allocations from all drivers currently being verified. Allocations whose size is one page or larger are not tracked by Memory Pool Tracking and cannot be allocated from the special pool. The <A HREF="dv_26pf.htm">individual counters</A> do not reflect these allocations. (In Windows&nbsp;2000, this counter can be found on the <B>Pool Tracking</B> screen under the title <I>Not Tracked Allocations</I>.)


</DD>
</DL>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Monitoring%20Global%20Counters"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
