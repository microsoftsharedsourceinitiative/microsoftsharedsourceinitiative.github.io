<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Master Clock</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Master Clock">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Streaming&nbsp;Devices&nbsp;(Video&nbsp;and&nbsp;Audio):&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_master_clock_ksg"></A>Master Clock</H1>

<P>The DVD decoder minidriver may indicate that a given stream is capable of providing master clock information. This indicates that the stream is the one to which all others should synchronize. Only two members of the SRB structure are needed.</P>

<P>The <I>HwClockFunction</I> member is set to a pointer to the DVD decoder minidriver routine that processes calls for clock information. The routine is set when the SRB_OPEN_STREAM call for the master clock stream is received. This indicates that a stream is capable of being a master clock for the system.</P>

<P>The <I>ClockSupportFlags</I> member of the <A HREF="strclass-struct_1m0j.htm">HW_CLOCK_OBJECT</A> structure is set to one of the following values:

<DL>
<DT>CLOCK_SUPPORT_CAN_SET_ONBOARD_CLOCK</DT>

<DD>Indicates the device can change the onboard clock time to any arbitrary value.</DD>

<DT>CLOCK_SUPPORT_CAN_READ_ONBOARD_CLOCK</DT>

<DD>Indicates the current clock time can be read for this stream from the hardware. This clock does not have to correlate to the current stream time, it just indicates the ability of the driver to return the value in 100ns units of the onboard clock.</DD>

<DT>CLOCK_SUPPORT_CAN_RETURN_STREAM_TIME</DT>

<DD>Indicates this stream can return the current stream time being processed in the hardware.
</DD>
</DL>

<P>For more information, see <A HREF="ks-overview_9gh3.htm">Master Clocks</A>.</P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Master%20Clock"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
