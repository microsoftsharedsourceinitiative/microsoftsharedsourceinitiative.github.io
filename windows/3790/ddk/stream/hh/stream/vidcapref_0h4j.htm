<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>KSPROPERTY_ALLOCATOR_CONTROL_SURFACE_SIZE</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="KSPROPERTY_ALLOCATOR_CONTROL_SURFACE_SIZE">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Streaming&nbsp;Devices&nbsp;(Video&nbsp;and&nbsp;Audio):&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_ksproperty_allocator_control_surface_size_ks"></A>KSPROPERTY_ALLOCATOR_CONTROL_SURFACE_SIZE</H1>

<P>The KSPROPERTY_ALLOCATOR_CONTROL_SURFACE_SIZE property is used to inform client filters that provide DirectDraw surface allocators (such as the Overlay Mixer) that a capture operation is in progress and that DirectDraw surfaces must be allocated at a fixed size regardless of the present size of the overlay. This property is optional.</P>

<TABLE>

<TR VALIGN="top">
<TH align=left width=11%>Get</TH>
<TH align=left width=13%>Set</TH>
<TH align=left width=16%>Target</TH>
<TH align=left width=34%>Property descriptor type</TH>
<TH align=left width=26%>Property value type</TH>
</TR>

<TR VALIGN="top">
<TD width=11%>Yes</TD>
<TD width=13%>No</TD>
<TD width=16%>Pin</TD>
<TD width=34%><A HREF="ks-struct_6jlf.htm">KSPROPERTY</A></TD>
<TD width=26%><A HREF="vidcapref_1vhv.htm">KSPROPERTY_ALLOCATOR_CONTROL_SURFACE_SIZE_S</A></TD>
</TR>
</TABLE><BR>

<P>Minidrivers that support this property return a KSPROPERTY_ALLOCATOR_CONTROL_SURFACE_SIZE_S structure that describes the width and height of the required overlay surface. The Overlay Mixer allocates overlay surfaces of this size. If this is not the size specified in the MediaType during pin connection, then the video is scaled at the video port to this size. No other scaling at the video port occurs regardless of the scaling abilities of the VGA chip. </P>

<P></P>

<H4>Headers</H4>

<P>Declared in <I>ksmedia.h</I>. Include <I>ksmedia.h</I>.</P>

<H4>Comments</H4>

<P>The Overlay Mixer always queries this new property if the mixer is connected to this property's upstream filter through a video port on its primary input pin. If that filter does not implement this property, the Overlay Mixer assumes that it is not capturing data and scales the video at the video port as necessary to keep the video displayed correctly.</P>

<H4>See Also</H4>

<P><A HREF="ks-struct_6jlf.htm">KSPROPERTY</A>, <A HREF="vidcapref_1vhv.htm">KSPROPERTY_ALLOCATOR_CONTROL_SURFACE_SIZE_S</A></P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: KSPROPERTY_ALLOCATOR_CONTROL_SURFACE_SIZE"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
