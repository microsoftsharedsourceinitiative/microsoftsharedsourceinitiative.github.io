<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>KsFilterAddTopologyConnections</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="KsFilterAddTopologyConnections">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Streaming&nbsp;Devices&nbsp;(Video&nbsp;and&nbsp;Audio):&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_ksfilteraddtopologyconnections_ks"></A>KsFilterAddTopologyConnections</H1>

<P>The<B> KsFilterAddTopologyConnections</B> function adds new topology connections to a filter.</P>

<PRE class=syntax><B>KSDDKAPI NTSTATUS NTAPI
  KsFilterAddTopologyConnections (
    IN PKSFILTER </B><I>Filter</I>,
<B>    IN ULONG </B><I>NewConnectionsCount</I>,
<B>    IN const KSTOPOLOGY_CONNECTION *const </B><I>NewTopologyConnections</I>
<B>    );</B></PRE>

<H4>Parameters</H4>

<DL>
<DT><I>Filter</I></DT>

<DD>Pointer to the <A HREF="avstruct_1yk3.htm">KSFILTER</A> to which to add the new connections.</DD>

<DT><I>NewConnectionsCount</I></DT>

<DD>The number of connections in <I>NewTopologyConnections</I>.</DD>

<DT><I>NewTopologyConnections</I></DT>

<DD>Pointer to an array of <A HREF="ks-struct_3fhv.htm">KSTOPOLOGY_CONNECTION</A> structures containing the new topology connections.</DD>
</DL>

<H4>Return Value</H4>

<P><B>KsFilterAddTopologyConnections </B>returns<B> </B>success or failure of the attempt to add topology connections. Failure can occur due to invalid connections having been specified in the list, low memory, or other reasons. If failure occurs, none of the topology connections are added.</P>

<P>If a topology connection is invalid, the routine returns STATUS_INVALID_PARAMETER. For instance, this could occur due to a non-existent node ID.</P>

<H4>Headers</H4>

<P>Declared in <I>ks.h</I>. Include <I>ks.h</I>.</P>

<H4>Comments</H4>

<P>This function is available in Windows&nbsp;XP and DirectX&nbsp;8.0 and later.</P>

<P>Note that the filter control mutex must be held before calling this function.</P>

<P><B>KsFilterAddTopologyConnections</B> must be called at IRQL = PASSIVE_LEVEL.</P>

<P>For more information on mutexes, see <A HREF="avconcep_9v3b.htm">Mutexes in AVStream</A>.</P>

<H4>See Also</H4>

<P><A HREF="avstruct_1yk3.htm">KSFILTER</A>, <A HREF="ks-struct_3fhv.htm">KSTOPOLOGY_CONNECTION</A></P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: KsFilterAddTopologyConnections"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
