<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>KsFilterGetChildPinCount</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="KsFilterGetChildPinCount">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Streaming&nbsp;Devices&nbsp;(Video&nbsp;and&nbsp;Audio):&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_ksfiltergetchildpincount_ks"></A>KsFilterGetChildPinCount</H1>

<P>The<B> KsFilterGetChildPinCount<I> </I></B>function<B><I> </I></B>returns the number of pins of a given type that are currently instantiated on a given filter.</P>

<PRE class=syntax><B>ULONG
  KsFilterGetChildPinCount(
</B>    <B>IN PKSFILTER </B> <I>Filter</I>,
    <B>IN ULONG </B> <I>PinId</I>
<B>    );</B></PRE>

<H4>Parameters</H4>

<DL>
<DT><I>Filter</I></DT>

<DD>Pointer to the <A HREF="avstruct_1yk3.htm">KSFILTER</A> for which to find the number of instantiated pins of type <I>PinId</I>.</DD>

<DT><I>PinId</I></DT>

<DD>The pin type for which to find the number of instantiated pins. <I>PinId</I> is an index into the array of pin descriptors for the filter to which the pin belongs.
</DD>
</DL>

<H4>Return Value</H4>

<P><B>KsFilterGetChildPinCount</B> returns the number of pins of type <I>PinId</I> that are currently instantiated on <I>Filter</I>. If no such pins exist or if <I>PinId</I> is out of range, zero is returned.</P>

<H4>Headers</H4>

<P>Declared in <I>ks.h</I>. Include <I>ks.h</I>.</P>

<H4>Comments</H4>

<P>This function is available in Windows&nbsp;XP and DirectX&nbsp;8.0 and later.</P>

<P>The count returned by this call is guaranteed to be correct only if the function is called while the filter control mutex is held. The count remains correct after the call as long as this mutex continues to be held. As soon as the mutex is released, other pins can be added or removed, thereby altering the actual pin count.</P>

<P>For more information, see <A HREF="avconcep_9v3b.htm">Mutexes in AVStream</A>.</P>

<P><B>KsFilterGetChildPinCount</B> must be called at IRQL = PASSIVE_LEVEL.</P>

<H4>See Also</H4>

<P><A HREF="avstruct_5s4z.htm">KSPIN</A>, <A HREF="avstruct_1yk3.htm">KSFILTER</A>, <A HREF="avfunc_4g4z.htm"><B>KsFilterGetFirstChildPin</B></A>,<B> <A HREF="avfunc_9zcj.htm">KsPinGetNextSiblingPin</A></B></P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: KsFilterGetChildPinCount"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
