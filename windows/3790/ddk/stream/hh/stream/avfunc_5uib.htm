<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>KsRegisterAggregatedClientUnknown</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="KsRegisterAggregatedClientUnknown">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Streaming&nbsp;Devices&nbsp;(Video&nbsp;and&nbsp;Audio):&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_ksregisteraggregatedclientunknown_ks"></A>KsRegisterAggregatedClientUnknown</H1>

<P>In a manner very similar to COM, the <B>KsRegisterAggregatedClientUnknown</B> function aggregates two objects: the specified AVStream object and a client unknown object.</P>

<PRE class=syntax><B>KSDDKAPI PUNKNOWN NTAPI
  KsRegisterAggregatedClientUnknown(
    IN PVOID  </B><I>Object</I>,
<B>    IN PUNKNOWN  </B><I>ClientUnknown</I><B> </B>
<B>    );</B></PRE>

<H4>Parameters</H4>

<DL>
<DT><I>Object</I></DT>

<DD>The specified AVStream object.</DD>

<DT><I>ClientUnknown</I><B> </B></DT>

<DD>Pointer to an <B>IUnknown</B> interface.
</DD>
</DL>

<H4>Return Values</H4>

<P>Returns the newly created aggregate object.</P>

<H4>Headers</H4>

<P>Declared in <I>ks.h</I>. Include <I>ks.h</I>.</P>

<H4>Comments</H4>

<P>This function is available in Windows&nbsp;XP and DirectX&nbsp;8.0 and later.</P>

<P>The client unknown becomes the inner part of the aggregate object, and the AVStream object becomes the outer unknown. When an interface is queried that AVStream does not handle, AVStream passes the query is to the inner aggregate. If a client unknown is already aggregated on the AVStream object, AVStream releases the previously registered aggregate and uses the unknown passed to <B>KsRegisterAggregatedClientUnknown</B> as the new inner unknown. There are four wrappers to <B>KsRegisterAggregatedClientUnknown</B> that perform typecasts.</P>

<P><B>KsRegisterAggregatedClientUnknown </B>must be called at IRQL = PASSIVE_LEVEL.</P>

<P>Minidrivers do not need to be running in a C++ environment to use this function.</P>

<H4>See Also</H4>

<P><A HREF="avfunc_2ofn.htm"><B>KsDeviceRegisterAggregatedClientUnknown</B></A>, <A HREF="avfunc_599v.htm"><B>KsFilterFactoryRegisterAggregatedClientUnknown</B></A>, <A HREF="avfunc_2aer.htm"><B>KsFilterRegisterAggregatedClientUnknown</B></A>, <A HREF="avfunc_367n.htm"><B>KsPinRegisterAggregatedClientUnknown</B></A>, <A HREF="avfunc_32k3.htm"><B>KsGetOuterUnknown</B></A></P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: KsRegisterAggregatedClientUnknown"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
