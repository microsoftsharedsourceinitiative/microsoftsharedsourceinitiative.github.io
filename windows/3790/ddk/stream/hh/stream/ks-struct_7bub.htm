<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>KSALLOCATOR_FRAMING_EX</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="KSALLOCATOR_FRAMING_EX">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Streaming&nbsp;Devices&nbsp;(Video&nbsp;and&nbsp;Audio):&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_ksallocator_framing_ex_ks"></A>KSALLOCATOR_FRAMING_EX</H1>

<P>The KSALLOCATOR_FRAMING_EX structure is the AVStream replacement for KSALLOCATOR_FRAMING. KSALLOCATOR_FRAMING_EX defines allocator requirements on a pin in a kernel level filter.</P>

<PRE class=syntax>typedef struct {
    ULONG CountItems;
    ULONG PinFlags;
    KS_COMPRESSION OutputCompression;
    ULONG PinWeight; 
    KS_FRAMING_ITEM     FramingItem[1]; 
} KSALLOCATOR_FRAMING_EX, *PKSALLOCATOR_FRAMING_EX;</PRE>

<H4>Members</H4>

<DL>
<DT><B>CountItems</B></DT>

<DD>Specifies the number of framing items that are present in the <B>FramingItem</B> array.</DD>

<DT><B>PinFlags</B></DT>

<DD>Reserved, set to zero.</DD>

<DT><B>OutputCompression</B></DT>

<DD>Points to a structure of type <A HREF="ks-struct_25df.htm">KS_COMPRESSION</A> that defines the frame ratio for transforms that change the size of a frame.</DD>

<DT><B>PinWeight</B></DT>

<DD>This pin framing's weight graph-wide. Reserved, set to zero.</DD>

<DT><B>FramingItem</B></DT>

<DD>Specifies the actual framing items.</DD>
</DL>

<H4>Headers</H4>

<P>Declared in <I>ks.h</I>. Include <I>ks.h</I>.</P>

<H4>Comments</H4>

<P>A minidriver can also use DECLARE_SIMPLE_FRAMING_EX to declare an extended framing structure in line with the original structure. This macro is defined in <I>ks.h</I> as follows:</P>

<PRE>#define DECLARE_SIMPLE_FRAMING_EX(FramingExName, MemoryType, Flags, Frames, Alignment, MinFrameSize, MaxFrameSize) const KSALLOCATOR_FRAMING_EX FramingExName</PRE>

<P>DECLARE_SIMPLE_FRAMING_EX declares a KSALLOCATOR_FRAMING_EX structure called <B>FramingExName</B> with the specified memory type (often either STATIC_KS_TYPE_DONT_CARE or one of the kernel paged or nonpaged GUIDs). The <B>Frames</B> and <B>Alignment</B> fields of the macro correspond to the <A HREF="ks-struct_220j.htm">KSALLOCATOR_FRAMING</A>. <B>MinFrameSize</B> and <B>MaxFrameSize</B> ensure that frames are within a specific size range. Flags corresponds to the <B>OptionsFlags</B> and <B>RequirementsFlags</B> in <A HREF="ks-struct_220j.htm">KSALLOCATOR_FRAMING</A>.</P>

<H4>See Also</H4>

<P><A HREF="ks-struct_1837.htm">KS_FRAMING_ITEM</A> , <A HREF="ks-struct_220j.htm">KSALLOCATOR_FRAMING</A> , <A HREF="ks-struct_25df.htm">KS_COMPRESSION</A> , <A HREF="ks-struct_0l6b.htm">KS_FRAMING_RANGE</A> , <A HREF="ks-struct_90oj.htm">KS_FRAMING_RANGE_WEIGHTED</A></P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: KSALLOCATOR_FRAMING_EX"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
