<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>PcRegisterPhysicalConnectionFromExternal</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="PcRegisterPhysicalConnectionFromExternal">
</HEAD>
<BODY TOPMARGIN="0">
<DIV STYLE="display:none;">
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_device_object_kr">
</OBJECT>
<OBJECT ID="hhobj_2" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_device_object_kr">
</OBJECT>
</DIV>


<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Streaming&nbsp;Devices&nbsp;(Video&nbsp;and&nbsp;Audio):&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_pcregisterphysicalconnectionfromexternal_ks"></A>PcRegisterPhysicalConnectionFromExternal</H1>

<P>The <B>PcRegisterPhysicalConnectionFromExternal</B> function registers a physical connection to an audio adapter filter from an external audio adapter filter.</P>

<PRE class=syntax><B>PORTCLASSAPI NTSTATUS NTAPI
  PcRegisterPhysicalConnectionFromExternal(
    IN PDEVICE_OBJECT  </B><I>DeviceObject</I><B>,</B>
<B>    IN PUNICODE_STRING  </B><I>FromString</I><B>,</B>
<B>    IN ULONG  </B><I>FromPin</I><B>,</B>
<B>    IN PUNKNOWN  </B><I>ToUnknown</I><B>,</B>
<B>    IN ULONG  </B><I>ToPin</I>
<B>    );</B></PRE>

<H4>Parameters</H4>

<DL>
<DT><I>DeviceObject</I></DT>

<DD>Pointer to the device object for the device. This is a system structure of type <A HREF="JavaScript:hhobj_1.Click()">DEVICE_OBJECT</A>.</DD>

<DT><I>FromString</I></DT>

<DD>Pointer to the name of the external filter that supplies the connection's source pin</DD>

<DT><I>FromPin</I></DT>

<DD>Specifies a pin ID. This parameter identifies the source (output) pin on the external filter named by <I>FromString</I>.</DD>

<DT><I>ToUnknown</I></DT>

<DD>Pointer to the COM interface of a port object (see <A HREF="pcdesign_9y1z.htm">Introduction to Port Class</A>). The port object that is associated with <I>ToUnknown</I> is bound to the subdevice (see <A HREF="pcdesign_68mf.htm">Subdevice Creation</A>) that supplies the connection's sink pin.</DD>

<DT><I>ToPin</I></DT>

<DD>Specifies a pin ID. This parameter identifies the sink (input) pin on the filter that is associated with the <I>ToUnknown</I> interface.
</DD>
</DL>

<H4>Return Value</H4>

<P><B>PcRegisterPhysicalConnectionFromExternal</B> returns STATUS_SUCCESS if the call was successful. Otherwise, it returns an appropriate error code.</P>

<H4>Headers</H4>

<P>Declared in <I>portcls.h</I>. Include <I>portcls.h</I>.</P>

<H4>Comments</H4>

<P>An adapter filter is external to an adapter driver if it is instantiated by a different adapter driver.</P>

<P>An adapter driver calls <B>PcRegisterPhysicalConnectionFromExternal</B> to register a physical connection to one of its subdevices from an external device. The port driver subsequently uses the information about the connection to respond to a <A HREF="ks-prop_9okz.htm">KSPROPERTY_PIN_PHYSICALCONNECTION</A> property request.</P>

<P>The information that is required to register an external physical connection must be supplied to the two drivers. This can be done during an initial coordinated install of the two devices, or it can be done dynamically by a user-mode configuration program that coordinates changes to the configurations of both devices.</P>

<H4>See Also</H4>

<P><A HREF="audpc-routines_42pf.htm"><B>PcRegisterPhysicalConnection</B></A>, <A HREF="audpc-routines_662b.htm"><B>PcRegisterPhysicalConnectionToExternal</B></A>, <A HREF="JavaScript:hhobj_2.Click()">DEVICE_OBJECT</A>, <A HREF="ks-prop_9okz.htm">KSPROPERTY_PIN_PHYSICALCONNECTION</A> </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: PcRegisterPhysicalConnectionFromExternal"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
