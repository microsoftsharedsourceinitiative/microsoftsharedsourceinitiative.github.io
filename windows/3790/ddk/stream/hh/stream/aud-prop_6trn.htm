<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>KSPROPERTY_SYNTH_DLS_UNLOAD</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="KSPROPERTY_SYNTH_DLS_UNLOAD">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Streaming&nbsp;Devices&nbsp;(Video&nbsp;and&nbsp;Audio):&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_ksproperty_synth_dls_unload_ks"></A>KSPROPERTY_SYNTH_DLS_UNLOAD</H1>

<P>The KSPROPERTY_SYNTH_DLS_UNLOAD property unloads a DLS data resource that was previously downloaded.</P>

<TABLE>

<TR VALIGN="top">
<TH align=left width=11%>Get</TH>
<TH align=left width=11%>Set</TH>
<TH align=left width=15%>Target</TH>
<TH align=left width=32%>Property Descriptor Type</TH>
<TH align=left width=31%>Property Value Type</TH>
</TR>

<TR VALIGN="top">
<TD width=11%>No</TD>
<TD width=11%>Yes</TD>
<TD width=15%>Pin</TD>
<TD width=32%><A HREF="aud-prop_5n3n.htm">KSNODEPROPERTY</A></TD>
<TD width=31%>HANDLE</TD>
</TR>
</TABLE><BR>

<P>The property value (operation data) is of type HANDLE and contains the handle of the downloaded DLS data resource that is to be freed. This is the handle that the miniport driver generated to identify the DLS data in a previous <A HREF="aud-prop_50ab.htm">KSPROPERTY_SYNTH_DLS_DOWNLOAD</A> <I>get</I>-property request.</P>

<H4>Return Value</H4>

<P>A KSPROPERTY_SYNTH_DLS_UNLOAD property request returns STATUS_SUCCESS to indicate that it has completed successfully. Otherwise, the request returns an appropriate error status code. The following table shows some of the possible error codes.</P>

<TABLE>

<TR VALIGN="top">
<TH align=left width=39%>Status Code</TH>
<TH align=left width=61%>Meaning</TH>
</TR>

<TR VALIGN="top">
<TD width=39%>STATUS_BUFFER_TOO_SMALL</TD>
<TD width=61%>The buffer was too small to complete the operation.</TD>
</TR>

<TR VALIGN="top">
<TD width=39%>STATUS_UNSUCCESSFUL</TD>
<TD width=61%>The operation did not complete successfully.</TD>
</TR>

<TR VALIGN="top">
<TD width=39%>STATUS_PENDING</TD>
<TD width=61%>The operation will complete at a later time.</TD>
</TR>
</TABLE><BR>

<H4>Headers</H4>

<P>Declared in <I>dmusprop.h</I>. Include <I>dmusprop.h</I>.</P>

<H4>Comments</H4>

<P>The miniport driver should unload the DLS data as soon as there are no notes playing that use the DLS data. If the synthesizer is not able to free the memory associated with the DLS data resource at the time of the KSPROPERTY_SYNTH_DLS_UNLOAD <I>set</I>-property request, it can use asynchronous property completion to finish the request at a later time.</P>

<P>If, after unloading the DLS data resource, the synthesizer receives a note-on event that uses the resource, the miniport driver should ignore the event unless a new DLS data resource has been downloaded in the interim.</P>

<P>For more information, see the discussion of the <B>IDirectMusicPort::UnloadInstrument</B> method in the Platform SDK documentation.</P>

<H4>See Also</H4>

<P><A HREF="aud-prop_5n3n.htm">KSNODEPROPERTY</A>, <A HREF="aud-prop_50ab.htm">KSPROPERTY_SYNTH_DLS_DOWNLOAD</A>, <A HREF="audmp-routines_4svn.htm"><B>IDirectMusicSynth::Unload</B></A> </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: KSPROPERTY_SYNTH_DLS_UNLOAD"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
