<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>New in USBCAMD Version 2.0</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="New in USBCAMD Version 2.0">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Streaming&nbsp;Devices&nbsp;(Video&nbsp;and&nbsp;Audio):&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_new_in_usbcamd_version_2.0_ksg"></A>New in USBCAMD Version 2.0</H1>

<P>USBCAMD 1.0 first shipped with the Windows®&nbsp;98 DDK. Version 2.0 of USBCAMD shipped with the Windows®&nbsp;2000 DDK. USBCAMD2 exposes several new features and changes that are described as follows:

<UL>
	<LI><B>Dual-mode Support</B>
<P>USBCAMD2 is capable of exposing a still pin to the stream class as well as a capture pin. The still pin can be exposed for imaging devices that have either dedicated pipes for still pins or that use the same pipe for both still and video pins. For more information, see <A HREF="usbcmdpr_8j77.htm">USBCAMD_Pipe_Config_Descriptor</A>.
</LI>

	<LI><B>More Versatile USB Pipe-Configuration Support</B>
<P>USBCAMD now supports cameras that use bulk or isochronous pipes for video and still transfer. USBCAMD no longer assumes preset configuration information about the number or type of pipes used. Rather, the library queries the minidriver and builds this information dynamically during initialization. For more information, see <A HREF="usbcmdpr_04ab.htm">CamConfigureEx</A>.
</LI>

	<LI><B>Support for Hardware-Triggered Events through an Interrupt Pipe</B>
<P>A minidriver can register an external trigger event through an interrupt pipe. The interrupt can be handled by USBCAMD. An example of this is using an interrupt pipe to notify the device driver when a snapshot button is pressed. The Still Image architecture (STI) event monitor can be notified of such device events. For example, by pressing the snapshot button, the STI monitor will be notified and a preregistered STI application, associated with the still pin on the camera, can be launched using the STI push model. For more information, see <A HREF="usbcmdpr_90oj.htm">USBCAMD_InitializeNewInterface</A>.
</LI>

	<LI><B>Completion of SRBs</B>
<P>USBCAMD version 1.0 and USBCAMD version 2.0 have different assumptions about who is responsible for completing SRBs. This can result in noncompletion of I/O events or multiple completion of I/O events.

<P>USBCAMD version 2.0 completes SRBs whereas in USBCAMD version 1.0 completion of SRBs was the camera minidriver's responsibility. For more information, see <A HREF="usbcmdpr_5ak3.htm">USBCAMD_AdapterReceivePacket</A>.
</LI>

	<LI><B>Additional Enhancements</B>
<P>USBCAMD version 2.0 is designed to reduce buffer copying as well as support power management and Plug and Play in Windows®&nbsp;2000 and later versions. For more information, see <A HREF="usbcmdpr_5mlv.htm">CamProcessUSBPacketEx</A> and <A HREF="usbcmdpr_90oj.htm">USBCAMD_InitializeNewInterface</A>.
</LI>

	<LI><B>Hibernation Support Added</B>
<P>Hibernation support has been added to USBCAMD and is present in Windows&nbsp;Millennium&nbsp;Edition (Windows Me) and later. Before Windows&nbsp;Me, no hibernation support was present in USBCAMD (this includes Windows&nbsp;2000, Windows&nbsp;98&nbsp;SE and Windows&nbsp;98&nbsp;Gold).
</LI>

	<LI><B>Limitations of USBCAMD Version 2.0</B>
<P>Note that USBCAMD Version 2.0 handles cameras that have a single interface with multiple alternate settings controlling the video signals. All alternate settings must have the same type and number of pipes.
</LI>

	<LI><B>USBCAMD Timeline</B>
<P>USBCAMD version 1.0 is supported on Windows&nbsp;98&nbsp;Gold and Windows&nbsp;98&nbsp;SE as <I>usbcamd.sys</I>, but is not supported on Windows&nbsp;2000.

<P>USBCAMD version 2.0 is supported on Windows&nbsp;Me and later as both <I>usbcamd.sys</I> <I>and usbcamd2.sys</I>.

<P>USBCAMD version 2.0 adds support for still pins, power management (e.g. hibernation) and extended versions of the APIs.

<P>For Windows&nbsp;Me and later versions, camera vendors should write to USBCAMD version 2.0 instead of the older, obsolete version 1.0 specification.
</LI>

	<LI><B>USBCAMD Sources Removed</B>
<P><I>Usbcamd.sys</I> and <I>usbcamd2.sys</I> are kernel DLLs that are intended to be used by multiple camera vendors.

<P>The USBCAMD libraries must not be altered or replaced by individual IHVs. The source code is no longer being provided.

<P>The <A HREF="usbcmdpr_2tyr.htm">USB Camera Minidriver Library</A> section of the DDK provides comprehensive documentation for all the new version 2.0 APIs so that vendors may make full use of this supplied library. For more information about creating a USB camera minidriver, see <A HREF="usbcmdds_6pt3.htm">Designing a USBCAMD Minidriver</A>.
</LI>
</UL>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: New%20in%20USBCAMD%20Version%202.0"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
