<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>KS Minidriver Architecture</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="KS Minidriver Architecture">
</HEAD>
<BODY TOPMARGIN="0">
<DIV STYLE="display:none;">
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_driver_object_kr">
</OBJECT>
</DIV>


<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Streaming&nbsp;Devices&nbsp;(Video&nbsp;and&nbsp;Audio):&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H2><A NAME="ddk_ks_minidriver_architecture_ksg"></A>KS Minidriver Architecture</H2>

<P>Kernel streaming services support kernel mode processing of streamed data. In this model, streaming data flows through a series of nodes that are grouped into blocks called filters. Each filter encapsulates some processing task to be performed upon the data. A <A HREF="ks-overview_6zhj.htm">KS filter</A> is implemented as a kernel mode <A HREF="JavaScript:hhobj_1.Click()">driver object</A>.</P>

<P>A KS filter appears through the proxy as a DirectShow filter in user mode. As such, the graph builder and user mode applications can interact with KS filters. In an active graph, the kernel mode components still communicate directly, eliminating resource-consuming transitions between user mode and kernel mode.</P>

<P>Data flows into and out of filters at connection points called <A HREF="ks-overview_3lif.htm">pins</A>. A pin instance renders or captures a data stream, such as digital audio.</P>

<P>A group of connected filters comprises a filter graph. A graph links multiple processing tasks to be performed on a stream. You can test various <A HREF="vidcapds_3zmv.htm">filter graph configurations</A> by using the GraphEdit tool in the Windows DDK. (For more information on GraphEdit, see the <a href="http://go.microsoft.com/fwlink/?linkid=9230&clcid=0x409" target="_blank">Filter Graph Editor tool</A> Web site.)</P>

<P>Drivers that support <A HREF="ks-overview_0ron.htm">on-board clocks</A> expose the clock as a file object. A minidriver can <A HREF="ks-prop_2g4z.htm">query the clock time</A>, or alternatively <A HREF="ks-event_4e9f.htm">request to be notified</A> when the clock reaches a certain time.</P>

<P>A minidriver that supports a custom memory management interface exposes this interface as a file object known as an <A HREF="ks-overview_8ppj.htm">allocator</A>. For example, a device manager that handles on-board memory might expose such an interface. A minidriver can then use the relevant file object to allocate and deallocate memory.</P>

<P>This section contains additional information on the following topics:</P>

<P class=indent1><A HREF="ks-overview_6zhj.htm">KS Filters</A></P>

<P class=indent1><A HREF="ks-overview_3lif.htm">KS Pins</A></P>

<P class=indent1><A HREF="ks-overview_8rvr.htm">KS Data Formats and Data Ranges</A></P>

<P class=indent1><A HREF="ks-overview_6asn.htm">KS Mediums</A></P>

<P class=indent1><A HREF="ks-overview_5413.htm">KS Interfaces</A></P>

<P class=indent1><A HREF="ks-overview_0q7b.htm">Quality Management</A></P>

<P><B></B></P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: KS%20Minidriver%20Architecture"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
