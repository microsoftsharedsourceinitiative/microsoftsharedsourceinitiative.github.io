<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>AVStream Descriptors</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="AVStream Descriptors">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Streaming&nbsp;Devices&nbsp;(Video&nbsp;and&nbsp;Audio):&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H3><A NAME="ddk_avstream_descriptors_ksg"></A>AVStream Descriptors</H3>

<P>An AVStream minidriver describes itself and the filter types it supports by providing nested descriptor structures in the call to <A HREF="avfunc_2to3.htm"><B>KsInitializeDriver</B></A>. Each key component — the device, the filter factory, and the pin factory — has an associated descriptor.</P>

<P>The main descriptor for an AVStream minidriver is the device descriptor, <A HREF="avstruct_1ayb.htm">KSDEVICE_DESCRIPTOR</A>. This structure specifies how many filter types the minidriver exposes, where to find descriptors for each of these filter types, and where to find the relevant <A HREF="avstruct_8shf.htm">device dispatch</A> table. The <B>FilterDescriptors</B> entry in the device descriptor points to a table of pointers to filter descriptors, one for each filter type the minidriver exposes. </P>

<P>A <A HREF="avstruct_541f.htm">KSFILTER_DESCRIPTOR</A> indicates how many pin types the filter supports, where to find descriptors for them, the KS categories the filter is to be registered under, and the topology of the filter. Inside each filter descriptor, the minidriver provides a table of pin descriptors that describe each pin type present on the filter.</P>

<P>A <A HREF="avstruct_1fw3.htm">KSPIN_DESCRIPTOR_EX</A> tells AVStream what interfaces, mediums, and data formats a specific pin supports.</P>

<P>Typically, AVStream minidrivers lay out static descriptor tables in their source and call <A HREF="avfunc_2to3.htm"><B>KsInitializeDriver</B></A> to perform the setup work. For more information on initializing your driver, see <A HREF="avsover_8yhz.htm">Initializing an AVStream Minidriver</A>.</P>

<P>There are other types of descriptors as well, such as the node descriptor <A HREF="avstruct_91v7.htm">KSNODE_DESCRIPTOR</A> that describes a given topology node.</P>

<P>The dispatch table is common to each of the three main descriptor types. See <A HREF="avsover_7hgn.htm">AVStream Dispatch Tables</A>.</P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: AVStream%20Descriptors"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
