<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>AVCSTRM_FORMAT_INFO</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="AVCSTRM_FORMAT_INFO">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Streaming&nbsp;Devices&nbsp;(Video&nbsp;and&nbsp;Audio):&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_avcstrm_format_info_ks"></A>AVCSTRM_FORMAT_INFO</H1>

<P>The AVCSTRM_FORMAT_INFO structure is used to describe a data stream.</P>

<PRE class=syntax>typedef struct _AVCSTRM_FORMAT_INFO {
  ULONG  SizeOfThisBlock;
  AVCSTRM_FORMAT  AVCStrmFormat;
  CIP_HDR1  cipHdr1;
  CIP_HDR2_SYT  cipHdr2;
  ULONG  SrcPacketsPerFrame;
  ULONG FrameSize;
  ULONG  NumOfRcvBuffers;
  ULONG  NumOfXmtBuffers;
  DWORD  OptionFlags;
  ULONG  AvgTimePerFrame;
  ULONG  BlockPeriod;
  ULONG Reserved[4];
} AVCSTRM_FORMAT_INFO, * PAVCSTRM_FORMAT_INFO;</PRE>

<H4>Members</H4>

<DL>
<DT><B>SizeOfThisBlock</B></DT>

<DD>Specifies the size of this data structure, in bytes.</DD>

<DT><B>AVCStrmFormat</B></DT>

<DD>Specifies one of the AV/C streaming subunit formats defined in <A HREF="avcsref_4pwz.htm">AVCSTRM_FORMAT</A>.</DD>

<DT><B>cipHdr1</B></DT>

<DD>Specifies the definition of the first quadlet of the two quadlet CIP header.</DD>

<DT><B>cipHdr2</B></DT>

<DD>Specifies the definition of the second quadlet of the two quadlet CIP header.</DD>

<DT><B>SrcPacketsPerFrame</B></DT>

<DD>Specifies the number of source packets to fill a data frame.</DD>

<DT><B>FrameSize</B></DT>

<DD>Specifies the data buffer size.</DD>

<DT><B>NumOfRcvBuffers</B></DT>

<DD>Specifies the number of receiving buffers.</DD>

<DT><B>NumOfXmtBuffers</B></DT>

<DD>Specifies the number of transmitting buffers.</DD>

<DT><B>OptionFlags</B></DT>

<DD>Specifies any option flags. Currently, only one flag is defined:

<DL>
<DT><B>AVCSTRM_FORMAT_OPTION_STRIP_SPH</B></DT>

<DD>Strip the SPH (source packet header) from the 192-byte data packet for MPEG2TS.</DD>
</DL>
</DD>

<DT><B>AvgTimePerFrame</B></DT>

<DD>Specifies the average time per frame in 100 nanosecond units.</DD>

<DT><B>BlockPeriod</B></DT>

<DD>Specifies the block period. This is used for transmit only. It is calculated from 1/ BlockPerSecond * 1,000,000,000 picoseconds. For SDDV, it transmits one block per 1394 cycle. 1/(29.97 * 250) * 1,000,000,000,000 = 133,466,800 picoseconds.</DD>

<DT><B>Reserved</B></DT>

<DD>Reserved. Do not use. Must be set to 0.</DD>
</DL>

<H4>Headers</H4>

<P>Defined in <I>avcstrm.h</I>. Include <I>avcstrm.h</I>.</P>

<H4>See Also</H4>

<P><A HREF="avcsref_4pwz.htm">AVCSTRM_FORMAT</A>, <A HREF="avcsref_7nw3.htm">CIP_HDR1</A>, <A HREF="avcsref_7pv7.htm">CIP_HDR2_FDF</A>, <A HREF="avcsref_82sz.htm">CIP_HDR2_MPEGTS</A>, <A HREF="avcsref_014j.htm">CIP_HDR2_SYT</A></P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: AVCSTRM_FORMAT_INFO"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
