<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>NdisGetDriverHandle</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="NdisGetDriverHandle">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Network&nbsp;Devices&nbsp;and&nbsp;Protocols:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_ndisgetdriverhandle_nr"></A>NdisGetDriverHandle</H1>

<P><B>NdisGetDriverHandle</B> retrieves a handle to the miniport driver that owns the adapter port that is referenced by a caller-supplied handle.</P>

<PRE class=syntax><B>VOID
</B>  <B>NdisGetDriverHandle(
    IN PNDIS_HANDLE</B>  <I>NdisBindingHandle</I><B>,
    OUT PNDIS_HANDLE</B>  <I>NdisDriverHandle</I><B>
    );</B></PRE>

<H4>Parameters</H4>

<DL>
<DT><I>NdisBindingHandle</I></DT>

<DD>Pointer to a handle to the bound adapter port for which a handle to the miniport driver is to be retrieved. Typically, <I>NdisBindingHandle </I>is returned by <A HREF="103ndisx_9koi.htm"><B>NdisOpenAdapter</B></A>.</DD>

<DT><I>NdisDriverHandle</I></DT>

<DD>Pointer to a caller-supplied variable. If the call succeeds, <B>NdisGetDriverHandle</B> returns a handle to a miniport driver in this caller-supplied variable. This miniport driver exports the bound adapter port that is specified by <I>NdisBindingHandle</I>.
</DD>
</DL>

<H4>Headers</H4>

<P>Declared in <I>Ndis.h</I>. Include <I>Ndis.h</I>.</P>

<H4>Comments</H4>

<P>An adapter port is exposed in the <I>NdisBindingHandle</I> binding. A protocol driver uses <B>NdisGetDriverHandle</B> to retrieve a handle to the miniport driver that owns this adapter port. The protocol driver cannot use the handle to the miniport driver for any purpose other than identifying the miniport driver for a given binding. </P>

<P>A protocol driver retrieves the same handle to the miniport driver in<I> NdisDriverHandle</I> for all bindings to adapter ports that are exported by the same miniport driver. A protocol driver typically uses <B>NdisGetDriverHandle</B> to check if two bound adapter ports that were opened by the protocol are owned by the same miniport driver. </P>

<P>Callers of <B>NdisGetDriverHandle</B> run at IRQL &lt;= DISPATCH_LEVEL. </P>

<H4>See Also</H4>

<P><A HREF="103ndisx_9koi.htm"><B>NdisOpenAdapter</B></A> </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: NdisGetDriverHandle"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
