<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>OID_GEN_MAXIMUM_SEND_PACKETS</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="OID_GEN_MAXIMUM_SEND_PACKETS">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Network&nbsp;Devices&nbsp;and&nbsp;Protocols:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_oid_gen_maximum_send_packets_nr"></A>OID_GEN_MAXIMUM_SEND_PACKETS</H1>

<H4>For Serialized Miniport Drivers</H4>

<P>The OID_GEN_MAXIMUM_SEND_PACKETS OID specifies the maximum number of send packet descriptors that a miniport driver's <I>MiniportSendPackets</I> function can accept in the array at its <I>PacketArray</I> parameter. NDIS will not call the miniport driver’s <I>MiniportSendPackets</I> function with more than this number of packets in the array at <I>PacketArray</I>. </P>

<P>If the underlying driver has only a <I>MiniportSend</I> function, it should return one for this query. In this case, NDIS will always pass one packet to the array at <I>PacketArray.</I></P>

<P>Legacy NIC drivers usually return NDIS_STATUS_NOT_SUPPORTED for this query. </P>

<P>If a protocol, when calling <B>NdisSendPackets</B>, sends more packets in the packet array than a miniport driver indicates that it can handle, NDIS breaks the incoming packet array into smaller arrays and then calls the miniport driver's <I>MiniportSendPackets</I> function multiple times. It may be more optimal for the miniport driver to handle this situation—that is, to break down the packet array into smaller packet arrays, thereby eliminating multiple calls to its <I>MiniportSendPackets</I> function.</P>

<H4>For Deserialized Miniport Drivers</H4>

<P>NDIS ignores any value returned by a deserialized driver in response to a query of OID_GEN_MAXIMUM_SEND_PACKETS. NDIS does not adjust the size of the array of packet descriptors that it supplies to a deserialized miniport’s <I>MiniportSendPackets</I> function.</P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: OID_GEN_MAXIMUM_SEND_PACKETS"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
