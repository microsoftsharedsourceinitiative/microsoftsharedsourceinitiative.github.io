<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Reporting, Enabling, and Disabling a NIC's Ability to Parse UDP-ESP Packets</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Reporting Enabling and Disabling a NIC's Ability to Parse UDP-ESP Packets">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Network&nbsp;Devices&nbsp;and&nbsp;Protocols:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H3><A NAME="ddk_reporting_enabling_and_disabling_a_nic_s_ability_to_parse_udp_esp_packets_ng"></A>Reporting, Enabling, and Disabling a NIC's Ability to Parse UDP-ESP Packets</H3>

<P>When responding to an <A HREF="216offload_0acy.htm">OID_TCP_TASK_OFFLOAD</A> request, a miniport driver specifies its NIC's Internet Protocol security (IPSec) capabilities in an <A HREF="105nstru_0inm.htm">NDIS_TASK_IPSEC</A> structure. For more information, see <A HREF="209offl_4r8n.htm">Reporting a NIC's IPSec Capabilities</A>.</P>

<P>The miniport reports the NIC's ability to parse incoming UDP-encapsulated ESP packets by setting one or more flags in the <B>Supported</B>.<B>Reserved</B> member of the NDIS_TASK_IPSEC structure. The miniport can specify any or all of the four UDP-ESP encapsulation subtypes that are described in <A HREF="209offl_84mf.htm">UDP-ESP Encapsulation Types</A>. </P>

<P>As described in <A HREF="209offl_3ld3.htm">Enabling Task-Offload Capabilities</A>, the TCP/IP transport enables the NIC's task-offload capabilities, including the NIC's UDP-ESP parsing capabilities. The transport can also disable these capabilities, as described in <A HREF="209offl_3luv.htm">Disabling Task-Offload Capabilities</A>.</P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Reporting,%20Enabling,%20and%20Disabling%20a%20NIC's%20Ability%20to%20Parse%20UDP-ESP%20Packets"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
