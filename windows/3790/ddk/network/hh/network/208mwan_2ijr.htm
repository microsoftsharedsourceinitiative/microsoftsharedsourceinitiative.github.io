<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Registering CoNDIS WAN Drivers</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Registering CoNDIS WAN Drivers">
</HEAD>
<BODY TOPMARGIN="0">
<DIV STYLE="display:none;">
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_driverentry_kr">
</OBJECT>
</DIV>


<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Network&nbsp;Devices&nbsp;and&nbsp;Protocols:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H2><A NAME="ddk_registering_condis_wan_drivers_ng"></A>Registering CoNDIS WAN Drivers</H2>

<P>A CoNDIS WAN miniport driver or MCM calls <A HREF="103ndisx_6tte.htm"><B>NdisMRegisterMiniport</B></A> from its <A HREF="JavaScript:hhobj_1.Click()"><B>DriverEntry</B></A> function to register its <I>MiniportXxx</I> functions with NDIS. For more information about registering <I>MiniportXxx</I> functions, see <A HREF="203entry_0vl3.htm">Registering <I>Miniport</I>Xxx Functions</A>.</P>

<P>A CoNDIS WAN call manager is an NDIS protocol driver. As such, a call manager calls <A HREF="103ndisx_2cfm.htm"><B>NdisRegisterProtocol</B></A> to register it's <I>ProtocolXxx</I> functions. For more information about registering an NDIS protocol driver, see <A HREF="302pro_0s13.htm">Registering as an NDIS Protocol Driver</A>. For information about other differences between call manager initialization and MCM initialization, see <A HREF="401condis_0tif.htm">Differences in Initialization</A>. </P>

<P>The call to <B>NdisMRegisterMiniport</B> provides an NDIS<I>XX</I>_MINIPORT_CHARCTERISTICS structure to the miniport driver. To make sure that the miniport driver receives the correct structure, you must either embed the appropriate compiler directives at the start of the miniport driver's source code or set the appropriate build directives in the miniport driver's <I>sources</I> file. For more information about setting the NDIS version number, see <A HREF="203entry_33dz.htm">Specifying the NDIS Version Number</A>. </P>

<P>For a CoNDIS WAN miniport driver or MCM, the following compiler directives at the start of the driver's source code indicate that the driver uses an NDIS version 5.0 NDIS_MINIPORT_CHARACTERISTICS structure: </P>

<PRE>#define NDIS_MINIPORT_DRIVER 
#define NDIS50_MINIPORT 1 
#include &lt;ndis.h&gt; // After preceding directives
</PRE>

<P>CoNDIS WAN drivers must indicate NDIS version 5.0 or later.</P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Registering%20CoNDIS%20WAN%20Drivers"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
