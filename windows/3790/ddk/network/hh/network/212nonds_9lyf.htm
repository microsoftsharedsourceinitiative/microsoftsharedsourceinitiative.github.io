<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Miniport Driver with a WDM Lower Edge</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Miniport Driver with a WDM Lower Edge">
</HEAD>
<BODY TOPMARGIN="0">
<DIV STYLE="display:none;">
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_vendor_supplied_usb_client_drivers_kg">
</OBJECT>
<OBJECT ID="hhobj_2" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_usb_client_support_routines_kr">
</OBJECT>
<OBJECT ID="hhobj_3" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_i_o_requests_for_usb_client_drivers_kr">
</OBJECT>
<OBJECT ID="hhobj_4" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_usb_driver_stack_kg">
</OBJECT>
</DIV>


<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Network&nbsp;Devices&nbsp;and&nbsp;Protocols:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_miniport_driver_with_a_wdm_lower_edge_ng"></A>Miniport Driver with a WDM Lower Edge</H1>

<P>A miniport driver with a WDM lower edge—an NDIS-WDM miniport driver—follows the WDM rule that specifies that a WDM header file must be included in the driver's source files. An NDIS-WDM miniport driver requires a WDM header file in order to call kernel-mode routines on its lower edge. Typically, NDIS miniport drivers should just call functions that NDIS provides. This is shown by the way NDIS wraps around NDIS miniport drivers in the figure in the <A HREF="102gen_0w2v.htm">NDIS Drivers</A> section. Although typical NDIS miniport drivers are not called WDM drivers, they indirectly follow WDM rules because NDIS itself follows WDM rules. </P>

<P>The following diagram shows an NDIS-WDM miniport driver that interfaces with the USB driver stack using a WDM lower edge. </P>

<P><IMG SRC="images/nonndslo.gif" ALT="" BORDER=0></P>

<P><B>NDIS-WDM Miniport Driver for USB</B></P>

<P>The following is a description of the components shown in this diagram.

<DL>
<DT>IPX/SPX Compatible and TCP/IP</DT>

<DD><A HREF="302pro_8ezr.htm">NDIS protocol drivers</A> that transmit packets using underlying miniport drivers. </DD>

<DT>NDIS</DT>

<DD>The <I>ndis.sys</I> driver that provides a standard interface between layered network drivers. </DD>

<DT>NDIS-WDM Miniport Driver for USB</DT>

<DD>An NDIS-WDM miniport driver that interfaces with the USB driver stack.</DD>

<DT>USB Client Drivers</DT>

<DD>Other <A HREF="JavaScript:hhobj_1.Click()">USB client drivers</A> that are supplied by vendors.</DD>

<DT>USB Class Interface</DT>

<DD><A HREF="JavaScript:hhobj_2.Click()">Routines</A> and <A HREF="JavaScript:hhobj_3.Click()">I/O requests</A> that USB client drivers can use to interface with the USB driver stack.</DD>

<DT>USB Driver Stack</DT>

<DD><A HREF="JavaScript:hhobj_4.Click()">Driver stack</A> for USB devices. 
</DD>
</DL>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Miniport%20Driver%20with%20a%20WDM%20Lower%20Edge"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
