<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Setting Up NDIS Debug Tracing on Windows NT 4.0</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Setting Up NDIS Debug Tracing on Windows NT 4.0">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Network&nbsp;Devices&nbsp;and&nbsp;Protocols:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H2><A NAME="ddk_setting_up_ndis_debug_tracing_on_windows_nt_4.0_ng"></A>Setting Up NDIS Debug Tracing on Windows NT 4.0</H2>

<P>You can use a debugger to modify the NDIS debugging variables at any time after the operating system loads <I>Ndis.sys</I>. You can choose either to break into the target computer through the ^C system request or by setting a breakpoint at some location in your driver. In either case, <I>Ndis.sys</I> must be loaded so that the debugger can access the NDIS debugging variables. </P>

<P>The following sequence shows how to modify NDIS debugging variables using the <I>Windbg.exe</I> debugger and by stopping the debugger: </P>

<P class=proch><B><IMG SRC="../images/wedge.gif" ALT="" BORDER=0>To modify NDIS debugging variables</B>

<OL>
	<LI>Press ^C to break into the target computer and to stop the debugger after NDIS loads as shown in the following code snippet:
<PRE>^C &lt;process stopping...&gt;
Hard coded breakpoint hit</PRE>
</LI>

	<LI>To debug (that is, to obtain <B>DbgPrint</B> statements within NDIS) filter components (DBG_COMP_FILTER), enter the following DWORD for the <B>ndisDebugSystems</B> variable at the debugger command prompt:
<PRE>kd&gt; ed ndis!ndisDebugSystems 00000020</PRE>
</LI>

	<LI>To obtain informational-level debugging (that is, the lowest level of debugging), enter the following DWORD for the <B>ndisDebugLevel</B> variable at the debugger command prompt:
<PRE>kd&gt; ed ndis!ndisDebugLevel 0</PRE>
</LI>

	<LI>Press the F5 key to restart the target computer. </LI>
</OL>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Setting%20Up%20NDIS%20Debug%20Tracing%20on%20Windows%20NT%204.0"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
