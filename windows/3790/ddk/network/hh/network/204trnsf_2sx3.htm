<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Steps in Receiving Data</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Steps in Receiving Data">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Network&nbsp;Devices&nbsp;and&nbsp;Protocols:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H2><A NAME="ddk_steps_in_receiving_data_ng"></A>Steps in Receiving Data</H2>

<P>How a miniport driver processes received data depends to some extent on the type of network interface card (NIC) that the miniport driver manages. This section describes the process of receiving data for each of the following device types:

<UL>
	<LI>Bus-master DMA NICs</LI>

	<LI>PIO NICs</LI>

	<LI>Non-DMA NICs with on-board memory</LI>
</UL>

<P>Some operations are common to all these devices. These operations include:

<UL>
	<LI>A miniport driver calls <B>NdisRawWritePort</B><I>Xxx</I> functions to program its NIC.</LI>

	<LI>Before indicating up a buffer, a miniport driver that indicates up a complete packet structure must call <A HREF="103ndisx_2pki.htm"><B>NdisAdjustBufferLength</B></A> to adjust the length of the buffer descriptor that describes the buffer. The miniport driver must set the length of the buffer descriptor to the length of the data in the buffer. When the packet is returned, the miniport driver must call this function again to reset it to the actual buffer length. </LI>

	<LI>A miniport driver does not enable more receives until the current data has been indicated up and a new set of buffers has been allocated to the receive ring or copied by an interested protocol driver to which the data was indicated.</LI>
</UL>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Steps%20in%20Receiving%20Data"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
