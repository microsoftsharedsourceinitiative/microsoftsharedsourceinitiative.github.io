<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Packet Support for 802.1Q</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Packet Support for 802.1Q">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Network&nbsp;Devices&nbsp;and&nbsp;Protocols:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H3><A NAME="ddk_packet_support_for_802.1q_ng"></A>Packet Support for 802.1Q</H3>

<P>Upper link-layer drivers send packets to underlying miniport drivers. Miniport drivers can also receive packets and can indicate those packets up to link-layer drivers. To support 802.1Q, miniport drivers must be able to access the priority and VLAN identity information that is transferred by the <A HREF="105nstru_6jn6.htm">NDIS_PACKET</A> structure. </P>

<P>The following topics describe how a miniport driver accesses and transfers 802.1Q packet information: </P>

<P class=indent1><A HREF="204_802p_2n3b.htm">Sending 802.1Q-Marked Packets</A></P>

<P class=indent1><A HREF="204_802p_3w87.htm">Receiving 802.1Q-Marked Packets</A></P>

<P class=note><B>Note</B>&nbsp;&nbsp;Miniport drivers must use the <A HREF="103ndisx_0bjm.htm">NDIS_PER_PACKET_INFO_FROM_PACKET</A> macro to insert and retrieve packet 802.1Q priority values. Miniport drivers must not use the <B>NdisClass802_3Priority</B> NDIS_CLASS_ID value of the <B>MediaSpecificInformation</B> member of a <A HREF="105nstru_1vqq.htm">NDIS_PACKET_OOB_DATA</A> structure to insert and retrieve packet 802.1Q priority values. A NDIS_PACKET_OOB_DATA structure contains out-of-band information that is associated with a packet descriptor. </P>

<P class=note>Support for 802.3 priority (that is, <B>NdisClass802_3Priority</B>) is included in NDIS 4.0 in Windows&nbsp;NT® version 4.0, and in Windows&nbsp;95, Windows&nbsp;98, and Windows&nbsp;Me. When 802.3 priority support was initially introduced to NDIS, it was used in the context of PACE and 100-VG. Priority support for 802.3 still exists but is not used for 802.1Q priority values. </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Packet%20Support%20for%20802.1Q"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
