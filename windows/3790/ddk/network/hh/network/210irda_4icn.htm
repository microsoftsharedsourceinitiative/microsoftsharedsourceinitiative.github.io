<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Sniffir</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Sniffir">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Network&nbsp;Devices&nbsp;and&nbsp;Protocols:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H2><A NAME="ddk_sniffir_ng"></A>Sniffir</H2>

<P>The tool Sniffir (<I>Sniffir.exe</I>) can be used to monitor infrared packets that are transmitted between two computers. Sniffir should run on a computer containing a SIR device that monitors the infrared transmission. This monitoring SIR device monitors the infrared connection between two other SIR devices. Sniffir communicates directly with a COM port to capture the COM-port packets from the monitoring SIR device. Therefore, Sniffir does not require that the computer on which it runs contain any IrDA miniport and protocol drivers (for example, <I>irsir.sys</I>, and <I>irda.sys</I>). Sniffir can log packets transmitted from either end of the infrared connection and at speeds of up to 115200 bits per second (bps).</P>

<P>Sniffir currently supports the following hardware: 

<UL>
	<LI>Most laptop generic SIR devices</LI>

	<LI>JetEye devices from Extended Systems </LI>
</UL>

<P>To use Sniffir, align the three SIR devices in a triangle so that the monitoring SIR device points to both connected SIR devices and vice versa. By default, Sniffir begins monitoring at 9600 bps. However, as the transmission speed between the connected SIR devices changes, Sniffir should change to match any speed that it supports.</P>

<P class=note><B>Note</B>&nbsp;&nbsp;Because Sniffir is primarily used to test SIR devices that run at SIR speeds, it could incorrectly report information relating to devices that run at MIR, FIR, or VFIR speeds.</P>

<P>Sniffir supports the following commands:</P>

<TABLE>

<TR VALIGN="top">
<TH align=left width=21%>Command</TH>
<TH align=left width=79%>Meaning</TH>
</TR>

<TR VALIGN="top">
<TD width=21%>0</TD>
<TD width=79%>No decoding.</TD>
</TR>

<TR VALIGN="top">
<TD width=21%>1</TD>
<TD width=79%>Decodes MAC.</TD>
</TR>

<TR VALIGN="top">
<TD width=21%>2</TD>
<TD width=79%>Decodes MAC and LAP.</TD>
</TR>

<TR VALIGN="top">
<TD width=21%>3</TD>
<TD width=79%>Decodes MAC, LAP, and LMP.</TD>
</TR>

<TR VALIGN="top">
<TD width=21%>4</TD>
<TD width=79%>Decodes MAC, LAP, LMP, and TTP. </TD>
</TR>

<TR VALIGN="top">
<TD width=21%>A</TD>
<TD width=79%>Toggles how raw data is displayed. Displays ASCII, HEX, or both ASCII and HEX.</TD>
</TR>

<TR VALIGN="top">
<TD width=21%>H</TD>
<TD width=79%>Lists available commands.</TD>
</TR>

<TR VALIGN="top">
<TD width=21%>P</TD>
<TD width=79%>Pauses packet output.</TD>
</TR>

<TR VALIGN="top">
<TD width=21%>R</TD>
<TD width=79%>Resets the monitoring speed to 9600 bps.</TD>
</TR>

<TR VALIGN="top">
<TD width=21%>Q</TD>
<TD width=79%>Stops Sniffir operation and exits to the command prompt.</TD>
</TR>
</TABLE><BR>

<P>The following code shows how to use Sniffir:</P>

<PRE>// At the command prompt type Sniffir.
// Sniffir starts monitoring at 9600 bps.
// After Sniffir starts, no promt or typed commands display.
'4' // Decodes MAC, LAP, LMP, and TTP.
'0' // No decoding.
'R' // Resets the monitoring speed to 9600 bps.
'Q' // Quits Sniffir.</PRE>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Sniffir"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
