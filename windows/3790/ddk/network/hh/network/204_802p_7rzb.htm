<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>802.1Q Support in a Remote NDIS Device</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="802.1Q Support in a Remote NDIS Device">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Network&nbsp;Devices&nbsp;and&nbsp;Protocols:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H2><A NAME="ddk_802.1q_support_in_a_remote_ndis_device_ng"></A>802.1Q Support in a Remote NDIS Device</H2>

<P>A Remote NDIS device that supports 802.1Q must set the NDIS_MAC_OPTION_8021Q_VLAN and NDIS_MAC_OPTION_8021P_PRIORITY flags in the bitmask of a <A HREF="204_802p_7ron.htm#ddk_oid_gen_mac_options_ng">OID_GEN_MAC_OPTIONS</A> query through the <A HREF="rndiscom_81nr.htm">REMOTE_NDIS_QUERY_MSG</A> control message. This type of Remote NDIS device should also support the configuration of a VLAN identifier using the <A HREF="22genoid_7v5e.htm">OID_GEN_RNDIS_CONFIG_PARAMETER</A> code through the <A HREF="rndiscom_7ujr.htm">REMOTE_NDIS_SET_MSG</A> control message. This type of Remote NDIS device transmits and receives packets as described in <A HREF="204_802p_3ihz.htm">Packet Support for 802.1Q</A>. </P>

<P>A Remote NDIS device that only supports “raw” Ethernet encapsulation does not support 802.1Q. This type of Remote NDIS device passes through marked and unmarked packets without modification.</P>

<P>If a Remote NDIS device supports packet marking, it must fully support 802.1Q, which includes VLAN-identifier marking. A Remote NDIS device should not just support the marking of packets with packet priority information. </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: 802.1Q%20Support%20in%20a%20Remote%20NDIS%20Device"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
