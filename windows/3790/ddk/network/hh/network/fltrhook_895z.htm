<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Implementing Filter-Hook Drivers</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Implementing Filter-Hook Drivers">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Network&nbsp;Devices&nbsp;and&nbsp;Protocols:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H2><A NAME="ddk_implementing_filter_hook_drivers_ng"></A>Implementing Filter-Hook Drivers</H2>

<P>When you implement a filter-hook driver, you should consider both the reliability and the efficiency of using this type of driver.</P>

<P>As with any kernel-mode driver, a filter-hook driver is considered a trusted component and can crash the system if it executes an illegal instruction or references an invalid region of memory. </P>

<P>The integrity of data being sent over the network might be suspicious or faulty hardware or other drivers might submit data in unexpected or improper formats. Therefore, a filter hook must validate the format of such data. </P>

<P>A filter hook must limit the amount of per-packet processing that it performs to reduce the overhead associated with each incoming and outgoing packet as well as registering the filter hook. A filter hook should be optimized to minimize the average time it spends processing packets. </P>

<P></P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Implementing%20Filter-Hook%20Drivers"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
