<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>VM_Critical_Init</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT></HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Windows&nbsp;98/Me:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="_pss_1798"></A>VM_Critical_Init</H1>

<PRE>include vmm.inc

mov     ebx, VMHandle
mov     eax, VM_Critical_Init
VMMCall System_Control
 </PRE>

<P>Directs the virtual device to initialize itself for the new virtual machine. This message is sent with interrupts disabled, and the virtual device must not enable interrupts while processing the message. The virtual device may modify all general registers and flags. 

<UL>
	<LI>Clears the carry flag if the virtual device initialized successfully. Otherwise, sets the carry flag to prevent the virtual machine from being created. </LI>
</UL>

<DL>
<DT><I>VMHandle</I></DT>

<DD>Handle of the virtual machine to create. 
</DD>
</DL>

<P>The virtual device must <I>not</I> use the <B>Simulate_Int</B> or <B>Exec_Int</B> services in the specified virtual machine. </P>

<H4>See Also</H4>

<P><B>Create_VM</B>, <B>VM_Init</B> </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: VM_Critical_Init"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
