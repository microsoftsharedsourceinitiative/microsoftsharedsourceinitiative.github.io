<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Windows 2000 Driver Layout</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT></HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Windows&nbsp;98/Me:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H2><A NAME="_pss_702"></A>Windows 2000 Driver Layout</H2>

<P>The standard NT/Windows 2000 WAN miniport places driver-specific data as well as common ISDN configuration data under its own driver key. Aside from a few NDIS values, the value names in this key are completely specific to the driver and lack conformity with other drivers. An example of a Windows NT/Windows 2000 driver’s registry key follows.</P>

<PRE>\HKLM\System\CurrentControlSet\Services\ISDNAdapter1\
            BoardName = (LPSTR) "ISDNBoardName"
            BoardType = (LPSTR) "ISDNBoardType"
            DeviceVxDs = (LPSTR) "driver.sys"
            DevLoader = (LPSTR) "*ndis"
            DriverDesc = (LPSTR) "ISDN Adapter Description"
            EnumPropPages = (LPSTR) "netdi.dll,EnumPropPages"
            InfPath = (LPSTR) "COMPANYX.INF"
            InterruptNumber = (BINARY) 04 00 00 00
            IOBaseAddress = (BINARY) 02 00 00 00
            <I>NumChannels</I> = (LPSTR) "2"
            <I>Phone1</I> = (LPSTR) "5551111"
            <I>Phone2</I> = (LPSTR) "5552222"
            <I>SPID1</I> = (LPSTR) "015551111000"
            <I>SPID2</I> = (LPSTR) "015552222000"
            <I>SwitchType</I> = (LPSTR) "1"
 </PRE>

<P>Note that in the preceding example, the values (and value names) in italics may differ between drivers. Some ISDN adapters support multiple physical lines. Following is an example of a card which supports two physical ISDN lines.</P>

<PRE>\HKLM\System\CurrentControlSet\Services\ISDNAdapter2\
            BoardName = (LPSTR) "ISDNBoard - 2 Lines"
            BoardType = (LPSTR) "ISDNBoardType - 2 Lines"
            DeviceVxDs = (LPSTR) "driver.sys"
            DevLoader = (LPSTR) "*ndis"
            DriverDesc = (LPSTR) "ISDN 2 Line Adapter"
            EnumPropPages = (LPSTR) "netdi.dll,EnumPropPages"
            InfPath = (LPSTR) "COMPANYX.INF"
            IOBaseAddress = (BINARY) 04 00 00 00
            <I>Line0.NumChannels</I> = (LPSTR) "2"
            <I>Line0.Phone1</I> = (LPSTR) "5551111"
            <I>Line0.Phone2</I> = (LPSTR) "5552222"
            <I>Line0.SPID1</I> = (LPSTR) "015551111000"
            <I>Line0.SPID2</I> = (LPSTR) "015552222000"
            <I>Line0.SwitchType</I> = (LPSTR) "1"
            <I>Line1.NumChannels</I> = (LPSTR) "2"
            <I>Line1.Phone1</I> = (LPSTR) "5553333"
            <I>Line1.Phone2</I> = (LPSTR) "5554444"
            <I>Line1.SPID1</I> = (LPSTR) "015553333000"
            <I>Line1.SPID2</I> = (LPSTR) "015554444000"
            <I>Line1.SwitchType</I> = (LPSTR) "1"
            <I>NumberOfLines</I> = (LPSTR) "2"
 </PRE>

<P>As in the previous example, all values in italics are specific to the driver, they may have different names or not be present in other driver layouts. In the preceding example, the driver values are in a “flat key” format, for example, all the values are contained in the root key. Currently, this is the only method supported by NDIS for drivers to use. The WAN TAPI Service Provider uses a hierarchical key layout which it will map to a flat key layout for the drivers to read. The values which are mapped to the flat layout are described in the following topic, Windows 95 Layout.</P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Windows%202000%20Driver%20Layout"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
