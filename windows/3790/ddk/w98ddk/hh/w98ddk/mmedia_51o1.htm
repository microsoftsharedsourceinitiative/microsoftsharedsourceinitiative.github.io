<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>COMPVARS</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT></HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Windows&nbsp;98/Me:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="_pss_2841"></A>COMPVARS</H1>

<PRE>typedef struct {
    LONG cbSize;
    DWORD dwFlags;
    HIC hic;
    DWORD fccType;
    DWORD fccHandler;
    LPBITMAPINFO lpbiIn;       // Reserved; do not use
    LPBITMAPINFO lpbiOut;
    LPVOID lpBitsOut;          // Reserved; do not use
    LPVOID lpBitsPrev;         // Reserved; do not use
    LONG lFrame;               // Reserved; do not use
    LONG lKey;
    LONG lDataRate;
    LONG lQ;
    LONG lKeyCount;            // Reserved; do not use
    LPVOID lpState;            // Reserved; do not use
    LONG cbState;              // Reserved; do not use
} COMPVARS;
 </PRE>

<P>Describes compressor settings for functions such as <B>ICCompressorChoose</B>, <B>ICSeqCompressFrame</B>, and <B>ICCompressorFree</B>. </P>

<H4>Members</H4>

<DL>
<DT><B>cbSize</B> </DT>

<DD>Size, in bytes, of this structure. This member must be set to validate the structure before calling any function using this structure. </DD>

<DT><B>dwFlags</B> </DT>

<DD>Applicable flags. The following value is defined: 

<TABLE>

<TR VALIGN="top">
<TD width=34%>ICMF_COMPVARS_VALID </TD>
<TD width=66%>Indicates the data in this structure is valid and has been manually entered. Set this flag before you call any function if you fill this structure manually. Do not set this flag if you let <B>ICCompressorChoose</B> initialize this structure. </TD>
</TR>
</TABLE><BR>

</DD>

<DT><B>hic</B> </DT>

<DD>Handle of the compressor to use. You can open a compressor and obtain a handle of it by using <B>ICOpen</B>. You can also choose a compressor by using <B>ICCompressorChoose</B>. <B>ICCompressorChoose</B> opens the chosen compressor and returns the handle of the compressor in this member. You can close the compressor by using <B>ICCompressorFree</B>. </DD>

<DT><B>fccType</B> </DT>

<DD>Type of compressor used. Currently only ICTYPE_VIDEO (VIDC) is supported. This member can be set to zero. </DD>

<DT><B>fccHandler</B> </DT>

<DD>Four-character code of the compressor. Specify NULL to indicate the data is not to be recompressed. Specify DIB to indicate the data is an uncompressed, full frame. You can use this member to specify which compressor is selected by default when the dialog box is displayed. </DD>

<DT><B>lpbiOut</B> </DT>

<DD>Address of a <B>BITMAPINFO</B> structure containing the image output format. You can specify a specific format to use or you can specify NULL to use the default compressor associated with the input format. You can also set the image output format by using <B>ICCompressorChoose</B>. </DD>

<DT><B>lKey</B> </DT>

<DD>Key-frame rate. Specify an integer to indicate the frequency that keyframes are to occur in the compressed sequence or zero to not use key frames. You can also let <B>ICCompressorChoose</B> set the key-frame rate selected in the dialog box. <B>ICSeqCompressFrameStart</B> uses the value of this member for making key frames. </DD>

<DT><B>lDataRate</B> </DT>

<DD>Data rate, in kilobytes per second. <B>ICCompressorChoose</B> copies the selected data rate from the dialog box to this member. </DD>

<DT><B>lQ</B> </DT>

<DD>Quality setting. Specify a quality setting of 1 to 10,000 or specify ICQUALITY_DEFAULT to use the default quality setting. You can also let <B>ICCompressorChoose</B> set the quality value selected in the dialog box. <B>ICSeqCompressFrameStart</B> uses the value of this member as its quality setting. 
</DD>
</DL>

<P>You can let <B>ICCompressorChoose</B> fill the contents of this structure or you can do it manually. If you manually fill the structure, you must provide information for the following members: <B>cbSize</B>, <B>hic</B>, <B>lpbiOut</B>, <B>lKey</B>, and <B>lQ</B>. Also, you must set the ICMF_COMPVARS_VALID flag in the <B>dwFlags</B> member. </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: COMPVARS"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
