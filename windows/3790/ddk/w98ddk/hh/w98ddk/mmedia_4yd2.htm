<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>ACMDRVFORMATSUGGEST</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT></HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Windows&nbsp;98/Me:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="_pss_2716"></A>ACMDRVFORMATSUGGEST</H1>

<PRE>typedef struct {
    DWORD cbStruct;          
    DWORD fdwSuggest;        
    LPWAVEFORMATEX pwfxSrc;  
    DWORD cbwfxSrc;          
    LPWAVEFORMATEX pwfxDst;  
    DWORD cbwfxDst;          
} ACMDRVFORMATSUGGEST;
 </PRE>

<P>Contains information needed by an Audio Compression Manager (ACM) driver to respond to the ACMDM_FORMAT_SUGGEST message. The <I>lParam1</I> parameter of the <B>acmDriverProc</B> function will contain a pointer to this structure during the ACMDM_FORMAT_SUGGEST message. </P>

<H4>Members</H4>

<DL>
<DT><B>cbStruct</B> </DT>

<DD>Size, in bytes, of the <B>ACMDRVFORMATSUGGEST</B> structure. This member will be initialized by the ACM before calling the driver. This member can be greater than the size, in bytes, of the base <B>ACMDRVFORMATSUGGEST</B> structure. An ACM driver should ignore any members that are not contained in the base <B>ACMDRVFORMATSUGGEST</B> structure. This member should not be modified by the driver. </DD>

<DT><B>fdwSuggest</B> </DT>

<DD>Flags for matching the desired destination format. This member should not be modified by the driver. 

<TABLE>

<TR VALIGN="top">
<TD width=49%>ACM_FORMATSUGGESTF_NCHANNELS </TD>
<TD width=51%>Specifies that the <B>nChannels</B> member of the <B>pwfxDst</B> member of the <B>ACMDRVFORMATSUGGEST</B> structure is valid. The driver should only suggest formats that can be converted from the format given in the <B>pwfxSrc</B> member of the <B>ACMDRVFORMATSUGGEST</B> structure matching the destination <B>nChannels</B> member, or fail. </TD>
</TR>

<TR VALIGN="top">
<TD width=49%>ACM_FORMATSUGGESTF_NSAMPLESPERSEC </TD>
<TD width=51%>Specifies that the <B>nSamplesPerSec</B> member of the <B>pwfxDst</B> member of the <B>ACMDRVFORMATSUGGEST</B> structure is valid. The driver should only suggest formats that can be converted from the format given in the <B>pwfxSrc</B> member of the <B>ACMDRVFORMATSUGGEST</B> structure matching the destination <B>nSamplesPerSec</B> member, or fail. </TD>
</TR>

<TR VALIGN="top">
<TD width=49%>ACM_FORMATSUGGESTF_WBITSPERSAMPLE </TD>
<TD width=51%>Specifies that the <B>wBitsPerSample</B> member of the <B>pwfxDst</B> member of the <B>ACMDRVFORMATSUGGEST</B> structure is valid. The driver should only suggest formats that can be converted from the format given in the <B>pwfxSrc</B> member of the <B>ACMDRVFORMATSUGGEST</B> structure matching the destination <B>wBitsPerSample</B> member, or fail. </TD>
</TR>

<TR VALIGN="top">
<TD width=49%>ACM_FORMATSUGGESTF_WFORMATTAG </TD>
<TD width=51%>Specifies that the <B>wFormatTag</B> member of the <B>pwfxDst</B> member of the <B>ACMDRVFORMATSUGGEST</B> structure is valid. The driver should only suggest formats that can be converted from the format given in the <B>pwfxSrc</B> member of the <B>ACMDRVFORMATSUGGEST</B> structure matching the destination <B>wFormatTag</B> member, or fail. </TD>
</TR>
</TABLE><BR>

</DD>

<DT><B>pwfxSrc</B> </DT>

<DD>Address of a <B>WAVEFORMATEX</B> structure that identifies the source format to suggest a destination format to be used for a conversion. This member should not be modified by the driver. </DD>

<DT><B>cbwfxSrc</B> </DT>

<DD>Size, in bytes, of the <B>WAVEFORMATEX</B> structure pointed to by the <B>pwfxSrc</B> member of the <B>ACMDRVFORMATSUGGEST</B> structure. This member should not be modified by the driver. </DD>

<DT><B>pwfxDst</B> </DT>

<DD>Address of a <B>WAVEFORMATEX</B> data structure to receive the suggested destination format for the source format pointed to by the <B>pwfxSrc</B> member of the <B>ACMDRVFORMATSUGGEST</B> structure. Note that, based on the <B>fdwSuggest</B> member, some members of the structure pointed to this member may be specified. The driver should use this buffer to return the suggested destination format. </DD>

<DT><B>cbwfxDst</B> </DT>

<DD>Size, in bytes, of the <B>WAVEFORMATEX</B> structure pointed to by the <B>pwfxDst</B> member of the <B>ACMDRVFORMATSUGGEST</B> structure that is available for the suggested format. This member should not be modified by the driver. 
</DD>
</DL>

<H4>See Also</H4>

<P>ACMDM_FORMAT_DETAILS, ACMDM_FORMAT_SUGGEST, ACMDM_FORMATTAG_DETAILS </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: ACMDRVFORMATSUGGEST"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
