<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Virtualizing an IRQ</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT></HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Windows&nbsp;98/Me:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H2><A NAME="_pss_1894"></A>Virtualizing an IRQ</H2>

<P>A virtual device hooks a specific IRQ by calling the <B>VPICD_Virtualize_IRQ</B> service and passing it a pointer to a <B>VPICD_IRQ_Descriptor</B> structure containing the number of the IRQ and the addresses of the callback procedures to support the interrupt. If another virtual device has already virtualized the IRQ, the call fails if either of the virtual devices is unable to share the IRQ. Both virtual devices must set the VPICD_Opt_Can_Share value in the <B>VID_Options</B> field of the structure to permit sharing. </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Virtualizing%20an%20IRQ"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
