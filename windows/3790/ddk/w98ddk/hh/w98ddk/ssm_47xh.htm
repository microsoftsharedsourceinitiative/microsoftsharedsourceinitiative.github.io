<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Using SSM</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Using SSM">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Windows&nbsp;98/Me:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H2><A NAME="ddk_using_ssm_me"></A>Using SSM</H2>

<P>The most effective use of SSM in tracking down memory leaks is to use it in a passive mode, with no UI. In this mode, depending on the method for running, we generate one or several log files that can be used to make an analysis of the system. The theory of operation is to take snapshots of the status of monitored objects over time within separate time intervals, <I>t1 … tn</I>, where <I>tn</I> is the last snapshot we took of the system. Whenever the tool takes a snapshot, we update one or more of the logs we create with the resource use for that snapshot. Once we have done so, it is fairly easy to go back through the logs to determine what exactly is being consumed, and, most of the time, the name of the application that is consuming the resource. </P>

<P>Once completed, you may use the UI to go back and perform very rudimentary analysis of the logs. The analysis will detail what items had deltas over time which always increased. A delta is known to have increased if the difference between two snapshots is less than zero. The only time this rule is not applied is when the deltas between heap 32 data and heap 16 data “free objects” decrease. In this special case, the deltas between snapshots will always be positive. In virtually all cases, a decrease in the heap free objects will correspond to a decrease in the heap fixed objects (32 bit only). For heap 16 objects, a block of memory, which has been freed, will be allocated to the heap and will fall under the “Free” column with a corresponding owner name of “Free” and a handle of 0x0h. </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Using%20SSM"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
