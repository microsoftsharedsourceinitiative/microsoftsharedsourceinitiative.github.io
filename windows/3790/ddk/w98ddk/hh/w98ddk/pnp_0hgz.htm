<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>HKEY_LOCAL_MACHINE</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT></HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Windows&nbsp;98/Me:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H2><A NAME="_pss_3613"></A>HKEY_LOCAL_MACHINE</H2>

<P>The HKEY_LOCAL_MACHINE branch contains all device information relevant to the given machine, including information about devices found by detection modules during system setup, devices enumerated by Plug and Play enumerators, and devices manually identified by the user. </P>

<P>The following keys identify branches of HKEY_LOCAL_MACHINE that contain device information.</P>

<TABLE>

<TR VALIGN="top">
<TD width=41%>CONFIG\<I>profile</I> </TD>
<TD width=59%>Contains configuration information for a specific hardware profile. The <I>profile</I> subkey is a 4-digit, hexadecimal number identifying a specific hardware profile. Although the CONFIG branch is in HKEY_LOCAL_MACHINE, the predefined key HKEY_CURRENT_CONFIG can also be used to open the branch. </TD>
</TR>

<TR VALIGN="top">
<TD width=41%>CONFIG\<I>profile</I>\ENUM\ROOT\<I>device-id</I>\<I>instance-number</I> </TD>
<TD width=59%>Contains configuration information for a specific legacy device for a specific hardware profile. The <I>profile</I> subkey is a 4-digit, hexadecimal number identifying a specific hardware profile. The <I>device-id</I> and <I>instance-number</I> specify the device's ID and an instance number that uniquely identifies the device. This branch may contain an <B>CSConfigFlags</B> value, which is a bitmapped field defined as follows: </TD>
</TR>

<TR VALIGN="top">
<TD width=41%>&nbsp;</TD>
<TD width=59%>Bit 0: Device is disabled </TD>
</TR>

<TR VALIGN="top">
<TD width=41%>&nbsp;</TD>
<TD width=59%>Bit 1: Device is removed </TD>
</TR>

<TR VALIGN="top">
<TD width=41%>&nbsp;</TD>
<TD width=59%>Bit 2: Do Not Start </TD>
</TR>

<TR VALIGN="top">
<TD width=41%>ENUM </TD>
<TD width=59%>Contains information for all legacy, Plug and Play, and user-installed devices. Initially, this branch receives subkeys and values during system setup. Setup records information for each device found by hardware detection modules in the ROOT branch, Plug and Play enumerators record information about devices stored by that enumerator in another enumerator specific branch as described in the following. </TD>
</TR>

<TR VALIGN="top">
<TD width=41%>ENUM\<I>enumerator</I> </TD>
<TD width=59%>Contains a permanent record of all hardware that has been installed, whether currently present or not. The information includes the list of devices, their resource requirements, and driver bindings. The <I>enumerator</I> subkey uniquely identifies an enumerator; there is one subkey for each Plug and Play enumerator installed in the system. </TD>
</TR>

<TR VALIGN="top">
<TD width=41%>ENUM\ROOT </TD>
<TD width=59%>Contains information for all detected legacy devices. Because it is not possible to redetect all existing legacy devices each time the system starts, the root enumerator uses this information to load the drivers for this hardware. If ENUM\ROOT identifies a device, the system loads the corresponding driver. It is the responsibility of the driver to unload itself if the device is not available. </TD>
</TR>

<TR VALIGN="top">
<TD width=41%>ENUM\<I>enumerator</I>\<I>device-id</I>\<I>instance</I> </TD>
<TD width=59%>Contains device-specific information. The <I>enumerator</I> uniquely identifies the enumerator associated with the device. The <I>device-id</I> is the device identifier for the device, and <I>instance</I> is a string that uniquely identifies a particular instance of this device. This branch contains values such as <B>DeviceDesc</B>, <B>Class</B>, <B>CompatibleIDs</B>, and <B>Driver</B>. </TD>
</TR>

<TR VALIGN="top">
<TD width=41%>ENUM\ROOT\<I>device-id</I>\<I>device-number</I> </TD>
<TD width=59%>Contains information for a specific legacy device. The <I>device-id</I> is the device identifier for the device and and <I>device-number</I> is a 4-digit, hexadecimal number that uniquely identifies an instance of that device. This branch contains values such as <B>DeviceDesc</B>, <B>Class</B>, <B>CompatibleIDs</B>, <B>BootConfig</B>, and <B>Driver</B>. </TD>
</TR>

<TR VALIGN="top">
<TD width=41%>ENUM\ROOT\<I>device-id</I>\<I>device-number</I>\LogConfig </TD>
<TD width=59%>Contains logical configuration information for a legacy device. The <I>device-id</I> is the device identifier for the device and and <I>device-number</I> is a 4-digit, hexadecimal number that uniquely identifies an instance of that device. </TD>
</TR>

<TR VALIGN="top">
<TD width=41%>&nbsp;</TD>
<TD width=59%>This branch contains one or more binary values that contain the configuration information. The name for each value is a decimal digit. </TD>
</TR>

<TR VALIGN="top">
<TD width=41%>SOFTWARE\<I>vendor-name</I>\<I>product-name</I>\<I>version</I> </TD>
<TD width=59%>Contains information about the given version of an given application. The <I>vendor-name</I> must be a unique name identifying the manufacturer. The <I>product-name</I> also must uniquely identify the application. The <I>version</I> identifies the given version of the application or can be <B>CurrentVersion</B> to indicate the most recent current version if multiple versions are on the system. This branch contains zero or more application-specific subkeys and values. </TD>
</TR>

<TR VALIGN="top">
<TD width=41%>SYSTEM\CurrentControlSet\Control\IDCONFIGDB </TD>
<TD width=59%>Identifies the hardware profile database. This branch contains one or more keys that identify instances of hardware-profile information. This branch contains values such as <B>CurrentConfig</B>, <B>FriendlyNamexxxx</B>, and <B>Map</B>. </TD>
</TR>

<TR VALIGN="top">
<TD width=41%>SYSTEM\CurrentControlSet\Services\Class </TD>
<TD width=59%>Contains information about detected or enumerated hardware. This branch contains zero or more subkeys. Each corresponds to the <I>registry-path</I> given in the <B>Driver</B> value of a corresponding ENUM\<I>enumerator</I>\<I>device-id</I>\<I>instance</I> or ENUM\ROOT\<I>device-id</I>\<I>instance</I> branch. </TD>
</TR>

<TR VALIGN="top">
<TD width=41%>SYSTEM\CurrentControlSet\Services\Class\<I>device-class</I> </TD>
<TD width=59%>Contains information about a specific device class. The <I>device-class</I> is the unlocalized name for the class. This branch contains values such as <B>Installer</B>, <B>Icon</B>, and <B>EnumPropPages</B>. This branch also contains an unnamed value that specifies the localized name of the class to present to the user during device installation. </TD>
</TR>

<TR VALIGN="top">
<TD width=41%>SYSTEM\CurrentControlSet\Services\Class\<I>device-class</I>\<I>instance</I> </TD>
<TD width=59%>Contains information about a specific device within the given class. The <I>device-class</I> is the class name; the <I>instance</I> is a 4-digit, hexadecimal number. This branch contains values such as <B>DriverDesc</B>, <B>DevLoader</B>, and <B>Enumerator</B>. </TD>
</TR>

<TR VALIGN="top">
<TD width=41%>SYSTEM\CurrentControlSet\Services\VxD </TD>
<TD width=59%>Contains information about static virtual devices, that is, virtual devices that are loaded with the system rather than dynamically loaded. This branch is used to identify virtual devices, such CONFIGMG, that are not associated with a specific device. This branch supersedes the corresponding entries in the [386Enh] section of the SYSTEM.INI file. To avoid loading duplicate virtual devices, Windows 95 loads all virtual devices identified in this branch first, then loads virtual devices from SYSTEM.INI, giving preference to virtual devices loaded from the registry. This guarantees that new drivers specified in this branch take precedence over old drivers specified in SYSTEM.INI. </TD>
</TR>

<TR VALIGN="top">
<TD width=41%>SYSTEM\CurrentControlSet\Services\VxD\<I>device-class</I> </TD>
<TD width=59%>Contains information about drivers and other system components that do not necessarily have corresponding devices. The <I>device-class</I> is the class name of the virtual device. This branch contains values such as <B>Start</B> and <B>StaticVxD</B>. </TD>
</TR>
</TABLE><BR>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: HKEY_LOCAL_MACHINE"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
