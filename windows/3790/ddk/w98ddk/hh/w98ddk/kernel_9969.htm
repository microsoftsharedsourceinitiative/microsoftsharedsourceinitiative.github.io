<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Virtual Machine Interrupts and Callbacks</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT></HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Windows&nbsp;98/Me:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="_pss_1661"></A>Virtual Machine Interrupts and Callbacks</H1>

<P>There are the following virtual machine interrupt and callback services: </P>

<TABLE>

<TR VALIGN="top">
<TH align=left width=33%>Service </TH>
<TH align=left width=67%>Description </TH>
</TR>

<TR VALIGN="top">
<TD width=33%><B>Build_Int_Stack_Frame</B></TD>
<TD width=67%>Builds a stack frame for an interrupt. </TD>
</TR>

<TR VALIGN="top">
<TD width=33%><B>Call_When_VM_Ints_Enabled</B></TD>
<TD width=67%>Installs an interrupts-enabled callback. </TD>
</TR>

<TR VALIGN="top">
<TD width=33%><B>Disable_VM_Ints</B></TD>
<TD width=67%>Disables interrupts for the virtual machine. </TD>
</TR>

<TR VALIGN="top">
<TD width=33%><B>Enable_VM_Ints</B></TD>
<TD width=67%>Enables interrupts for the virtual machine. </TD>
</TR>

<TR VALIGN="top">
<TD width=33%><B>Get_Instanced_V86_Int_Vector</B></TD>
<TD width=67%>Returns a real-mode interrupt address instanced per VM. </TD>
</TR>

<TR VALIGN="top">
<TD width=33%><B>Get_Inst_V86_Int_Vec_Base</B></TD>
<TD width=67%>Retrieves the address of a 400h-byte memory block that contains the current interrupt vectors for the given VM. </TD>
</TR>

<TR VALIGN="top">
<TD width=33%><B>Get_PM_Int_Type</B></TD>
<TD width=67%>Returns the type of interrupt vector. </TD>
</TR>

<TR VALIGN="top">
<TD width=33%><B>Get_PM_Int_Vector</B></TD>
<TD width=67%>Returns a protected-mode interrupt address. </TD>
</TR>

<TR VALIGN="top">
<TD width=33%><B>Get_V86_Int_Vector</B></TD>
<TD width=67%>Returns a real-mode interrupt address. </TD>
</TR>

<TR VALIGN="top">
<TD width=33%><B>Hook_V86_Int_Chain</B></TD>
<TD width=67%>Installs a hook procedure for a V86 interrupt. </TD>
</TR>

<TR VALIGN="top">
<TD width=33%><B>Set_PM_Int_Type</B></TD>
<TD width=67%>Sets the protected-mode interrupt type. </TD>
</TR>

<TR VALIGN="top">
<TD width=33%><B>Set_PM_Int_Vector</B></TD>
<TD width=67%>Sets a protected-mode interrupt vector. </TD>
</TR>

<TR VALIGN="top">
<TD width=33%><B>Set_V86_Int_Vector</B></TD>
<TD width=67%>Sets a real-mode interrupt vector. </TD>
</TR>

<TR VALIGN="top">
<TD width=33%><B>Simulate_Far_Call</B></TD>
<TD width=67%>Simulates a far call. </TD>
</TR>

<TR VALIGN="top">
<TD width=33%><B>Simulate_Far_Jmp</B></TD>
<TD width=67%>Simulates a jump. </TD>
</TR>

<TR VALIGN="top">
<TD width=33%><B>Simulate_Far_Ret</B></TD>
<TD width=67%>Simulates a far return. </TD>
</TR>

<TR VALIGN="top">
<TD width=33%><B>Simulate_Far_Ret_N</B></TD>
<TD width=67%>Simulates a far return with parameters. </TD>
</TR>

<TR VALIGN="top">
<TD width=33%><B>Simulate_Int</B></TD>
<TD width=67%>Simulates an interrupt. </TD>
</TR>

<TR VALIGN="top">
<TD width=33%><B>Simulate_Iret</B></TD>
<TD width=67%>Simulates a return from an interrupt. </TD>
</TR>

<TR VALIGN="top">
<TD width=33%><B>Simulate_Pop</B></TD>
<TD width=67%>Simulates a pop instruction. </TD>
</TR>

<TR VALIGN="top">
<TD width=33%><B>Simulate_Push</B></TD>
<TD width=67%>Simulates a push instruction. </TD>
</TR>

<TR VALIGN="top">
<TD width=33%><B>Test_VM_Ints_Enabled</B></TD>
<TD width=67%>Determines whether the current VM interrupts are enabled or disabled. </TD>
</TR>

<TR VALIGN="top">
<TD width=33%><B>Unhook_V86_Int_Chain</B></TD>
<TD width=67%>Removes the hook procedure for the specified interrupt. </TD>
</TR>
</TABLE><BR>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Virtual%20Machine%20Interrupts%20and%20Callbacks"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
