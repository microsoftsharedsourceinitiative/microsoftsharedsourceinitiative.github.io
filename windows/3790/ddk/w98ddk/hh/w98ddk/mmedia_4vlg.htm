<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Plug and Play Drivers</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT></HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Windows&nbsp;98/Me:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H2><A NAME="_pss_2694"></A>Plug and Play Drivers</H2>

<P>Some ACM drivers may utilize hardware to perform operations on audio data (for example, conversions, compression and decompression, and filtering). The manufacturer of the hardware and ACM driver should develop a Plug and Play driver. </P>

<P>To develop a Plug and Play ACM driver you must first become familiar with device nodes (DevNodes), the Configuration Manager, and the general architecture for multimedia Plug and Play drivers. You must develop a VxD that interacts with the system Configuration Manager, provides access to the hardware, and communicates with the ACM driver DLL. You must write the driver DLL so that it communicates with the VxD for all hardware access. For more information about Windows multimedia Plug and Play drivers, see . </P>

<P>The only detail specific to ACM drivers is the mechanism by which the driver DLL determines the DevNode for which it is being opened. When the ACM opens the driver DLL (even a non - Plug-and-Play DLL), it passes to the driver a pointer to an <B>ACMDRVOPENDESC</B> structure. The driver receives this pointer as the <I>lParam2</I> parameter of the DRV_OPEN message to its <B>DriverProc</B> function. For Plug and Play drivers, the <B>dnDevNode</B> member of this structure contains an identifier that identifies a DevNode. A DevNode represents a particular instance of hardware in the system. The driver DLL uses this DevNode identifier when it communicates with the VxD. The VxD requires this information when it communicates with Configuration Manager. </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Plug%20and%20Play%20Drivers"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
