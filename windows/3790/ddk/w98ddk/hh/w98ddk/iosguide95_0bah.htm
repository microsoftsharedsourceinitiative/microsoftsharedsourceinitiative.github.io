<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>LDM (Logical Device Map) Structures</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="LDM (Logical Device Map) Structures">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Windows&nbsp;98/Me:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H2><A NAME="ddk_ldm_logical_device_map_structures_si"></A>LDM (Logical Device Map) Structures</H2>

<PRE>typedef struct LDM { /* */
    UCHAR    LDM_drive_letter;    /* numeric drive letter equivalent (00 = a:) */
                                    /* FFh indicates end of table                */
    UCHAR    LDM_int13_unit;    /* int 13 unit number, or FFh if none */
    ULONG    LDM_serial_number;    /* serial number from the volume boot record */
    ULONG    LDM_starting_rba;    /* starting RBA of this logical volume */
    UCHAR    LDM_aspi_target;    /* aspi target id */
    UCHAR    LDM_aspi_lun;         /* aspi lun */
      UCHAR    LDM_aspi_bus;         /* aspi bus number */
    UCHAR    LDM_cam_target;    /* cam target id */
    UCHAR    LDM_cam_lun;          /* cam lun */
    UCHAR     LDM_cam_bus;          /* cam bus number */
    USHORT LDM_flags;        /* flags as defined below                    */
} LDM, *pLDM;

/*
** IDM_flags definitions follow
*/

#define    LDM_FL_CLAIMED_BIT 0x00         /* logical dev claimed in protected mode  */
#define    LDM_FL_CLAIMED  1 &lt;&lt; LDM_FL_CLAIMED_BIT
#define    LDM_FL_INVALID_MEDIA_BIT 1 
#define    LDM_FL_INVALID_MEDIA     0x02         /* the logical volume is invalid */
#define    LDM_FL_REAL_MODE_ONLY     0x04        /* device must be handled by RM driver */
#define    LDM_FL_UNSAFE_HOOK        0x08    /* device driver has been hooked */
#define    LDM_FL_HOOKED    LDM_FL_UNSAFE_HOOK
#define    LDM_FL_MONO    0x10            /* unit controlled by monolithic drvr*/</PRE>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: LDM%20(Logical%20Device%20Map)%20Structures"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
