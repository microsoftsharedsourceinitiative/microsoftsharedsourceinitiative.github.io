<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Rendering the Data</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT></HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Windows&nbsp;98/Me:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H3><A NAME="_pss_2785"></A>Rendering the Data</H3>

<P>The client-application sends the following messages to control the driver's internal clock for rendering the decompressed data: </P>

<TABLE>

<TR VALIGN="top">
<TH align=left width=32%>Message </TH>
<TH align=left width=68%>Description </TH>
</TR>

<TR VALIGN="top">
<TD width=32%>ICM_DRAW_GETTIME </TD>
<TD width=68%>Obtains the value of the driver's internal clock if it is handling the timing of drawing frames. </TD>
</TR>

<TR VALIGN="top">
<TD width=32%>ICM_DRAW_SETTIME </TD>
<TD width=68%>Sets the driver's internal clock if it is handling the timing of drawing frames. </TD>
</TR>

<TR VALIGN="top">
<TD width=32%>ICM_DRAW_START </TD>
<TD width=68%>Starts the internal clock of a driver if it handles the timing of drawing frames. </TD>
</TR>

<TR VALIGN="top">
<TD width=32%>ICM_DRAW_STOP </TD>
<TD width=68%>Stop the internal clock of a driver if it handles the timing of drawing frames. </TD>
</TR>

<TR VALIGN="top">
<TD width=32%>ICM_DRAW_WINDOW </TD>
<TD width=68%>Informs the driver the display window has been moved, hidden, or displayed. </TD>
</TR>

<TR VALIGN="top">
<TD width=32%>ICM_DRAW_FLUSH </TD>
<TD width=68%>Flushes any frames that are waiting to be drawn. </TD>
</TR>

<TR VALIGN="top">
<TD width=32%>ICM_DRAW_RENDERBUFFER </TD>
<TD width=68%>Draws a frame waiting to be drawn. </TD>
</TR>

<TR VALIGN="top">
<TD width=32%>ICM_DRAW_UPDATE </TD>
<TD width=68%>Redraws the image currently displayed. </TD>
</TR>

<TR VALIGN="top">
<TD width=32%>ICM_DRAW_CHANGEPALETTE </TD>
<TD width=68%>Changes the palette. </TD>
</TR>
</TABLE><BR>

<P>The client-application sends ICM_DRAW_START to have your driver start (or continue) rendering data at the rate specified by the ICM_DRAW_BEGIN message. The ICM_DRAW_STOP message pauses the internal clock. Neither of these messages use <I>dwParam1</I>, <I>dwParam2</I>, or a return value. </P>

<P>The client-application uses ICM_DRAW_GETTIME to obtain the value of the internal clock. Your driver returns the current time value (this is normally frame numbers for video) in the DWORD indicated by the pointer specified by <I>dwParam1</I>. The current time is relative to the start of drawing. </P>

<P>The client-application uses ICM_DRAW_SETTIME to set the value of the internal clock. Typically, the client-application uses this message to synchronize the driver's clock to an external clock. Your driver should set its clock to the value (this is normally frame numbers for video) specified in the DWORD pointed to by <I>dwParam1</I>. </P>

<P>The client-application sends ICM_DRAW_FLUSH to have your driver discard any frames that have not been drawn. </P>

<P>The client-application sends ICM_DRAW_RENDERBUFFER to have your driver draw the image currently buffered. </P>

<P>The client-application sends ICM_DRAW_UPDATE to have your driver redraw an image. </P>

<P>The client-application sends ICM_DRAW_CHANGEPALETTE when the palette changes in the movie. </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Rendering%20the%20Data"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
