<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Installation and Windows 95 INFs</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT></HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Windows&nbsp;98/Me:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="_pss_3140"></A>Installation and Windows 95 INFs</H1>

<P>The files on the support disk are meant to be installed by the NDISWAN.INF. A properly written INF for the adapter will bind it automatically to the NDISWAN protocol as well as trigger the NDISWAN.INF install itself.</P>

<P>In the sample INF file, isdntest.inf, there are several sections that should be included in an INF for a miniport driver. The [BoardName.ndi] section includes a CopyFiles line for the [BoardName.inf.CopyFiles] section. This section will copy the NDISWAN.INF file as well as the INF for the adapter into the Windows\Inf directory and rebuild the driver database file. This is necessary so the Network Control Panel will be able to locate the NDISWAN protocol and automatically bind it to the miniport driver.  </P>

<P>Under the [BoardName.ndi.reg] section, there is a Required Components subsection which all miniport drivers using NDISWAN should have. These lines will ensure that a miniport driver is not installed without the NDISWAN support protocol.  In the Interfaces subsection, WAN Miniports which need the WAN Wrapper services should specify ndiswan as the DefUpper interface and the range should only include ndiswan. These WAN Miniport drivers should not include a ndis3, ndis2, or odi value which would let them bind to upper layer protocols directly. </P>

<P>The NDISWAN.INF currently adds the WAN SP if there is only one installed TAPI SP. If more than one SP is installed, you will need to manually add the WAN SP using the Telephony Control Panel. This will removed in the future when the install wizard is introduced. </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Installation%20and%20Windows%2095%20INFs"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
