<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Sample Device Drivers</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT></HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Windows&nbsp;98/Me:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H3><A NAME="_pss_2629"></A>Sample Device Drivers</H3>

<P>The examples in this section were extracted from a sample device driver for the Orchid Vidiola video capture hardware. This device is similar to a number of capture cards which use the Auravision VxP500 capture and scaling chip. The driver for the Orchid Vidiola implements a subset of the Plug and Play specification. </P>

<P>The Orchid Vidiola sample driver consists of three components. Source files for each component are contained in subdirectories branching from ddk\mmedia\samples\auravis. </P>

<TABLE>

<TR VALIGN="top">
<TH align=left width=14%>Directory </TH>
<TH align=left width=20%>Component </TH>
<TH align=left width=20%>16 or 32 </TH>
<TH align=left width=46%>Description </TH>
</TR>

<TR VALIGN="top">
<TD width=14%>DRV </TD>
<TD width=20%>AVCapt.drv </TD>
<TD width=20%>16 
<P>(some 32-bit flat segments) </P>
</TD>
<TD width=46%>The main capture driver which includes the DriverProc entry point </TD>
</TR>

<TR VALIGN="top">
<TD width=14%>VXD </TD>
<TD width=20%>AVVXP500.vxd </TD>
<TD width=20%>32 </TD>
<TD width=46%>Plug and play support VxD.</TD>
</TR>

<TR VALIGN="top">
<TD width=14%>AVWIN </TD>
<TD width=20%>AVWin.dll </TD>
<TD width=20%>16 </TD>
<TD width=46%>A support DLL which is entirely unique to the Auravision driver. </TD>
</TR>
</TABLE><BR>

<P>AVCapt.drv is the core capture driver. It is a Ring3 DLL. By convention, capture drivers use the DRV extension rather than DLL. </P>

<P>AVWin.dll is a separate support DLL called by AVCapt.drv. This functionality is separate from AVCapt.drv purely for historical reasons. Most drivers will have only a capture driver (*.drv) and an associated plug and play VxD. Therefore, AVWin.dll will not be described further in this document. </P>

<P>The Orchid Vidiola can only participate in Plug and Play to a limited extent. For example, the base port and IRQ are not software configurable, but must be manually configured by the user via jumpers. For this reason, the sample VxD does not implement the full range of plug and play functionality such as dynamic resource assignment. </P>

<P class=note><B>Note</B>&nbsp;&nbsp;The Video for Windows Developers Kit (VFWDK) included sample capture drivers for the Truevision Bravado and Creative Labs Video Blaster. While these drivers did not include PnP capabilities, they are generally simpler than the Vidiola driver and provide another useful reference when developing your own capture driver. </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Sample%20Device%20Drivers"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
