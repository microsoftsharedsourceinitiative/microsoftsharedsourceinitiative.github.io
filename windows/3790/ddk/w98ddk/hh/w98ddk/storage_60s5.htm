<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>INT 15h Removable Media Eject Intercept</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT></HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Windows&nbsp;98/Me:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H3><A NAME="_pss_4555"></A>INT 15h Removable Media Eject Intercept</H3>

<PRE>Entry:
    AH = 52h
    DL = Drive number
Exit:
    carry clear
        AH = 0
        Implies ejection may proceed
    carry set
        AH = error code, B1h or B3h
        Implies ejection must be rejected
 </PRE>

<P>This intercept is called in response to a software request (INT 13h, AH=46h, Eject drive) to eject a disk from a removable media drive. Typically a user will press an eject button or use a software command to request that a particular volume be ejected. The code that handles this request will issue this INT 15h function before actually honoring the request. By default the INT 15h handler returns with ejection accepted status. A disk cache program could hook this INT 15h call, and return acceptance or rejection based on the state of its buffers for this disk. It could also be used by operating system software as a media changed signal. </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: INT%2015h%20Removable%20Media%20Eject%20Intercept"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
