<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Schema Publication Requirements</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT></HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Windows&nbsp;98/Me:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H2><A NAME="_wmiguid1_schema_publication_requirements"></A>Schema Publication Requirements</H2>

<P>WMI requires a driver to provide schema information in the managed object format (MOF) syntax by including it directly as a resource in the device driver file. The resource should be of type RT_RCDATA and have a name consistent with that passed to WMI when the device registers its WMI information. If no name is passed, WMI will assume that the resource name is WmiMOF. WMI will read the MOF information from the resource and install it into the WBEM schema database automatically the first time that the device driver registers its data blocks.</P>

<P>The device driver should only include MOF for data blocks that are unique to that driver. Standard blocks whose schema and GUID are defined by WMI are automatically installed to the WMI schema database by WMI and should not be included in the driver’s schema definition. </P>

<P>A driver writer should create a.MOF file that contains the MOF description for all the data blocks it provides. The driver’s build process should then use the MOFComp tool to compile the MOF into a binary file and then reference that binary file from the .RC file.</P>

<P class=note><B>Important</B>&nbsp;&nbsp;If the MOF is not provided with the operating system or the device driver, then data consumers will not be able to access the data.</P>

<P>For detailed information on schema and schema design considerations, see <A HREF="wmiguid1_44ku.htm">WMI Schema Description</A>. </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Schema%20Publication%20Requirements"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
