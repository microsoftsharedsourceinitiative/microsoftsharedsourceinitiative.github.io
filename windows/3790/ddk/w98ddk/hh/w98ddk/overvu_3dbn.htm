<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Required Printer Driver Data Structures</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Required Printer Driver Data Structures">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Windows&nbsp;98/Me:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H3><A NAME="_mdag_required_printer_driver_data_structures"></A>Required Printer Driver Data Structures</H3>

<P>There are two fundamental data structures used by GDI and a Windows printer driver: They are the <B>GDIINFO</B> and the <B>PDEVICE</B> data structures. The members of the <B>GDIINFO</B> data structure are initialized by Windows, and the members of the <B>PDEVICE</B> data structure are initialized by the printer driver.</P>

<H4>GDIINFO Structure</H4>

<P>The <B>GDIINFO</B> data structure contains device data required by GDI. This structure has the following format:</P>

<PRE>    typedef struct _GDIINFO {
        int dpVersion
        int dpTechnology
        int dpHorzSize
        int dpVertSize
        int dpHorzRes
        int dpVertRes
        int dpBitsPixel
        int dpPlanes
        int dpNumBrushes
        int dpNumPens
        int futureuse
        int dpNumFonts
        int dpNumColors
        int dpDEVICEsize
        unsigned dpCurves
        unsigned dpLines
        unsigned dpPolygonals
        unsigned dpText
        unsigned dpClip
        unsigned dpRaster
        int dpAspectX
        int dpAspectY
        int dpAspectXY
        int dpStyleLen
        POINT dpMLoWin
        POINT dpMLoVpt
        POINT dpMHiWin
        POINT dpMHiVpt
        POINT dpELoWin
        POINT dpELoVpt
        POINT dpEHiWin
        POINT dpEHiVpt
        POINT dpTwpWin
        POINT dpTwpVpt
        short int dpLogPixelsX
        short int dpLogPixelsY
        short int dpDCManage
        short int dpCaps1
        long int dpSpotSizeX
        long int dpSpotSizeY
        short int dpPalColors
        short int dpPalReserved
        short int dpPalResolution
    } GDIINFO;
</PRE>

<P>This data structure contains three types of data:

<UL>
	<LI>Driver-management data</LI>

	<LI>Driver-capabilities data</LI>

	<LI>Driver-dimension data</LI>
</UL>

<P>The driver-management data specifies how GDI should manage multiple device contexts for a given driver.</P>

<P>The driver-capabilities data specifies physical capabilities of the device such as the number of predefined brushes and pens, the number of pure colors that the device supports, the device's curve-, line-, and polygon-rendering capabilities, and so on.</P>

<P>The driver-dimension data specifies the physical dimensions of the printable portion of a piece of printer paper, the number of bits required to represent a single dot on the page, the aspect ratio, and so on.</P>

<H4>PDEVICE Structure</H4>

<P>The <B>PDEVICE</B> data structure contains data that describes the current device context to the driver. This data includes an identifier for the current device font (if one is selected), a value specifying the output mode (portrait or landscape), an identifier for the selected paper tray, paper size, and so on. The format of this structure is device dependent.</P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Required%20Printer%20Driver%20Data%20Structures"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
