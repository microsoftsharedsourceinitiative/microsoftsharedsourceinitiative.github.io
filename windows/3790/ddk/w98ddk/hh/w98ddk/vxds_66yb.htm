<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Protected-Mode Instructions</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT></HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Windows&nbsp;98/Me:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H3><A NAME="_pss_4723"></A>Protected-Mode Instructions</H3>

<P>The source files for a virtual device must start with the .386p directive to inform the assembler that protected-mode instructions are permitted. Although virtual devices have ring 0 privilege, they should not use protected instructions to modify the operation of the CPU, to change descriptors in the global or interrupt descriptor table, or to modify task state segments or registers. Such modifications can adversely affect the operation of Windows. The only exception to this is the virtual math coprocessor device (VMCPD), which is allowed to change the 80387 bits in the CR0 register. </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Protected-Mode%20Instructions"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
