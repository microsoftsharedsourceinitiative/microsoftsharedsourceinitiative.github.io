<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Interaction of Plug and Play Components</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT></HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Windows&nbsp;98/Me:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="_pss_3553"></A>Interaction of Plug and Play Components </H1>

<P>The following diagram shows how the Plug and Play components fit together. When the operating system is installed, detection modules are loaded based on the list in the MSDET.INF information file. When a device is detected that is not enabled for Plug and Play, information about it is retrieved from the appropriate device information file and stored in a new node created under the HKEY_LOCAL_MACHINE\ENUM\Root branch in the registry. On the first boot after initial installation (and on each subsequent boot) the system loads the enumerators and the same process occurs so that devices which can be enumerated rather than detected can be found, thus completing the list of known hardware. Enumerated devices appear under the relevant ENUM\<I>enumerator name</I> branch. </P>

<P>When the system starts, Configuration Manager loads enumerators to enumerate the devices in the system. Enumerators create a device node in the devnode tree for each enumerated device and populate it with information retrieved from the registry. The bus-specific naming schemes ensure that the <I>root_key</I>\device identifier is actually the device node's path in the registry. Drivers are loaded based on the <I>driver</I> information bound to each device in the registry, and are given a handle to their device node. </P>

<P><IMG SRC="images/01_01.gif" ALT="" BORDER=0></P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Interaction%20of%20Plug%20and%20Play%20Components"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
