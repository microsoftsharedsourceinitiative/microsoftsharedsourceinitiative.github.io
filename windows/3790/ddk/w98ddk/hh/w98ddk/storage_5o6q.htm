<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Interrupt 13h, Function FFh</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT></HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Windows&nbsp;98/Me:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H3><A NAME="_pss_4162"></A>Interrupt 13h, Function FFh</H3>

<PRE>mov ah, 0FFh
mov dl, 80h
int 13h
jc error
</PRE>

<P>Check install function for a Master Boot Record skewing driver. 

<UL>
	<LI>Clears the carry flag, returns 55AAh in the AX register, and sets the ES:BX register pair to the address of the string "AERMH13V<B>xx</B>", where <B>xx</B> is the version number of the EZ-Drive driver. </LI>
</UL>

<P>The ES in ES:BX must be the same segment as the segment of the actual INT 13 hook (at the INT 13 vector) for the MBR hooker. </P>

<P>Sector 1, the normal location of the Master Boot Record, contains the right boot software but an invalid partition table with a system type of 55H. The real partition table is kept at the same location in sector 2. Any disk geometry translation done by the software has to conform to the Enhanced Drive Parameter Table as defined by the Western Digital Enhanced IDE specification. </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Interrupt%2013h,%20Function%20FFh"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
