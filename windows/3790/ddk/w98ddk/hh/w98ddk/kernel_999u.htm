<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Set_PM_Int_Type</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT></HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Windows&nbsp;98/Me:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="_pss_1682"></A>Set_PM_Int_Type</H1>

<PRE>include vmm.inc

mov     eax, Interrupt  ; interrupt number
mov     edx, Type       ; 0 if trap gate, else interrupt gate
VMMCall Set_PM_Int_Type
 </PRE>

<P>Sets the gate type for a protected-mode interrupt vector. Uses Flags. 

<UL>
	<LI>No return value. </LI>
</UL>

<DL>
<DT><I>Interrupt</I></DT>

<DD>Number of the interrupt to set. </DD>

<DT><I>Type</I></DT>

<DD>Type of gate to set. If this parameter is zero, the service sets a trap gate; if nonzero, it sets an interrupt gate. 
</DD>
</DL>

<P>An interrupt passing through an interrupt gate automatically clears the interrupt flag bit to disable interrupts. Interrupts passing through a trap gate do not modify the interrupt bit. All protected-mode interrupts default to the trap gate type, but virtual devices such as the virtual PIC device, may change some trap gates to interrupt gates so that hardware interrupts disable interrupts. The virtual PIC device leaves software interrupts, such as Interrupt 21h, unchanged. This avoids an unnecessary ring transition by eliminating the need for the software interrupt handlers to execute an <B>sti</B> instruction. </P>

<H4>See Also</H4>

<P><B>Get_PM_Int_Type</B>, <B>Set_PM_Int_Vector</B> </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Set_PM_Int_Type"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
