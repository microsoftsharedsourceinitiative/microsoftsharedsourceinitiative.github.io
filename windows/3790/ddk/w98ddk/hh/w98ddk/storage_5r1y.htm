<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Reading Fragmented Clusters</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT></HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Windows&nbsp;98/Me:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H3><A NAME="_pss_4206"></A>Reading Fragmented Clusters</H3>

<P>To read a fragmented cluster, the client must know how many sectors, including the fragment header, that the cluster consumes. Because the MDFAT entry gives only the size of the first fragment, the client must either read the fragment header and compute the total sector count, or issue a raw read IOCTL in which the <B>rci_data</B> field of the <B>RawClusterInfo</B> structure is NULL. Raw reads where the <B>rci_pdata</B> field is NULL return no raw data, but they do fill in the other fields in the <B>RawClusterInfo</B> structure. When a fragmented cluster is actually read, the fragmented header is stripped from the data that is returned; that is, the first byte in the data buffer contains the first byte of the cluster's raw data. </P>

<H4>See Also</H4>

<P><B>RawClusterInfo</B> </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Reading%20Fragmented%20Clusters"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
