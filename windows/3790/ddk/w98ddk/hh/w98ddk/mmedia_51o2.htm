<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>ICCOMPRESS</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT></HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Windows&nbsp;98/Me:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="_pss_2842"></A>ICCOMPRESS</H1>

<PRE>typedef struct {
    DWORD dwFlags;
    LPBITMAPINFOHEADER lpbiOutput;
    LPVOID lpOutput;
    LPBITMAPINFOHEADER lpbiInput;
    LPVOID lpInput;
    LPDWORD lpckid;
    LPDWORD lpdwFlags;
    LONG lFrameNum;
    DWORD dwFrameSize;
    DWORD dwQuality;                 // Quality setting
    LPBITMAPINFOHEADER lpbiPrev;
    LPVOID lpPrev;
} ICCOMPRESS;
 </PRE>

<P>Contains compression parameters used with the ICM_COMPRESS message. </P>

<H4>Members</H4>

<DL>
<DT><B>dwFlags</B> </DT>

<DD>Flags used for compression. The following value is defined: 

<TABLE>

<TR VALIGN="top">
<TD width=34%>ICCOMPRESS_KEYFRAME </TD>
<TD width=66%>Indicates the input data should be treated as a key frame. </TD>
</TR>
</TABLE><BR>

</DD>

<DT><B>lpbiOutput</B> </DT>

<DD>Address of a <B>BITMAPINFOHEADER</B> structure containing the output (compressed) format. The <B>biSizeImage</B> member must contain the size of the compressed data. </DD>

<DT><B>lpOutput</B> </DT>

<DD>Address of the buffer where the driver should write the compressed data. </DD>

<DT><B>lpbiInput</B> </DT>

<DD>Address of a <B>BITMAPINFOHEADER</B> structure containing the format of the input (uncompressed) data. </DD>

<DT><B>lpInput</B> </DT>

<DD>Address of the buffer containing input data. </DD>

<DT><B>lpckid</B> </DT>

<DD>Address of a double word to return the chunk identifier for data in the AVI file. If the value of this member is not NULL, the driver should specify a two-character code for the chunk identifier corresponding to the chunk identifier used in the AVI file. </DD>

<DT><B>lpdwFlags</B> </DT>

<DD>Address of a double word to return flags for the AVI index. If the returned frame is a key frame, the driver should set the AVIIF_KEYFRAME flag. </DD>

<DT><B>lFrameNum</B> </DT>

<DD>Number of the frame to compress. </DD>

<DT><B>dwFrameSize</B> </DT>

<DD>Desired maximum size, in bytes, for compressing this frame. The size value is used for compression methods that can make tradeoffs between compressed image size and image quality. Specify zero for this member to use the default setting. </DD>

<DT><B>dwQuality</B> </DT>

<DD>Quality setting, if supported by the compression driver. Quality values range from zero to 10,000. </DD>

<DT><B>lpbiPrev</B> </DT>

<DD>Address of a <B>BITMAPINFOHEADER</B> structure containing the format of the previous frame, which is normally the same as the input format. </DD>

<DT><B>lpPrev</B> </DT>

<DD>Address of the buffer containing input data of the previous frame. 
</DD>
</DL>

<P>Drivers that perform temporal compression use data from the previous frame (found in the <B>lpbiPrev</B> and <B>lpPrev</B> members) to prune redundant data from the current frame. </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: ICCOMPRESS"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
