<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Locate_Byte_In_ROM</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT></HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Windows&nbsp;98/Me:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="_pss_1370"></A>Locate_Byte_In_ROM</H1>

<PRE>include vmm.inc

mov     al, Byte            ; byte to locate
VMMCall Locate_Byte_In_ROM

jc      not_found           ; carry flag set if byte not found
mov     [Location], eax     ; linear address of byte
 </PRE>

<P>Scans the system ROM for a specified byte. Virtual devices use this service to locate single-byte instructions, such as the <B>iret</B> instruction, that must be protected from modification by programs running in a virtual machine. This service is only available during initialization. Uses EAX, Flags. 

<UL>
	<LI>Returns the carry flag clear if the byte was found. The EAX register contains the linear address of the byte. The carry flag is set if the byte was not found or the user disabled the service. </LI>
</UL>

<DL>
<DT><I>Byte</I></DT>

<DD>Byte value to search for. 
</DD>
</DL>

<P>Users can disable this service by setting to false the SystemROMBreakpoint setting in the [386Enh] section of the SYSTEM.INI file. </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Locate_Byte_In_ROM"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
