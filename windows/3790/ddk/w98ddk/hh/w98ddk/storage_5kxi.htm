<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Data Transfer Direction Bits in SRB for SCSI Miniports (Required)</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT></HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Windows&nbsp;98/Me:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H3><A NAME="_pss_4046"></A>Data Transfer Direction Bits in SRB for SCSI Miniports (Required)</H3>

<P>The ASPI and CAM SCSI interfaces both have an option of not specifying the data transfer direction, thus requiring the hardware layer to determine the data transfer direction by examining the data phase entered into by the SCSI target. If both SRB_FLAGS_DATA_IN and SRB_FLAGS_DATA_OUT flags are set in the SRB, the miniport driver must determine the data direction by examining the data phase on the SCSI bus at the appropriate time, if the miniport needs to know the direction. If the miniport uses system DMA, the miniport must also set only the true direction bit and reset the other one in the SRB before calling <B>ScsiPortIoMapTransfer</B> when this case is encountered. </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Data%20Transfer%20Direction%20Bits%20in%20SRB%20for%20SCSI%20Miniports%20(Required)"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
