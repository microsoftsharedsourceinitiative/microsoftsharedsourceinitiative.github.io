<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Asynchronous Events</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT></HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Windows&nbsp;98/Me:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H2><A NAME="_pss_4064"></A>Asynchronous Events</H2>

<P>An asynchronous event is a request or a notification from the IOS to a driver that does not correspond to the normal processing of an I/O request. Asynchronous events can occur at any time: while registering the driver and while waiting for or processing I/O requests. The most common events are the events associated with driver registration, such as AEP_INITIALIZE, but other events can occur frequently. The following lists the possible asynchronous events: </P>

<TABLE>

<TR VALIGN="top">
<TD width=40%>AEP_1_SEC (8) </TD>
<TD width=60%>Notifies driver that one second has elapsed. </TD>
</TR>

<TR VALIGN="top">
<TD width=40%>AEP_2_SECS (9) </TD>
<TD width=60%>Notifies driver that two seconds have elapsed. </TD>
</TR>

<TR VALIGN="top">
<TD width=40%>AEP_4_SECS (10) </TD>
<TD width=60%>Notifies driver that four seconds have elapsed. </TD>
</TR>

<TR VALIGN="top">
<TD width=40%>AEP_ASSOCIATE_DCB (12) </TD>
<TD width=60%>Associates a logical DCB with a physical DCB. </TD>
</TR>

<TR VALIGN="top">
<TD width=40%>AEP_BOOT_COMPLETE (2) </TD>
<TD width=60%>Notifies driver to switch to run time operation. </TD>
</TR>

<TR VALIGN="top">
<TD width=40%>AEP_CONFIG_DCB (3) </TD>
<TD width=60%>Configures physical device. </TD>
</TR>

<TR VALIGN="top">
<TD width=40%>AEP_CREATE_VRP (18) </TD>
<TD width=60%>Notifies driver that a VRP has been created. </TD>
</TR>

<TR VALIGN="top">
<TD width=40%>AEP_DBG_DOT_CMD (11) </TD>
<TD width=60%>Notifies driver of parameters for <B>.I</B> debug command. </TD>
</TR>

<TR VALIGN="top">
<TD width=40%>AEP_DCB_LOCK (16) </TD>
<TD width=60%>Notifies driver that a logical DCB is about to be locked. </TD>
</TR>

<TR VALIGN="top">
<TD width=40%>AEP_DESTROY_VRP (19) </TD>
<TD width=60%>Notifies driver that a VRP has been deleted. </TD>
</TR>

<TR VALIGN="top">
<TD width=40%>AEP_DEVICE_INQUIRY (6) </TD>
<TD width=60%>Gets device identification data. </TD>
</TR>

<TR VALIGN="top">
<TD width=40%>AEP_HALF_SEC (7) </TD>
<TD width=60%>Notifies driver that 1/2 second has elapsed. </TD>
</TR>

<TR VALIGN="top">
<TD width=40%>AEP_INITIALIZE (0) </TD>
<TD width=60%>Initializes driver and interface. </TD>
</TR>

<TR VALIGN="top">
<TD width=40%>AEP_IOP_TIMEOUT (5) </TD>
<TD width=60%>Notifies driver that time-out member in an <B>IOP</B> has been decremented to zero. </TD>
</TR>

<TR VALIGN="top">
<TD width=40%>AEP_MOUNT_NOTIFY (17) </TD>
<TD width=60%>Notifies driver that a volume has been mounted. </TD>
</TR>

<TR VALIGN="top">
<TD width=40%>AEP_PEND_UNCONFIG_DCB (21) </TD>
<TD width=60%>Notifies driver that a DCB is about to be removed. </TD>
</TR>

<TR VALIGN="top">
<TD width=40%>AEP_REAL_MODE_HANDOFF (13) </TD>
<TD width=60%>Notifies driver that IFSMGR is about to hook in. </TD>
</TR>

<TR VALIGN="top">
<TD width=40%>AEP_REFRESH_DRIVE (20) </TD>
<TD width=60%>Directs driver to refresh drive data. </TD>
</TR>

<TR VALIGN="top">
<TD width=40%>AEP_SYSTEM_CRIT_SHUTDOWN (1) </TD>
<TD width=60%>Indicates a system critical shutdown. </TD>
</TR>

<TR VALIGN="top">
<TD width=40%>AEP_SYSTEM_SHUTDOWN (14) </TD>
<TD width=60%>Indicates a system shutdown. </TD>
</TR>

<TR VALIGN="top">
<TD width=40%>AEP_UNCONFIG_DCB (4) </TD>
<TD width=60%>Removes configuration of physical device. </TD>
</TR>

<TR VALIGN="top">
<TD width=40%>AEP_UNINITIALIZE (15) </TD>
<TD width=60%>Uninitializes driver and interface. </TD>
</TR>
</TABLE><BR>

<P>The IOS notifies a driver of an asynchronous event by pushing the address of a structure, called an asynchronous event packet (AEP), on the stack and calling the driver's asynchronous event routine. The content and format of the structure varies from event to event, but all structures start with a standard header as defined by the <B>AEP</B> structure. This structure includes the <B>AEP_func</B> member that identifies the asynchronous event and the <B>AEP_result</B> member that the driver uses to indicate whether it processed the event or encountered an error. The IOS checks the value of <B>AEP_result</B> after the driver returns. </P>

<H4>See Also</H4>

<P><B>AEP</B> </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Asynchronous%20Events"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
