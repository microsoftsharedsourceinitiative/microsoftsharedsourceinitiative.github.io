<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>FS_FlushVolume</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT></HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Windows&nbsp;98/Me:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H3><A NAME="_pss_4385"></A>FS_FlushVolume</H3>

<PRE>FS_FlushVolume(
 PIOREQ pir
 )
 </PRE>

<P>The cached buffers for the file systems are committed to disk through <B>FS_FlushVolume</B>. This routine handles the INT 21h function: 0Dh. </P>

<P>All of the cached or buffered data for the file system must be written out to disk when this function is called. 

<DL>
<DT><I>ir_rh</I> </DT>

<DD>Supplies handle to disk volume or network resource on which data needs to be flushed out. </DD>

<DT><I>ir_options</I> </DT>

<DD>Supplies processing options. 

<TABLE>

<TR VALIGN="top">
<TD width=34%><B>Processing Option Values:</B> 
<P>The following option may be specified. </P>
</TD>
<TD width=66%>&nbsp;</TD>
</TR>

<TR VALIGN="top">
<TH align=left width=34%>Value </TH>
<TH align=left width=66%>Meaning </TH>
</TR>

<TR VALIGN="top">
<TD width=34%>VOL_DISCARD_CACHE </TD>
<TD width=66%>Indicator to discard cached/buffered data. If this option is specified then all data buffers associated with the volume should be discarded. </TD>
</TR>

<TR VALIGN="top">
<TD width=34%>VOL_REMOUNT </TD>
<TD width=66%>This flag can only be specified alone. The FSD should discard any current cached information about this volume and mount the volume again. If there are any open files or pending I/O on this volume, the operation should be failed. Typically, this function is used by disk utilities that have reformatted a volume so that its disk geometry has changed. It provides the means to indicate to an FSD that the volume geometry of a volume it is mounted on has changed and should be reread. </TD>
</TR>
</TABLE><BR>

</DD>

<DT><I>ir_user</I> </DT>

<DD>Supplies user ID for this request. </DD>

<DT><I>ir_pid</I> </DT>

<DD>Supplies process ID for this request. 

<TABLE>

<TR VALIGN="top">
<TD width=34%><I>ir_error</I> </TD>
<TD width=66%>Returns status of the operation (zero if no error, the error code otherwise). </TD>
</TR>
</TABLE><BR>

</DD>
</DL>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: FS_FlushVolume"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
