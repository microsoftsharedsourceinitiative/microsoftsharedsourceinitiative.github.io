<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>IFSMgr_InstallFileSystemApiHook</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT></HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Windows&nbsp;98/Me:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H3><A NAME="_pss_4513"></A>IFSMgr_InstallFileSystemApiHook</H3>

<PRE>IFSMgr_InstallFileSystemApiHook(
 pIFSFileHookFunc HookFunc
 )
 </PRE>

<P>This service is called to install a file system API hook. This should be called by a VxD that wants to hook the file system API calls and do special processing on them. The IFS manager returns a pointer to a variable that contains the address of the next hooker in the chain. If the FSD wants to chain the call on, it should dereference this pointer to get the address of the function of the previous file system API hooker. This field is always valid. If this is the first hooker in the chain, the IFS manager automatically installs a default function which simply routes the call onward. So, hookers do not need to check if there is a previous hooker while chaining on, there is always a previous hooker. 

<DL>
<DT><I>HookFunc</I> </DT>

<DD>Supplies the address of the hook function that is to be called by the IFS manager on a call. </DD>
</DL>

<UL>
	<LI>Returns a pointer to a variable that contains the address of the previous hook function in the chain, if successful. If this function is failed for reasons such as out of memory, the return value is zero. </LI>
</UL>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: IFSMgr_InstallFileSystemApiHook"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
