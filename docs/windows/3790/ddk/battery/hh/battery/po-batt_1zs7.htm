<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Supplying Required Battery Miniclass Driver Functionality</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Supplying Required Battery Miniclass Driver Functionality">
</HEAD>
<BODY TOPMARGIN="0">
<DIV STYLE="display:none;">
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_plug_and_play_kg">
</OBJECT>
<OBJECT ID="hhobj_2" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_unload_kr">
</OBJECT>
</DIV>


<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Battery&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_supplying_required_battery_miniclass_driver_functionality_dg"></A>Supplying Required Battery Miniclass Driver Functionality</H1>

<P>In addition to the routines required to support <A HREF="JavaScript:hhobj_1.Click()">Plug and Play</A>, a battery miniclass driver must have the following routines:</P>

<P class=indent1><A HREF="po-batt_6up3.htm"><B>DriverEntry</B></A> </P>

<P class=indent1><A HREF="po-batt_8wo7.htm"><I>AddDevice</I></A> </P>

<P class=indent1><A HREF="po-batt_276v.htm"><I>DispatchDeviceControl</I></A> </P>

<P class=indent1><A HREF="po-batt_9yp3.htm"><I>DispatchSystemControl</I></A> </P>

<P class=indent1><A HREF="bat-mini_2bjm.htm"><I>BatteryMiniQueryTag</I></A> </P>

<P class=indent1><A HREF="bat-mini_65bm.htm"><I>BatteryMiniQueryStatus</I></A> </P>

<P class=indent1><A HREF="bat-mini_1o1e.htm"><I>BatteryMiniQueryInformation</I></A> </P>

<P class=indent1><A HREF="bat-mini_9ipe.htm"><I>BatteryMiniSetInformation</I></A></P>

<P class=indent1><A HREF="bat-mini_5n1u.htm"><I>BatteryMiniSetStatusNotify</I></A></P>

<P class=indent1><A HREF="bat-mini_9d2q.htm"><I>BatteryMiniDisableStatusNotify</I></A></P>

<P class=indent1><A HREF="JavaScript:hhobj_2.Click()"><I>Unload</I></A></P>

<P><B>DriverEntry</B>, <I>Unload</I>, <I>DispatchDeviceControl</I>, and <I>AddDevice</I> are standard driver routines. The name <B>DriverEntry</B> is required, so that the operating system can call it upon starting the driver. You can choose names for the other driver routines at your discretion, as long as their addresses are loaded properly in the appropriate data structures.</P>

<P>The <A HREF="bat-mini_7b76.htm"><I>BatteryMiniXxx</I></A> routines are supplied by the miniclass driver and called by the battery class driver. When writing a miniclass driver, you can choose not to implement the functionality of any of these routines; however, an entry point for the routine must nevertheless be provided, and the routine must return STATUS_NOT_SUPPORTED. Prototypes for these routines appear in <I>batclass.h</I>.</P>

<P>Battery miniclass drivers must include the following header files:

<UL>
	<LI><I>batclass.h</I></LI>

	<LI><I>ntddk.h</I> or <I>wdm.h</I></LI>
</UL>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Supplying%20Required%20Battery%20Miniclass%20Driver%20Functionality"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
