<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Implementing an Operation Region Handler</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Implementing an Operation Region Handler">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>ACPI&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H3><A NAME="ddk_implementing_an_operation_region_handler_kg"></A>Implementing an Operation Region Handler</H3>

<P>The driver must provide an operation region handler, which is a <A HREF="opregref_61f6.htm">PACPI_OP_REGION_HANDLER</A>-typed callback. The ACPI driver calls the operation handler to access the data fields in the driver's operation region. The combined operation of the function driver and the ACPI BIOS is vendor-defined and device-specific. In general, the function driver and the ACPI BIOS access indexes in an operation region that result in device-specific operations and return whatever information is appropriate.</P>

<P>An operation region handler typically uses the following parameters that the ACPI driver passes to the handler: 

<UL>
	<LI><I>AccessType</I> specifies whether the access is a read or write. 
<P>If the access is a read, data is transferred from the operation region memory buffer to the <I>Data</I> buffer. If the access is a write, data is transferred from the <I>Data</I> buffer to the operation region memory buffer. See <A HREF="opregdg_0vjb.htm">Accessing an Operation Region</A>.
</LI>

	<LI><I>Address</I> specifies a byte offset in the operation region memory buffer.</LI>

	<LI><I>Size</I> specifies the number of bytes to transfer.</LI>

	<LI><I>Data</I> specifies a buffer supplied by the ACPI driver for the data transfer.</LI>

	<LI><I>Context</I> specifies the operation region context that the driver registered for the operation region handler.
<P>The operation region context is only used by the function driver and is device-specific.
</LI>
</UL>

<P>In addition to the previously described parameters, the ACPI driver also passes to an operation region handler pointers to the following: an operation region object, a completion handler, and a completion context. However, the function driver does not use the operation region object in a handler, and the completion handler and context are reserved for internal use.</P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Implementing%20an%20Operation%20Region%20Handler"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
