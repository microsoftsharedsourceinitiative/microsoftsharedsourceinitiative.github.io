<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>VDD_Do_Physical_IO</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT></HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Windows&nbsp;98/Me:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H3><A NAME="_pss_523"></A>VDD_Do_Physical_IO</H3>

<H4>Call With</H4>

<P>EAX: Contains the value to send out the port (writes only). </P>

<P>EBX: Contains the VM handle that is doing the I/O. </P>

<P>ECX: Contains the I/O type (see VMM.INC for details). </P>

<P>EDX: Contains the port to do the I/O to. </P>

<P>Client registers contain the I/O parameters if ECX indicates that the VM wants to do string I/O. </P>

<H4>Return Values</H4>

<P>Nothing. </P>

<H4>Remarks</H4>

<P>This service may be used, not only by mini-VDDs, but by any Ring 0 VxD that wishes to perform physical I/O on behalf of a VM client. This service provides all types of I/O to the caller. For string I/O, the parameters of the I/O (for example, Selector:Offset, number of bytes, words, or doublewords to move etc.) are provided in the client registers. </P>

<P>If a mini-VDD or VxD decides that it wants to just allow the I/O that it has trapped to be sent to the actual hardware, it calls this service. This routine then performs the I/O, updates the client registers as appropriate and then returns so that it appears to the VM that the I/O operation has been successfully completed. The VxD caller does not have to make any decisions on doing I/O on its own. The Main VDD understands and accomplishes the physical I/O on behalf of the VM. </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: VDD_Do_Physical_IO"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
