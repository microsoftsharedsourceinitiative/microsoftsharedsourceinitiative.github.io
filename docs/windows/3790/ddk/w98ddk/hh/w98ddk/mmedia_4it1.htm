<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Initializing and Configuring Multimedia Device Drivers</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT></HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Windows&nbsp;98/Me:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H2><A NAME="_pss_2265"></A>Initializing and Configuring Multimedia Device Drivers</H2>

<P>To activate an installed driver, the multimedia driver must receive an initialization message, DRV_OPEN. The DRV_OPEN message sets up an initial session in which the instance information is NULL. This session keeps the driver active as long as it is installed. Because this session remains open for a long time, it is important that no critical resources be allocated and left allocated for the life of the session. </P>

<P>If your device driver supports more than one interrupt-level or port assignment, it should allow user configuration through the Multimedia option in Control Panel. Through the DRV_CONFIGURE message, installable drivers can supply a configuration dialog box for this purpose. The dialog box should display the name and version number of your device driver. </P>

<P>In addition to the DRV_CONFIGURE message, device drivers might support driver-specific messages. For example, video-capture drivers also use the DVM_DIALOG message to display dialog boxes for configuring various channels. For more information about the messages for displaying additional dialog boxes, see the main topics describing specific device drivers. </P>

<P>Installable drivers can supply a configuration dialog box for users to access through the Drivers option in Control Panel. The Multimedia option sends the DRV_CONFIGURE message to your driver to display the dialog box. The dialog box should display the name and version number of your device driver. If your device driver supports different interrupt-level and port assignments, it should also support user configuration through the Multimedia option in Control Panel. </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Initializing%20and%20Configuring%20Multimedia%20Device%20Drivers"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
