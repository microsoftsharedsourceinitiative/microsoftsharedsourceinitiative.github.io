<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Create_VM</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT></HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Windows&nbsp;98/Me:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="_pss_1767"></A>Create_VM</H1>

<PRE>include vmm.inc

mov     ebx, VMHandle
mov     eax, Create_VM
VMMCall System_Control
 </PRE>

<P>Notifies a virtual device that the system is creating a new virtual machine. Virtual devices typically initialize data associated with the virtual machine, such as data in the control block for the virtual machine. The virtual device may use all general registers and flags. 

<UL>
	<LI>The virtual device returns carry clear if the virtual device can support the new virtual machine. Otherwise, it returns with carry set to indicate an error and prevent the system from creating the virtual machine. </LI>
</UL>

<DL>
<DT><I>VMHandle</I></DT>

<DD>Handle of the new virtual machine. 
</DD>
</DL>

<P>Note that this message is delivered out of context; the new virtual machine has not yet started executing. Virtual devices typically ignore this message and act on the <B>VM_Init</B> message instead. </P>

<H4>See Also</H4>

<P><B>Destroy_VM</B> </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Create_VM"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
