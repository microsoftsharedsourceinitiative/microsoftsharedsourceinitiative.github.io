<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>IFSMgr_RemoveLocks</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT></HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Windows&nbsp;98/Me:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H3><A NAME="_pss_4492"></A>IFSMgr_RemoveLocks</H3>

<PRE>IFSMgr_RemoveLocks(
 void ** ppFSDLockListHead,
 unsigned long LockOwner,
 void *  pOpenFileInstance
 )
 </PRE>

<P>This service is called to remove the locks on a file. 

<DL>
<DT><I>ppFSDLockListHead</I> </DT>

<DD>Supplies a pointer to a variable that contains the pointer to the list of locks. </DD>

<DT><I>LockOwner</I> </DT>

<DD>Supplies the process ID of the process requesting the lock. A special process ID of zero can be passed in to remove all locks for a given file instance. Typically, this special value would be passed in when a process is terminating and its open file instance is being closed but there are still other processes that have the file open. </DD>

<DT><I>pOpenFileInstance</I> </DT>

<DD>Supplies a pointer to the structure that describes the current open file instance. A special value of zero can be passed in to remove the locks by the specified process for all instances of the open file. </DD>
</DL>

<UL>
	<LI>No return value. </LI>
</UL>

<TABLE>

<TR VALIGN="top">
<TD width=34%><I>ppFSDLockListHead</I> </TD>
<TD width=66%>The lock list head stored in this variable might have been updated or set to NULL. </TD>
</TR>
</TABLE><BR>

<P>There is one special case. If both the <I>LockOwner</I> and the <I>pOpenFileInstance</I> parameters are passed in as zero, then all active locks on the file are removed. This would usually be done when there are no open instances for an open file and the open file structure is being freed. If an open file is deleted, that would be another situation where all active locks on the file need to be removed. </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: IFSMgr_RemoveLocks"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
