<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>IFSMgr_RegisterHeapUser</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT></HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Windows&nbsp;98/Me:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H3><A NAME="_pss_4421"></A>IFSMgr_RegisterHeapUser</H3>

<PRE>IFSMgr_RegisterHeapUser(
 pIFSFunc pheapfunc,
 unsigned long flag
 )
 </PRE>

<P>This service registers a heap reclamation routine with the IFS manager. The IFS manager provides heap allocation services to the FSDs. An FSD that uses the heap services provided by the IFS manager can register a heap reclamation routine with the IFS manager that is called to free unused heap allocations. This service is not valid until the IFS manager performs Sys_Critical_Init during initialization. If the IFS manager is unable to add this user to the heap registry, it returns without indicating any error. All this means is that the heap cleaning routine for this user will never be called and it is not a serious failure. 

<DL>
<DT><I>pheapfunc</I> </DT>

<DD>Supplies pointer to FSD heap reclamation routine. </DD>

<DT><I>flag</I> </DT>

<DD>Supplies options available only under the debug version. The flag value is ignored in the retail version. 

<TABLE>

<TR VALIGN="top">
<TD width=34%><B>Flag Values:</B> </TD>
<TD width=66%>&nbsp;</TD>
</TR>

<TR VALIGN="top">
<TH align=left width=34%>Value </TH>
<TH align=left width=66%>Meaning </TH>
</TR>

<TR VALIGN="top">
<TD width=34%>DEBUG_FENCE_ON </TD>
<TD width=66%>This enables checking heap overruns in the debug version. If an heap overrun is detected, it breaks into the debugger. </TD>
</TR>
</TABLE><BR>

</DD>
</DL>

<UL>
	<LI>No return value. </LI>
</UL>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: IFSMgr_RegisterHeapUser"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
