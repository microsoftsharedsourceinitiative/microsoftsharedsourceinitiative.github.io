<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Driver Parameters</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT></HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Windows&nbsp;98/Me:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H3><A NAME="_pss_325"></A>Driver Parameters</H3>

<P>You can specify any number of software parameters to be saved under the driver's registry key. For NDIS2 drivers, these are also saved in PROTOCOL.INI. The parameter descriptions are saved under the Ndi\params subkey; their current values are saved at the root of the driver key. For NDIS drivers, the NDIS wrapper can read these parameters from the root of the driver key and report them back to the driver. The user views and edits the parameters from the Advanced property sheet page provided by NETDI. Parameters can be numeric (<B>int</B><I>, </I><B>long</B><I>, </I><B>word</B><I>, </I><B>dword</B>), or text (<B>edit</B><I>, </I><B>enum</B><I>)</I>. For numeric types, you can specify the minimum, maximum and, optionally, the interval value. For the <B>enum</B> type, you must specify a list of values and descriptions. For the <B>edit</B> type, you can specify certain edit control options: maximum length, OEM-text compatibility, and upper case. </P>

<TABLE>

<TR VALIGN="top">
<TH align=left width=35%>Driver Sub Key </TH>
<TH align=left width=21%>Value Name </TH>
<TH align=left width=16%>Value </TH>
<TH align=left width=28%>Description </TH>
</TR>

<TR VALIGN="top">
<TD width=35%>Ndi\Params\<I>ParamKey</I> </TD>
<TD width=21%>ParamDesc </TD>
<TD width=16%><I>string</I> </TD>
<TD width=28%>Specifies the parameter description that will be shown in the Advanced dialog. </TD>
</TR>

<TR VALIGN="top">
<TD width=35%>Ndi\Params\<I>ParamKey</I> </TD>
<TD width=21%>Type </TD>
<TD width=16%><I>type</I> </TD>
<TD width=28%>The parameter type. Can be: <B>int</B><I>, </I><B>long</B><I>, </I><B>word</B><I>, </I><B>dword</B><I>,</I> enum<I>, </I><B>edit</B><I>. </I>The type is <B>edit</B> if <I>type</I> is not specified. </TD>
</TR>

<TR VALIGN="top">
<TD width=35%>Ndi\Params\<I>ParamKey</I> </TD>
<TD width=21%>Default </TD>
<TD width=16%><I>default value</I> </TD>
<TD width=28%>Specifies the default value if no current value is specified. </TD>
</TR>

<TR VALIGN="top">
<TD width=35%>Ndi\Params\<I>ParamKey</I> </TD>
<TD width=21%>Optional </TD>
<TD width=16%><I>0</I>|<I>1</I> </TD>
<TD width=28%>Marks the parameter as optional. An optional parameter can have no current value. The user can mark it as Not Present in the Advanced dialog. If <B>Optional </B>is not specified, the user must use the default value or supply a value the parameter. </TD>
</TR>
</TABLE><BR>

<P>Range information for numeric types </P>

<TABLE>

<TR VALIGN="top">
<TD width=36%>Ndi\Params\<I>ParamKey</I> </TD>
<TD width=10%>Min </TD>
<TD width=22%><I>numeric value</I> </TD>
<TD width=32%>The minimum value. </TD>
</TR>

<TR VALIGN="top">
<TD width=36%>Ndi\Params\<I>ParamKey</I> </TD>
<TD width=10%>Max </TD>
<TD width=22%><I>numeric value</I> </TD>
<TD width=32%>The maximum value. </TD>
</TR>

<TR VALIGN="top">
<TD width=36%>Ndi\Params\<I>ParamKey</I> </TD>
<TD width=10%>Step </TD>
<TD width=22%><I>numeric value</I> </TD>
<TD width=32%>The step between valid value, based from the minimum value. </TD>
</TR>

<TR VALIGN="top">
<TD width=36%>Ndi\Params\<I>ParamKey</I> </TD>
<TD width=10%><I>Base</I> </TD>
<TD width=22%><I>10</I>|<I>16</I> </TD>
<TD width=32%>Display and save values as decimal or hexadecimal. 10 if not specified. </TD>
</TR>
</TABLE><BR>

<P>Range information for enum types </P>

<TABLE>

<TR VALIGN="top">
<TD width=36%>Ndi\Params\<I>ParamKey</I>\Enum value </TD>
<TD width=10%>&nbsp;</TD>
<TD width=22%><I>description</I> </TD>
<TD width=32%>A multiple value key. The value name is saved as the parameter value in the registry. The RHS value is shown to the user in drop-down list box as the parameter value description. </TD>
</TR>
</TABLE><BR>

<P>Hardware resource parameters for NDIS2 network card drivers: </P>

<TABLE>

<TR VALIGN="top">
<TD width=36%>Ndi\Params\<I>ParamKey</I> </TD>
<TD width=10%>resc </TD>
<TD width=22%>BYTE:<I>1</I>-<I>4</I> </TD>
<TD width=32%>This binary value is required for all hardware resource parameters. It indicates what type of hardware resource the parameter represents: </TD>
</TR>

<TR VALIGN="top">
<TD width=36%>&nbsp;</TD>
<TD width=10%>&nbsp;</TD>
<TD width=22%>&nbsp;</TD>
<TD width=32%>1 - Memory address </TD>
</TR>

<TR VALIGN="top">
<TD width=36%>&nbsp;</TD>
<TD width=10%>&nbsp;</TD>
<TD width=22%>&nbsp;</TD>
<TD width=32%>2 - I/O Address </TD>
</TR>

<TR VALIGN="top">
<TD width=36%>&nbsp;</TD>
<TD width=10%>&nbsp;</TD>
<TD width=22%>&nbsp;</TD>
<TD width=32%>3 - DMA channel </TD>
</TR>

<TR VALIGN="top">
<TD width=36%>&nbsp;</TD>
<TD width=10%>&nbsp;</TD>
<TD width=22%>&nbsp;</TD>
<TD width=32%>4 - IRQ </TD>
</TR>
</TABLE><BR>

<P>Use the following parameter to tell NETDI to store the parameter in some other location in the registry. Note, for this parameter, this will be the only value listed under Ndi\Params. The rest of the preceding parameters must be located in the desired registry key. (See the <B>sessions</B> parameter for NETBEUI listed in the preceding example.) </P>

<P>Storing parameters in an arbitrary registry location: </P>

<TABLE>

<TR VALIGN="top">
<TD width=32%>Ndi\Params\<I>ParamKey</I> </TD>
<TD width=20%>location </TD>
<TD width=19%><I>registry key</I> </TD>
<TD width=29%>This tells NETDI what arbitrary registry key to store the value of this parameter. </TD>
</TR>
</TABLE><BR>

<P>Parameter flags: </P>

<TABLE>

<TR VALIGN="top">
<TD width=32%>Ndi\Params\<I>ParamKey</I> </TD>
<TD width=20%>flag </TD>
<TD width=19%>BYTE:<I>value</I> </TD>
<TD width=29%>This binary <B>DWORD</B> value specifies flags for the parameter. The <B>value</B> is created by bitwise ORing the desired flags: </TD>
</TR>

<TR VALIGN="top">
<TD width=32%>&nbsp;</TD>
<TD width=20%>&nbsp;</TD>
<TD width=19%>&nbsp;</TD>
<TD width=29%>0x10 - Used by NDIS2 only </TD>
</TR>

<TR VALIGN="top">
<TD width=32%>&nbsp;</TD>
<TD width=20%>&nbsp;</TD>
<TD width=19%>&nbsp;</TD>
<TD width=29%>0x20 - Used by NDIS3 only </TD>
</TR>

<TR VALIGN="top">
<TD width=32%>&nbsp;</TD>
<TD width=20%>&nbsp;</TD>
<TD width=19%>&nbsp;</TD>
<TD width=29%>0x40 - Card uses IRQ 2 </TD>
</TR>

<TR VALIGN="top">
<TD width=32%>&nbsp;</TD>
<TD width=20%>&nbsp;</TD>
<TD width=19%>&nbsp;</TD>
<TD width=29%>0x08 - Required parameter (UI will force the user to set this value). </TD>
</TR>

<TR VALIGN="top">
<TD width=32%>&nbsp;</TD>
<TD width=20%>&nbsp;</TD>
<TD width=19%>&nbsp;</TD>
<TD width=29%>Note: This parameter is written in the INF file as a <B>DWORD</B> using Intel(r) byte ordering. For example, 0x30 would be written in the INF file as 30,00,00,00. </TD>
</TR>
</TABLE><BR>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Driver%20Parameters"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
