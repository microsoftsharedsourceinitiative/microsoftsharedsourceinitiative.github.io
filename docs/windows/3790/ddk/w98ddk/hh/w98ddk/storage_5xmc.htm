<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>IFSMgr_FSDMapFHToIOREQ</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT></HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Windows&nbsp;98/Me:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H3><A NAME="_pss_4454"></A>IFSMgr_FSDMapFHToIOREQ</H3>

<PRE>IFSMgr_FSDMapFHToIOREQ(
 pioreq pir,
 unsigned short DOSHandle
 )
 </PRE>

<P>This service has been provided for FSDs to map a DOS handle to the corresponding FSD and IFS internal handle structures. Typically, this is used by FSDs that have applications that manipulate a file using DOS functions and then use the same handle on private services provided only by the FSD. The FSD can then use this service to convert the DOS handle to its corresponding internal file handle structures. This service works only if the provider ID of the FSD that is servicing the DOS file handle matches the provider ID that the FSD passes in as a parameter on this service. 

<DL>
<DT>Value </DT>

<DD>Meaning </DD>

<DT><I>pir</I> </DT>

<DD>Supplies pointer to the IOREQ structure. </DD>

<DT><I>ir_proid</I> </DT>

<DD>Supplies the provider ID of the FSD that is invoking this service. </DD>

<DT><I>DOSHandle</I> </DT>

<DD>Supplies the DOS file handle for the file. </DD>
</DL>

<UL>
	<LI>Returns the value in <I>ir_error</I>. </LI>
</UL>

<TABLE>

<TR VALIGN="top">
<TD width=34%><B>IOREQ Structure:</B> </TD>
<TD width=66%>&nbsp;</TD>
</TR>

<TR VALIGN="top">
<TH align=left width=34%>Value </TH>
<TH align=left width=66%>Meaning </TH>
</TR>

<TR VALIGN="top">
<TD width=34%><I>ir_error</I> </TD>
<TD width=66%>Returns zero if successful, returns an error code if it fails. </TD>
</TR>

<TR VALIGN="top">
<TD width=34%><I>ir_rh</I> </TD>
<TD width=66%>Returns the FSD resource handle for the resource the file is on. </TD>
</TR>

<TR VALIGN="top">
<TD width=34%><I>ir_fh</I> </TD>
<TD width=66%>Returns the FSD file handle for this file. </TD>
</TR>

<TR VALIGN="top">
<TD width=34%><I>ir_pos</I> </TD>
<TD width=66%>Returns the current file position. </TD>
</TR>
</TABLE><BR>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: IFSMgr_FSDMapFHToIOREQ"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
