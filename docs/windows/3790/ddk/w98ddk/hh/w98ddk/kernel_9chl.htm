<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>VM_Init</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT></HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Windows&nbsp;98/Me:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="_pss_1799"></A>VM_Init</H1>

<PRE>include vmm.inc

mov     ebx, VMHandle
mov     eax, VM_Init
VMMCall System_Control
 </PRE>

<P>Directs the virtual device to initialize the state of the software in the new virtual machine. For example, the virtual display device issues Interrupt 10h to set the initial display mode. The system enables interrupts before sending this message. The virtual device may modify all general registers and flags. 

<UL>
	<LI>Clears the carry flag if the virtual device initialized the virtual machine successfully. Otherwise, sets the carry flag to prevent the system from creating the virtual machine. </LI>
</UL>

<DL>
<DT><I>VMHandle</I></DT>

<DD>Handle of the virtual machine to create. 
</DD>
</DL>

<P>The virtual device can use the <B>Simulate_Int</B> and <B>Exec_Int</B> services in the specified virtual machine. </P>

<H4>See Also</H4>

<P><B>Create_VM</B>, <B>VM_Critical_Init</B> </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: VM_Init"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
