<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>End_Critical_Section</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT></HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Windows&nbsp;98/Me:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="_pss_1635"></A>End_Critical_Section</H1>

<PRE>include vmm.inc

VMMCall End_Critical_Section
 </PRE>

<P>Releases the critical section if the current thread owns the section and the claim count is zero. Uses Flags. 

<UL>
	<LI>No return value. </LI>
</UL>

<P>This service decrements the claim count and releases the critical section if the new count is zero. Since releasing the critical section lowers the execution priority of the current thread, this service causes a task switch if a nonsuspended thread has higher priority. </P>

<P>It is extremely risky for a virtual device to end a critical section it did not enter, or which it entered from a thread other than the current thread. </P>

<H4>See Also</H4>

<P><B>Begin_Critical_Section</B>, <B>End_Crit_And_Suspend</B> </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: End_Critical_Section"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
