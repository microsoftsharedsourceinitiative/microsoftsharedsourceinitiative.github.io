<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>_GetFreePageCount</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT></HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Windows&nbsp;98/Me:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="_pss_1229"></A>_GetFreePageCount</H1>

<PRE>include vmm.inc

VMMCall _GetFreePageCount, &lt;flags&gt;

mov     dword ptr [FreePages], eax      ; number of free pages
mov     dword ptr [LockablePages], edx  ; number of lockable pages
 </PRE>

<P>Returns the number of pages in the free list. This service also returns the number of free pages that can be allocated as locked pages. Uses EAX, ECX, EDX, and flags. </P>

<P>Returns the number of free pages in the EAX register and the number of pages available for allocation as locked pages in the EDX register. 

<DL>
<DT><I>flags</I></DT>

<DD>Operation flags. Must be zero. 
</DD>
</DL>

<P>Virtual devices can allocate pages by using the <B>_PageAllocate, _PageCommit</B>, <B>_PageCommitContig</B>, or <B>_PageCommitPhys</B> service. </P>

<P>In a demand-paged virtual memory system such as Windows, the number of free pages is usually very close to 0, so the count of pages available for locking is usually a better indicator of available memory. However, virtual devices must not rely on the count of free pages being less than or equal to the count of pages to lock. No guarantees can be made about the length of time the information returned by this service remains accurate. </P>

<H4>See Also</H4>

<P><B>_PageAllocate</B> </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: _GetFreePageCount"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
