<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>DVM_FORMAT</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT></HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Windows&nbsp;98/Me:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="_pss_2653"></A>DVM_FORMAT</H1>

<P>Notifies a video capture driver to configure the format of the VIDEO_IN channel. 

<UL>
	<LI>Returns DV_ERR_OK if successful or an error code otherwise. The DV_ERR_NOTSUPPORTED error indicates the message in not supported. </LI>
</UL>

<DL>
<DT><I>dwFlags</I> </DT>

<DD>Flags to indicate the type of format transfer requested. The following flags are defined: 

<TABLE>

<TR VALIGN="top">
<TD width=39%>VIDEO_CONFIGURE_SET </TD>
<TD width=61%>Sets the current format. </TD>
</TR>

<TR VALIGN="top">
<TD width=39%>VIDEO_CONFIGURE_GET </TD>
<TD width=61%>Gets the current format. </TD>
</TR>

<TR VALIGN="top">
<TD width=39%>VIDEO_CONFIGURE_QUERY </TD>
<TD width=61%>Interrogates the driver to determine if it supports the message. </TD>
</TR>

<TR VALIGN="top">
<TD width=39%>VIDEO_CONFIGURE_QUERYSIZE </TD>
<TD width=61%>Interrogates the driver for the size, in bytes, of the format information referenced by <B>lpdwReturn</B>. This flag must be used with VIDEO_CONFIGURE_GET. </TD>
</TR>
</TABLE><BR>

</DD>

<DT><I>lpVConfigParms</I> </DT>

<DD>Address of a <B>VIDEOCONFIGPARMS</B> structure. This structure has the following members: 

<TABLE>

<TR VALIGN="top">
<TD width=20%><B>lpdwReturn</B> </TD>
<TD width=80%>Address of a <B>DWORD</B>. If the <B>VIDEO_CONFIGURE_QUERYSIZE</B> flag is used, the driver fills this field with the size (in bytes) of the <B>BITMAPINFOHEADER</B> data structure. </TD>
</TR>

<TR VALIGN="top">
<TD width=20%><B>lpData1</B> </TD>
<TD width=80%>Address of a <B>BITMAPINFOHEADER</B> structure. </TD>
</TR>

<TR VALIGN="top">
<TD width=20%><B>dwSize1</B> </TD>
<TD width=80%>Size, in bytes, of the <B>BITMAPINFOHEADER</B> structure. </TD>
</TR>

<TR VALIGN="top">
<TD width=20%><B>lpData2</B>, <B>dwSize2</B> </TD>
<TD width=80%>Not used. </TD>
</TR>
</TABLE><BR>

</DD>
</DL>

<P>Either the VIDEO_CONFIGURE_SET or the VIDEO_CONFIGURE_GET flag must be set to specify the direction of the transfer. </P>

<P>The DVM_FORMAT message globally defines the attributes of the frame buffer. This includes dimensions, color depth, and compression of images transferred with DVM_FRAME and buffers transferred during streaming capture. Changing the format may affect overall dimensions of the active frame buffer as well as bit depth and color space representation. Since changing between NTSC and PAL video standards can also affect image dimensions, applications should request the current format following display of the VIDEO_EXTERNALIN channel dialog box. </P>

<H4>See Also</H4>

<P><B>VIDEOCONFIGPARMS</B></P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: DVM_FORMAT"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
