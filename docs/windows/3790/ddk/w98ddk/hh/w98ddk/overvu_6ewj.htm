<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Master Units</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Master Units">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Windows&nbsp;98/Me:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H3><A NAME="_mdag_master_units"></A>Master Units</H3>

<P>Most printers support commands with a variety of resolutions. For example, the Immediate Line Feed command on the Kodak Diconix printer provides a resolution of 1/288th of an inch while the same printer supports vertical-graphics resolutions of 1/96th of an inch. To simplify the problem of handling various resolutions, the Universal Printer Driver uses a single, common coordinate system. The units in this coordinate system are called master units. Master units are the least common multiple of the various horizontal and vertical resolutions supported by the printer. (For more information about master units, how they are computed, and how they are specified, see <A HREF="mstunits_8orl.htm">Specifying Master Units and Minidriver Data</A>.)</P>

<H4>Converting Master Units</H4>

<P>The Universal Printer Driver calculates the arguments for some printer commands by adding a value to the specified master units, multiplying the specified master units by a value, or dividing the specified master units by a value. For example, in the case of the Kodak Diconix printer, the vertical master unit is 1/576 of an inch; however, the printer's immediate line-feed command operates in 1/288 inch increments. When using this command, the Universal Printer Driver must convert the argument it supplies from vertical master units to the required units.</P>

<P>UniTool stores each printer command in a Command Descriptor (CD) data structure. In cases where the Universal Printer Driver will need to supply an argument to a particular command, such as the Immediate Line Feed command, UniTool stores additional data in an Extended Command-Descriptor (EXTCD) data structure. This data structure contains values by which the Universal Printer Driver should divide, multiply, increase, or limit command arguments. A special Units dialog box is provided for each printer command. In those cases where the Universal Printer Driver must convert master units, specify the appropriate values in the corresponding Units dialog box. In the case of the Immediate Line Feed command, master units must be divided by 2 prior to setting the parameter, therefore the sUnitDiv control contains the value 2.</P>

<P>The sMax control contains the value 255 (the maximum allowable value for this parameter) and the sMin control contains the value 1 (the minimum allowable value for this parameter). Once you've read this section and understand the fundamental concepts of developing a minidriver, you're ready to set up the development environment. The next section, <A HREF="setup_7esk.htm">Getting Started</A>, explains how this is done.</P>

<P></P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Master%20Units"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
