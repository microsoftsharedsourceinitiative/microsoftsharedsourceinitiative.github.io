<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>ICDRAW</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT></HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Windows&nbsp;98/Me:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="_pss_2846"></A>ICDRAW</H1>

<PRE>typedef struct {
    DWORD dwFlags;
    LPVOID lpFormat;
    LPVOID lpData;
    DWORD cbData;
    LONG lTime;
} ICDRAW;
 </PRE>

<P>Contains parameters for drawing video data to the screen. This structure is used with the ICM_DRAW message. </P>

<H4>Members</H4>

<DL>
<DT><B>dwFlags</B> </DT>

<DD>Flags from the AVI file index. The following values are defined: 

<TABLE>

<TR VALIGN="top">
<TD width=30%>ICDRAW_HURRYUP </TD>
<TD width=70%>Indicates the data is buffered and not drawn to the screen. Use this flag for fastest decompression. </TD>
</TR>

<TR VALIGN="top">
<TD width=30%>ICDRAW_UPDATE </TD>
<TD width=70%>Updates the screen based on data previously received. In this case, the <I>lpData</I> parameter should be ignored. </TD>
</TR>

<TR VALIGN="top">
<TD width=30%>ICDRAW_PREROLL </TD>
<TD width=70%>Indicates the current frame of video occurs before playback should start. For example, if playback will begin on frame 10, and frame 0 is the nearest previous keyframe, frames 0 through 9 are sent to the driver with the ICDRAW_PREROLL flag set. The driver needs this data to display frame 10 properly. </TD>
</TR>

<TR VALIGN="top">
<TD width=30%>ICDRAW_NULLFRAME </TD>
<TD width=70%>Indicates the current frame does not contain any data, and the previous frame should be redrawn. </TD>
</TR>

<TR VALIGN="top">
<TD width=30%>ICDRAW_NOTKEYFRAME </TD>
<TD width=70%>Indicates the current frame is not a key frame. </TD>
</TR>
</TABLE><BR>

</DD>

<DT><B>lpFormat</B> </DT>

<DD>Address of a structure containing the data format. For video streams, this is a <B>BITMAPINFOHEADER</B> structure. </DD>

<DT><B>lpData</B> </DT>

<DD>Address of the data to render. </DD>

<DT><B>cbData</B> </DT>

<DD>Number of bytes of data to render. </DD>

<DT><B>lTime</B> </DT>

<DD>Time, in samples, when this data should be drawn. For video data this is normally a frame number. 
</DD>
</DL>

<H4>See Also</H4>

<P>ICDRAWBEGIN, ICM_DRAW_BEGIN </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: ICDRAW"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
