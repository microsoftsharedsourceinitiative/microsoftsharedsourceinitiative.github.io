<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>DVM_PALETTERGB555</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT></HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Windows&nbsp;98/Me:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="_pss_2659"></A>DVM_PALETTERGB555</H1>

<P>Notifies a video capture driver to associate an RGB555 palette with a video device channel. Applications can provide an RGB555 translation table to a driver for fast conversions between RGB formats and 8-bit palettized formats. 

<UL>
	<LI>Returns DV_ERR_OK if successful or an error code otherwise. The following error codes are defined: </LI>
</UL>

<TABLE>

<TR VALIGN="top">
<TD width=34%>DV_ERR_NOTSUPPORTED </TD>
<TD width=66%>Indicates the message is not supported. </TD>
</TR>

<TR VALIGN="top">
<TD width=34%>DV_ERR_CREATEPALETTE </TD>
<TD width=66%>Indicates the driver is not able to associate the palette with the video device channel. </TD>
</TR>

<TR VALIGN="top">
<TD width=34%>DV_ERR_PARM1 </TD>
<TD width=66%>Indicates the information supplied for <I>dwParam1</I> is invalid. </TD>
</TR>

<TR VALIGN="top">
<TD width=34%>DV_ERR_PARM2 </TD>
<TD width=66%>Indicates the information supplied for <I>dwParam2</I> is invalid. </TD>
</TR>

<TR VALIGN="top">
<TD width=34%>DV_ERR_SIZEFIELD </TD>
<TD width=66%>Indicates the data structure supplied for the format is too small. </TD>
</TR>
</TABLE><BR>

<DL>
<DT><I>dwFlags</I> </DT>

<DD>Flags indicating the type of palette transfer requested. The following flags are defined: 

<TABLE>

<TR VALIGN="top">
<TD width=34%>VIDEO_CONFIGURE_SET </TD>
<TD width=66%>Indicates values are being sent to the driver. </TD>
</TR>

<TR VALIGN="top">
<TD width=34%>VIDEO_CONFIGURE_QUERY </TD>
<TD width=66%>This flag, when combined with VIDEO_CONFIGURE_SET is used to query the driver to determine if it supports the message. </TD>
</TR>
</TABLE><BR>

</DD>

<DT><I>lpVConfigParms</I> </DT>

<DD>Address of a <B>VIDEOCONFIGPARMS</B> structure. The <B>VIDEOCONFIGPARMS</B> structure has the following members: 

<TABLE>

<TR VALIGN="top">
<TD width=18%><B>lpdwReturn</B> </TD>
<TD width=82%>Not used. </TD>
</TR>

<TR VALIGN="top">
<TD width=18%><B>lpData1</B> </TD>
<TD width=82%>Address of a <B>LOGPALETTE</B> structure. </TD>
</TR>

<TR VALIGN="top">
<TD width=18%><B>dwSize1</B> </TD>
<TD width=82%>Size, in bytes, of the <B>LOGPALETTE</B> structure. </TD>
</TR>

<TR VALIGN="top">
<TD width=18%><B>lpData2</B> </TD>
<TD width=82%>Address of a 32 kilobyte RGB555 translation table . This table is used by the device driver to translate from RGB555 triplets into palette colors when capturing in 8 bit palette mode. </TD>
</TR>

<TR VALIGN="top">
<TD width=18%><B>dwSize2</B> </TD>
<TD width=82%>Size, in bytes, of the translate table. This value must be 32,768. </TD>
</TR>
</TABLE><BR>

</DD>
</DL>

<P>This message applies only to VIDEO_IN and VIDEO_OUT channels. </P>

<P>A translation table provides a fast method of converting between RGB and palettized color spaces. The palette index corresponding to an RGB color is found by indexing the translation table at xRRRRRGGGGGBBBBB (the five most significant bits of each color component is used to create the index). </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: DVM_PALETTERGB555"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
