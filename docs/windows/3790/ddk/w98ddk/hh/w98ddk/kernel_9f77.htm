<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>VM_Suspend</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT></HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Windows&nbsp;98/Me:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="_pss_1803"></A>VM_Suspend</H1>

<PRE>include vmm.inc

mov     ebx, VMHandle
mov     eax, VM_Suspend
VMMCall System_Control
 </PRE>

<P>Notifies the virtual device that the system is suspending execution of the virtual machine. The virtual device should unlock any resources associated with the virtual machine. The virtual device may modify all general registers and flags. 

<UL>
	<LI>This message cannot be failed. The virtual device must return carry clear. </LI>
</UL>

<DL>
<DT><I>VMHandle</I></DT>

<DD>Handle of the virtual machine to suspend. 
</DD>
</DL>

<P>The virtual machine remains suspended until explicitly resumed. The system sends the <B>VM_Suspend</B> message when the virtual machine's suspend count changes from zero to one, and not every time the <B>Suspend_VM</B> service is called. Similarly, it sends a <B>VM_Resume</B> message when the virtual machine's suspend count changes from one to zero, and not every time the <B>Resume_VM</B> service is called. </P>

<P>The <B>CB_VM_Status</B> field in the control block for the virtual machine specifies whether the virtual machine is suspended. </P>

<H4>See Also</H4>

<P><B>Resume_VM</B>, <B>Suspend_VM</B>, <B>VM_Resume</B>, <B>VM_Suspend2</B> </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: VM_Suspend"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
