<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Register Conventions</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT></HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Windows&nbsp;98/Me:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H2><A NAME="_pss_4543"></A>Register Conventions</H2>

<P>The INT 13h extensions adhere, as much as possible, to the following registers conventions: </P>

<PRE>ds:si ==&gt; disk address packet
dl    ==&gt; drive number
ah    ==&gt; function code/return status
</PRE>

<P>The distinction between "removable" disks numbered zero through 7Fh and "fixed" disks numbered 80h-FFh differ somewhat from existing INT 13h implementations. Drives numbered zero through 7Fh are the same as they are regarded in the present INT 13h standard, removable drives that can be inserted and ejected at arbitrary times, without necessarily any software control or notification. Drives numbered 80h-FFh include traditional fixed disks, but also include advanced removable drives that must support changeline and software locking and unlocking. New functions have been included in this specification to support these types of drives. </P>

<P>Return codes are the same as defined for the standard INT 13h interface, but include the following new error codes: </P>

<TABLE>

<TR VALIGN="top">
<TD width=41%>B0h </TD>
<TD width=59%>Volume not locked in drive </TD>
</TR>

<TR VALIGN="top">
<TD width=41%>B1h </TD>
<TD width=59%>Volume locked in drive </TD>
</TR>

<TR VALIGN="top">
<TD width=41%>B2h </TD>
<TD width=59%>Volume not removable </TD>
</TR>

<TR VALIGN="top">
<TD width=41%>B3h </TD>
<TD width=59%>Volume in use </TD>
</TR>

<TR VALIGN="top">
<TD width=41%>B4h </TD>
<TD width=59%>Lock count exceeded </TD>
</TR>

<TR VALIGN="top">
<TD width=41%>B5h </TD>
<TD width=59%>Valid eject request failed </TD>
</TR>
</TABLE><BR>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Register%20Conventions"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
