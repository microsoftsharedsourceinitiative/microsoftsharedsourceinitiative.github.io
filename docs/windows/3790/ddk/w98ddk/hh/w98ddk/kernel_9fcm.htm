<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>VDMAD_Reserve_Buffer_Space</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT></HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Windows&nbsp;98/Me:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="_pss_1836"></A>VDMAD_Reserve_Buffer_Space</H1>

<PRE>include vdmad.inc

mov eax, PageCount
mov ecx, MaxAddress
VxDcall VDMAD_Reserve_Buffer_Space
 </PRE>

<P>Allows other devices that are going to handle DMA to make sure that VDMAD allocates a buffer large enough for any transfers that they might require. Uses flags 

<UL>
	<LI>No return value. </LI>
</UL>

<DL>
<DT><I>PageCount</I> </DT>

<DD>Number of pages requested. </DD>

<DT><I>MaxAddress</I> </DT>

<DD>Maximum physical address that can be included in a DMA transfer. If this parameter is zero, there is no limit. 
</DD>
</DL>

<P>This service also allows a device to specify a maximum physical address that would be valid for the device's DMA requests. During the <B>Init_Complete</B> phase of initialization, VDMAD allocates the DMA buffer using all of the constraints specified by other devices. For example, the buffer is at least as big as the largest size specified by the calls to this service, and it allocates below the lowest maximum physical addresses specified. </P>

<P>This service is only available before the <B>Init_Complete</B> message. </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: VDMAD_Reserve_Buffer_Space"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
