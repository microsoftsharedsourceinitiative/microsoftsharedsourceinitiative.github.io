<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>IFSMgr_CheckLocks</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT></HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Windows&nbsp;98/Me:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H3><A NAME="_pss_4493"></A>IFSMgr_CheckLocks</H3>

<PRE>IFSMgr_CheckLocks(
 void * pFSDLockListHead,
 unsigned long Offset,
 unsigned long Length,
 unsigned long Process,
 void * pOpenFileInstance,
 unsigned long fOperation
 )
 </PRE>

<P>This service checks if the specified I/O operation can be done on the file without violating any of the locks that are active on the open file. It walks the list of locks active on the open file and checks if the current I/O operation violates any of the locks. 

<DL>
<DT><I>pFSDLockListHead</I> </DT>

<DD>Supplies a pointer to the head of the list of locks. </DD>

<DT><I>Offset</I> </DT>

<DD>Supplies the starting offset in the file of the region the I/O operation is to be done to. </DD>

<DT><I>Length</I> </DT>

<DD>Supplies the length of the I/O operation. </DD>

<DT><I>Process</I> </DT>

<DD>Supplies the process ID of the process performing the I/O operation. </DD>

<DT><I>pOpenFileInstance</I> </DT>

<DD>Supplies a pointer to the structure that describes the current open file instance. </DD>

<DT><I>fOperation</I> </DT>

<DD>Supplies flags indicating what kind of I/O operation is being done. 

<TABLE>

<TR VALIGN="top">
<TD width=34%><B>I/O Operation Flags:</B> </TD>
<TD width=66%>&nbsp;</TD>
</TR>

<TR VALIGN="top">
<TH align=left width=34%>Value </TH>
<TH align=left width=66%>Meaning </TH>
</TR>

<TR VALIGN="top">
<TD width=34%>LOCKF_RD </TD>
<TD width=66%>Indicates that a read operation is being done. </TD>
</TR>

<TR VALIGN="top">
<TD width=34%>LOCKF_WR </TD>
<TD width=66%>Indicates that a write operation is being done. </TD>
</TR>
</TABLE><BR>

</DD>
</DL>

<UL>
	<LI>Returns zero if I/O operation can be done, error code if the I/O operation violates any of the active locks. </LI>
</UL>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: IFSMgr_CheckLocks"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
