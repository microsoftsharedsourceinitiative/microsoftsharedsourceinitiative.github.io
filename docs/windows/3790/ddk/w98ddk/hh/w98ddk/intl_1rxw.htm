<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>About SCS_SETSTR</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT></HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Windows&nbsp;98/Me:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H2><A NAME="_pss_904"></A>About SCS_SETSTR</H2>

<P>If the <I>dwIndex</I> parameter of <B>ImeSetCompositionString</B> is SCS_SETSTR, the IME can clean up all of the <B>COMPOSITIONSTR</B> structure of <I>hIMC</I>. </P>

<P>If it is necessary, IME may update the candidate information and generate the candidate messages IMN_OPENCANDIDATE, IMN_CHANGECANDIDATE, or IMN_CLOSECANDIDATE. </P>

<P>If the <I>lpRead</I> parameter of <B>ImeSetCompositionString</B> is available, IME should make the composition string from the reading string that is in <I>lpRead</I>. Then, the IME makes the attribute and clause information for both the new composition string and the reading string of <I>lpRead</I>. The IME generates WM_IME_COMPOSITION with (GCS_COMP | GCS_COMPREAD). Sometimes IME needs to make it finalize automatically. In this case, the IME may generate WM_IME_COMPOSITION with (GCS_RESULT | GCS_RESULTREAD) instead of GCS_COMPxxx. </P>

<P>If the <I>lpComp</I> parameter of <B>ImeSetCompositionString</B> is available, the IME should make the composition attribute and clause information from the composition string in <I>lpComp</I>. The IME generates WM_IME_COMPOSITION with GCS_COMP. If the IME has the capability of SCS_CAP_MAKEREAD, the IME should make new reading string at the same time. The IME generates WM_IME_COMPOSITION with (GCS_COMP | GCS_COMPREAD). Sometimes, the IME needs to make it finalize automatically. In this case, the IME may generate WM_IME_COMPOSITION with (GCS_RESULT | GCS_RESULTREAD) instead of GCS_COMPxxx. </P>

<P>If both the <I>lpRead</I> and <I>lpComp</I> parameters are available, the IME should make the composition string and the reading string. At this time, IME does not need to follow <I>lpComp</I> and <I>lpRead</I> completely. If the IME cannot make the relation between <I>lpRead</I> and <I>lpComp</I> that is specified by the application, the IME should correct the composition string. The IME makes the attribute and clause information for both the new composition string and the reading string of <I>lpRead</I>. The IME generates WM_IME_COMPOSITION with (GCS_COMP | GCS_COMPREAD). Sometimes, the IME needs to make it finalize automatically. Then, the IME may generate WM_IME_COMPOSITION with (GCS_RESULT | GCS_RESULTREAD) instead of GCS_COMPxxx. </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: About%20SCS_SETSTR"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
