<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Creating the AddReg-type Section for the Miniport Driver</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT></HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Windows&nbsp;98/Me:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H2><A NAME="_pss_183"></A>Creating the AddReg-type Section for the Miniport Driver</H2>

<P>You can use the same method to add an AddReg-type section to the INF file that creates a registry entry for the Miniport driver at installation time. In this example, that section is named CX2590_RegEntries, but can be named anything as long as it is a unique section name in the INF file. The filename of the miniport driver is CX2590.MPD. </P>

<P>The AddReg-type section items that must be put into an INF file vary between classes of devices. One way to find out what entries are required is to look at the AddReg-type sections in the INF files for your class of device that are in the %WINROOT%\INF directory after Windows 95 is installed on your machine. </P>



<H4><A NAME="_pss_184"></A>Adding References to the AddReg-Type Sections to the Install Section</H4>

<P>For the AddReg-type sections you have built (named StdIOS_RegEntries and CX2590_RegEntries) to be recognized by the operating system installer, the names of the two sections have to be added to the Install section. To do this 

<OL>
	<LI>Double-click on the Install sections subfolder named CX2590.Install. A list of all the types of sections that can be referred to in an Install section will be displayed in the edit area on the right side of the screen. </LI>

	<LI>Since you want to add the names of AddReg-type sections to the Install section of the INF file, double-click the AddReg item in the edit box list. Use the Edit Section List dialog to move the two AddReg-type section names (StdIOS_RegEntries and CX2590_RegEntries in this example) from the Available Sections list box to the Included Sections list box and then click OK. </LI>
</OL>

<P>At this point, the edit display looks like this: </P>

<P><IMG SRC="images/devinst07.gif" ALT="" BORDER=0></P>

<P>This display reflects that the two AddReg-type sections and two logical configuration sections have been put into the INF file and the names of all four sections have been added to the Install section script. Sections that enable files to be copied from an installation diskette to specific hard disk directories have to added to the INF file also. </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Creating%20the%20AddReg-type%20Section%20for%20the%20Miniport%20Driver"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
