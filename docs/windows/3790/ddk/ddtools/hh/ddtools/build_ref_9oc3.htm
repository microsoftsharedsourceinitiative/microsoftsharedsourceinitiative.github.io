<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>makefile.def File</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="makefile.def File">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Driver&nbsp;Development&nbsp;Tools:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_makefile.def_file_tools"></A><I>makefile.def</I> File</H1>

<P>The Build utility makes use of a generic make file called <I>makefile.def</I> that contains the macro definitions that the <I>sources</I> file uses.</P>

<P><I>Makefile.def </I>specifies the flags that are passed to the compiler and linker. These settings are tailored to the DDK build environment, and you should therefore use <I>makefile.def</I> to build your drivers. Using this file simplifies the creation of platform-independent driver projects. The file is similar to the <I>ntwin32.mak</I> file, which is supplied with the Platform SDK and is used to build Win32® applications.</P>

<P>Using the Build utility in combination with the <I>makefile.def</I> file removes the guesswork about which compiler switches are required, which arguments the linker requires, and so on. By adding appropriate macro definitions to the <I>sources</I> file, you can control build options in a platform-independent fashion.</P>

<P>The Build utility will look at the <A HREF="build_ref_73zn.htm"><I>makefile</I> file</A>; this file should always redirect it to <I>makefile.def</I>. This file, in turn, sets the appropriate header and library include paths, compiler names and switches, and linker switches that are defined in <I>makefile.def</I>, and invokes NMAKE (<I>nmake.exe</I>).</P>

<P>The current version of <I>makefile.def</I> resides on <I>%ddkroot%\bin</I>.</P>

<P class=note><B>Caution</B>&nbsp;&nbsp;Do not change <I>makefile.def </I>or any of the other files in the DDK's \<I>bin</I> directory. If you have driver-specific make file requirements, put them in <A HREF="build_ref_7i7n.htm"><I>makefile.inc</I></A><I> </I>instead.</P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: makefile.def%20File"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
