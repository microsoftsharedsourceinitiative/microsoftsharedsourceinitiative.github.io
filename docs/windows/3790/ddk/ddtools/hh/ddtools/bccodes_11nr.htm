<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Bug Check 0xAB:  SESSION_HAS_VALID_POOL_ON_EXIT</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="bug check 0xAB">
<META NAME="MS-HKWD" CONTENT="SESSION_HAS_VALID_POOL_ON_EXIT">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Driver&nbsp;Development&nbsp;Tools:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_bug_check_0xab_bug"></A>Bug Check 0xAB: SESSION_HAS_VALID_POOL_ON_EXIT</H1>

<P>The SESSION_HAS_VALID_POOL_ON_EXIT bug check has a value of 0x000000AB. This indicates that a session unload occurred while a session driver still held memory.</P>

<H4>Parameters</H4>

<P>The following parameters are displayed on the blue screen.</P>

<TABLE>

<TR VALIGN="top">
<TH align=left width=21%>Parameter</TH>
<TH align=left width=79%>Description</TH>
</TR>

<TR VALIGN="top">
<TD width=21%>1</TD>
<TD width=79%>The session ID </TD>
</TR>

<TR VALIGN="top">
<TD width=21%>2</TD>
<TD width=79%>The number of paged pool bytes that are leaking </TD>
</TR>

<TR VALIGN="top">
<TD width=21%>3</TD>
<TD width=79%>The number of nonpaged pool bytes that are leaking </TD>
</TR>

<TR VALIGN="top">
<TD width=21%>4</TD>
<TD width=79%>The total number of paged and nonpaged allocations that are leaking. (The number of nonpaged allocations are in the upper half of this word, and paged allocations are in the lower half of this word.) </TD>
</TR>
</TABLE><BR>

<H4>Cause</H4>

<P>This error is caused by a session driver not freeing its pool allocations prior to a session unload. This indicates a bug in <I>win32k.sys</I>, <I>atmfd.dll</I>, <I>rdpdd.dll</I>, or a video driver. </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Bug%20Check%200xAB:%20%20SESSION_HAS_VALID_POOL_ON_EXIT"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
