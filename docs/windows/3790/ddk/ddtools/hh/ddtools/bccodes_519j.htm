<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Bug Check 0x19:  BAD_POOL_HEADER</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="bug check 0x19">
<META NAME="MS-HKWD" CONTENT="BAD_POOL_HEADER">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Driver&nbsp;Development&nbsp;Tools:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_bug_check_0x19_bug"></A>Bug Check 0x19: BAD_POOL_HEADER</H1>

<P>The BAD_POOL_HEADER bug check has a value of 0x00000019. This indicates that a pool header is corrupt.</P>

<H4>Parameters</H4>

<P>The following parameters are displayed on the blue screen. Parameter&nbsp;1 indicates the type of violation. The meaning of the other parameters depends on the value of Parameter&nbsp;1.</P>

<TABLE>

<TR VALIGN="top">
<TH align=left width=11%>Parameter 1</TH>
<TH align=left width=19%>Parameter 2</TH>
<TH align=left width=18%>Parameter 3</TH>
<TH align=left width=22%>Parameter 4</TH>
<TH align=left width=30%>Cause of Error</TH>
</TR>

<TR VALIGN="top">
<TD width=11%>0x3</TD>
<TD width=19%>The pool entry being checked</TD>
<TD width=18%>The read-back <B>flink</B> freelist value</TD>
<TD width=22%>The read-back <B>blink</B> freelist value</TD>
<TD width=30%>The pool freelist is corrupt.
<P>(In a healthy list, the values of Parameters 2, 3, and 4 should be identical.)</P>
</TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x5</TD>
<TD width=19%>One of the pool entries</TD>
<TD width=18%>Reserved    </TD>
<TD width=22%>The other pool entry</TD>
<TD width=30%>A pair of adjacent pool entries have headers that contradict each other. At least one of them is corrupt.</TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x6</TD>
<TD width=19%>One incorrectly-calculated entry</TD>
<TD width=18%>Reserved    </TD>
<TD width=22%>The bad entry that caused the miscalculation</TD>
<TD width=30%>The pool block header's previous size is too large.</TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x7</TD>
<TD width=19%>0</TD>
<TD width=18%>Reserved    </TD>
<TD width=22%>The bad pool entry</TD>
<TD width=30%>The pool block header size is corrupt.</TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x8</TD>
<TD width=19%>0</TD>
<TD width=18%>Reserved    </TD>
<TD width=22%>The bad pool entry</TD>
<TD width=30%>The pool block header size is zero.</TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x9</TD>
<TD width=19%>One incorrectly-calculated entry</TD>
<TD width=18%>Reserved    </TD>
<TD width=22%>The bad entry that caused the miscalculation</TD>
<TD width=30%>The pool block header size is corrupt (it is too large).</TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0xA</TD>
<TD width=19%>The pool entry that should have been found </TD>
<TD width=18%>Reserved    </TD>
<TD width=22%>The virtual address of the page that should have contained the pool entry</TD>
<TD width=30%>The pool block header size is corrupt.</TD>
</TR>
</TABLE><BR>

<H4>Cause</H4>

<P>The pool is already corrupt at the time of the current request. </P>

<P>This may or may not be due to the caller. </P>

<H4>Resolving the Problem</H4>

<P>The internal pool links must be walked to figure out a possible cause of the problem.</P>

<P>Then you can use special pool for the suspect pool tags, or use Driver Verifier on the suspect driver.</P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Bug%20Check%200x19:%20%20BAD_POOL_HEADER"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
