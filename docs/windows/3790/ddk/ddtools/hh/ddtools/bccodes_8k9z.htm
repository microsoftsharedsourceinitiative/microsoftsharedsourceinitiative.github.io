<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Bug Check 0xC2:  BAD_POOL_CALLER</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="bug check 0xC2">
<META NAME="MS-HKWD" CONTENT="BAD_POOL_CALLER">
</HEAD>
<BODY TOPMARGIN="0">
<DIV STYLE="display:none;">
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_mmfreecontiguousmemory_kr">
</OBJECT>
</DIV>


<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Driver&nbsp;Development&nbsp;Tools:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_bug_check_0xc2_bug"></A>Bug Check 0xC2: BAD_POOL_CALLER</H1>

<P>The BAD_POOL_CALLER bug check has a value of 0x000000C2. This indicates that the current thread is making a bad pool request.</P>

<H4>Parameters</H4>

<P>The following parameters are displayed on the blue screen. Parameter&nbsp;1 indicates the type of violation.</P>

<TABLE>

<TR VALIGN="top">
<TH align=left width=11%>Parameter 1</TH>
<TH align=left width=20%>Parameter 2</TH>
<TH align=left width=21%>Parameter 3</TH>
<TH align=left width=20%>Parameter 4</TH>
<TH align=left width=28%>Cause of Error</TH>
</TR>

<TR VALIGN="top">
<TD width=11%>0x00</TD>
<TD width=20%>0 </TD>
<TD width=21%>Pool type</TD>
<TD width=20%>Pool tag</TD>
<TD width=28%>The current thread requested a zero-byte pool allocation.</TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x01,<BR>
0x02,<BR>
or<BR>
0x04</TD>
<TD width=20%>Pointer to pool header</TD>
<TD width=21%>First part of pool header contents</TD>
<TD width=20%>0 </TD>
<TD width=28%>The pool header has been corrupted.</TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x06</TD>
<TD width=20%>Reserved    </TD>
<TD width=21%>Pointer to pool header</TD>
<TD width=20%>Pool header contents</TD>
<TD width=28%>The current thread attempted to free pool which was already freed.</TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x07</TD>
<TD width=20%>Reserved    </TD>
<TD width=21%>Memory contents of the pool block </TD>
<TD width=20%>Pointer to pool header </TD>
<TD width=28%>The current thread attempted to free pool which was already freed.</TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x08</TD>
<TD width=20%>Current IRQL</TD>
<TD width=21%>Pool type</TD>
<TD width=20%>Size of allocation, in bytes</TD>
<TD width=28%>The current thread attempted to allocate pool at an invalid IRQL.</TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x09</TD>
<TD width=20%>Current IRQL</TD>
<TD width=21%>Pool type</TD>
<TD width=20%>Address of pool</TD>
<TD width=28%>The current thread attempted to free pool at an invalid IRQL.</TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x0A</TD>
<TD width=20%>Address of pool</TD>
<TD width=21%>Allocator's tag</TD>
<TD width=20%>Tag being used in the attempted free</TD>
<TD width=28%>The current thread attempted to free pool memory using the wrong tag.
<P>(The memory may belong to another component.)</P>
</TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x0B,<BR>
0x0C,<BR>
or<BR>
0x0D</TD>
<TD width=20%>Address of pool</TD>
<TD width=21%>Pool allocation's tag</TD>
<TD width=20%>Bad quota process pointer</TD>
<TD width=28%>The current thread attempted to release a quota on a corrupted pool allocation.</TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x40</TD>
<TD width=20%>Starting address</TD>
<TD width=21%>Start of system address space</TD>
<TD width=20%>0 </TD>
<TD width=28%>The current thread attempted to free kernel pool at user-mode address.</TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x41</TD>
<TD width=20%>Starting address</TD>
<TD width=21%>Physical page frame</TD>
<TD width=20%>Highest physical page frame</TD>
<TD width=28%>The current thread attempted to free a nonallocated nonpaged pool address.</TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x42<BR>
or<BR>
0x43</TD>
<TD width=20%>Address being freed</TD>
<TD width=21%>0 </TD>
<TD width=20%>0 </TD>
<TD width=28%>The current thread attempted to free a virtual address that was never in any pool.</TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x50</TD>
<TD width=20%>Starting address</TD>
<TD width=21%>Start offset in pages from beginning of paged pool</TD>
<TD width=20%>Size of paged pool, in bytes</TD>
<TD width=28%>The current thread attempted to free a nonallocated paged pool address.</TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x60</TD>
<TD width=20%>Starting address </TD>
<TD width=21%>0 </TD>
<TD width=20%>0 </TD>
<TD width=28%>The current thread attempted to free an invalid contiguous memory address.
<P>(The caller of <A HREF="JavaScript:hhobj_1.Click()"><B>MmFreeContiguousMemory</B></A> s passing a bad pointer.) </P>
</TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x99</TD>
<TD width=20%>Address being freed</TD>
<TD width=21%>0 </TD>
<TD width=20%>0 </TD>
<TD width=28%>The current thread attempted to free pool with an invalid address.
<P>(This code can also indicate corruption in pool header.)</P>
</TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x9A</TD>
<TD width=20%>Pool type</TD>
<TD width=21%>Number of bytes requested</TD>
<TD width=20%>Pool tag</TD>
<TD width=28%>The current thread marked an allocation request MUST_SUCCEED.
<P>(This pool type is no longer supported.)</P>
</TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x9B</TD>
<TD width=20%>Pool type</TD>
<TD width=21%>Number of bytes requested</TD>
<TD width=20%>Caller's address</TD>
<TD width=28%>The current thread attempted to allocate a pool with a tag of zero.
<P>(This would be untrackable, and possibly corrupt the existing tag tables.)</P>
</TD>
</TR>

<TR VALIGN="top">
<TD width=11%>0x9C</TD>
<TD width=20%>Pool type</TD>
<TD width=21%>Number of bytes requested</TD>
<TD width=20%>Caller's address</TD>
<TD width=28%>The current thread attempted to allocate a pool with a tag of "BIG".
<P>(This would be untrackable, and possibly corrupt the existing tag tables.)</P>
</TD>
</TR>
</TABLE><BR>

<P>The _POOL_TYPE codes are enumerated in <I>ntddk.h</I>. In particular, zero indicates nonpaged pool and one indicates paged pool.</P>

<H4>Cause</H4>

<P>A bad pool request has been made by the current thread.</P>

<H4>Resolving the Problem</H4>

<P>Activate Driver Verifier to obtain more information about these errors. For details, see <A HREF="dv_7g8j.htm">Driver Verifier</A>.  </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Bug%20Check%200xC2:%20%20BAD_POOL_CALLER"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
