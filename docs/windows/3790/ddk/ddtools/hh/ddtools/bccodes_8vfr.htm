<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Bug Check 0x9F:  DRIVER_POWER_STATE_FAILURE</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="bug check 0x9F">
<META NAME="MS-HKWD" CONTENT="DRIVER_POWER_STATE_FAILURE">
</HEAD>
<BODY TOPMARGIN="0">
<DIV STYLE="display:none;">
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_postartnextpowerirp_dr">
</OBJECT>
</DIV>


<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Driver&nbsp;Development&nbsp;Tools:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_bug_check_0x9f_bug"></A>Bug Check 0x9F: DRIVER_POWER_STATE_FAILURE</H1>

<P>The DRIVER_POWER_STATE_FAILURE bug check has a value of 0x0000009F. This indicates that the driver is in an inconsistent or invalid power state.</P>

<H4>Parameters</H4>

<P>The following parameters are displayed on the blue screen. Parameter&nbsp;1 indicates the type of violation.</P>

<TABLE>

<TR VALIGN="top">
<TH align=left width=14%>Parameter 1</TH>
<TH align=left width=18%>Parameter 2</TH>
<TH align=left width=17%>Parameter 3</TH>
<TH align=left width=18%>Parameter 4</TH>
<TH align=left width=33%>Cause of Error</TH>
</TR>

<TR VALIGN="top">
<TD width=14%>0x1</TD>
<TD width=18%>Target (optional)</TD>
<TD width=17%>Device object</TD>
<TD width=18%>Driver object</TD>
<TD width=33%>The device object being freed still has an outstanding power request which it has not completed.</TD>
</TR>

<TR VALIGN="top">
<TD width=14%>0x2</TD>
<TD width=18%>Target (optional)</TD>
<TD width=17%>Device object</TD>
<TD width=18%>Driver object</TD>
<TD width=33%>The device object completed the IRP for the system power state request, but failed to call <A HREF="JavaScript:hhobj_1.Click()"><B>PoStartNextPowerIrp</B></A>.</TD>
</TR>

<TR VALIGN="top">
<TD width=14%>0x3</TD>
<TD width=18%>Pointer to the target device object</TD>
<TD width=17%>Pointer to the device object</TD>
<TD width=18%>The IRP</TD>
<TD width=33%>The device driver did not properly set the IRP as "pending" or complete the IRP.  </TD>
</TR>

<TR VALIGN="top">
<TD width=14%>0x100</TD>
<TD width=18%>Pointer to the nonpaged device object</TD>
<TD width=17%>Pointer to the target device object</TD>
<TD width=18%>Pointer to the device object to notify</TD>
<TD width=33%>The device objects in the devnode were inconsistent in their use of DO_POWER_PAGABLE.  </TD>
</TR>

<TR VALIGN="top">
<TD width=14%>0x101</TD>
<TD width=18%>Child device object (FDO)</TD>
<TD width=17%>Child device object (PDO)</TD>
<TD width=18%>Parent device object</TD>
<TD width=33%>A parent device object has detected that a child device has not set the DO_POWER_PAGABLE bit.  </TD>
</TR>
</TABLE><BR>

<H4>Cause</H4>

<P>See the description of each code in the Parameters section for a description of the cause.</P>

<P>The errors that result in a Parameter&nbsp;1 value of 0x3, 0x100, or 0x101 only exist in Windows&nbsp;2000. In Windows&nbsp;XP and Windows Server&nbsp;2003, these errors have been superseded by Driver Verifier tests. For details, see <A HREF="dv_7g8j.htm">Driver Verifier</A>.  </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Bug%20Check%200x9F:%20%20DRIVER_POWER_STATE_FAILURE"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
