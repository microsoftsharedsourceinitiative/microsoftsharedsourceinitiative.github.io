<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Bug Check 0xC1:  SPECIAL_POOL_DETECTED_MEMORY_CORRUPTION</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="bug check 0xC1">
<META NAME="MS-HKWD" CONTENT="SPECIAL_POOL_DETECTED_MEMORY_CORRUPTION">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Driver&nbsp;Development&nbsp;Tools:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_bug_check_0xc1_bug"></A>Bug Check 0xC1: SPECIAL_POOL_DETECTED_MEMORY_CORRUPTION</H1>

<P>The SPECIAL_POOL_DETECTED_MEMORY_CORRUPTION bug check has a value of 0x000000C1. This indicates that the driver wrote to an invalid section of the special memory pool.</P>

<H4>Parameters</H4>

<P>The following parameters are displayed on the blue screen. Parameter&nbsp;4 indicates the type of violation.</P>

<TABLE>

<TR VALIGN="top">
<TH align=left width=18%>Parameter 1</TH>
<TH align=left width=18%>Parameter 2</TH>
<TH align=left width=20%>Parameter 3</TH>
<TH align=left width=13%>Parameter 4</TH>
<TH align=left width=31%>Cause of Error</TH>
</TR>

<TR VALIGN="top">
<TD width=18%>Address that the driver tried to free</TD>
<TD width=18%>Reserved    </TD>
<TD width=20%>0 </TD>
<TD width=13%>0x20</TD>
<TD width=31%>A driver attempted to free pool which was not allocated.</TD>
</TR>

<TR VALIGN="top">
<TD width=18%>Address that the driver tried to free</TD>
<TD width=18%>Bytes requested</TD>
<TD width=20%>Bytes calculated (actually given to the caller)</TD>
<TD width=13%>0x21,<BR>
0x22</TD>
<TD width=31%>A driver attempted to free a bad address.   </TD>
</TR>

<TR VALIGN="top">
<TD width=18%>Address that the driver tried to free</TD>
<TD width=18%>Address where bits are corrupted</TD>
<TD width=20%>Reserved    </TD>
<TD width=13%>0x23</TD>
<TD width=31%>A driver freed an address while nearby bytes on same page have been corrupted.</TD>
</TR>

<TR VALIGN="top">
<TD width=18%>Address that  the driver tried to free</TD>
<TD width=18%>Address where bits are corrupted</TD>
<TD width=20%>Reserved    </TD>
<TD width=13%>0x24</TD>
<TD width=31%>A driver freed an address when bytes after end of allocation have been overwritten.</TD>
</TR>

<TR VALIGN="top">
<TD width=18%>Current IRQL</TD>
<TD width=18%>Pool type</TD>
<TD width=20%>Number of bytes</TD>
<TD width=13%>0x30</TD>
<TD width=31%>A driver attempted to allocate pool at incorrect IRQL.</TD>
</TR>

<TR VALIGN="top">
<TD width=18%>Current IRQL</TD>
<TD width=18%>Pool type</TD>
<TD width=20%>Address that the driver tried to free</TD>
<TD width=13%>0x31</TD>
<TD width=31%>A driver attempted to free pool at incorrect IRQL.</TD>
</TR>
</TABLE><BR>

<P>The _POOL_TYPE codes are enumerated in <I>ntddk.h</I>. In particular, zero indicates nonpaged pool and one indicates paged pool.</P>

<H4>Cause</H4>

<P>A driver has written to an invalid section of the special memory pool.</P>

<H4>Resolving the Problem</H4>

<P>Obtain a backtrace of the current thread. This backtrace will usually reveal the source of the error.</P>

<P>For information about the special pool, see <A HREF="dv_3i7n.htm">Special Memory Pool</A>.  </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Bug%20Check%200xC1:%20%20SPECIAL_POOL_DETECTED_MEMORY_CORRUPTION"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
