<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>MAKEDLL</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="MAKEDLL build macro">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Driver&nbsp;Development&nbsp;Tools:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_makedll_tools"></A>MAKEDLL</H1>

<P>The MAKEDLL macro controls whether any actual linking occurs.</P>

<P>Generally, the build process is a two-pass build. In the first pass, the Build utility compiles all the source files, and creates import libraries and component libraries. In the second pass, it links everything against those libraries. The default, which directs the Build utility to make the second pass, is as follows:</P>

<PRE>MAKEDLL=1
</PRE>

<P>Typically, you do not set this value. You might do a test in your make file to instruct the Build utility::</P>

<PRE>IF MAKEDLL=1
<I>do things that you want to do on the second pass of the build</I> 
</PRE>

<P>A more frequent use of this macro is to run NMAKE from the command line to run the compile and to link without running the Build utility: </P>

<PRE>nmake MAKEDLL=1
</PRE>

<P>The Build utility will complete the compile operation and the link in one step without running the Build utility. This works because the Build utility is only required to determine the dependencies and call NMAKE. This method works when:

<UL>
	<LI>You know the dependencies</LI>

	<LI>The source file has changed and you do not care about the header file dependency generation</LI>

	<LI>You are in a leaf node subdirectory</LI>
</UL>

<H4>See Also</H4>

<P><A HREF="build_ref_2k4z.htm">NOLINK</A> </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: MAKEDLL"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
