<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>STI_DEVICE_STATUS</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="STI_DEVICE_STATUS">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Still&nbsp;Image&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_sti_device_status_si"></A>STI_DEVICE_STATUS</H1>

<P>The STI_DEVICE_STATUS structure is used as a parameter to the <A HREF="stifnc_9jft.htm"><B>IStiDevice::GetStatus</B></A> and <A HREF="stifnc_1qcp.htm"><B>IStiUSD::GetStatus</B></A> methods.</P>

<PRE class=syntax>typedef struct _STI_DEVICE_STATUS {
  DWORD  dwSize;
  DWORD  StatusMask;
  DWORD  dwOnlineState;
  DWORD  dwHardwareStatusCode;
  DWORD  dwEventHandlingState;
  DWORD  dwPollingInterval;
} STI_DEVICE_STATUS, *PSTI_DEVICE_STATUS;</PRE>

<H4>Members</H4>

<DL>
<DT><B>dwSize</B></DT>

<DD>Caller-supplied size, in bytes, of the STI_DEVICE_STATUS structure.</DD>

<DT><B>StatusMask</B></DT>

<DD>One or more caller-supplied bit flags, indicating the type of status information being requested. The following flags are defined:

<TABLE>

<TR VALIGN="top">
<TH align=left width=57%>Flag</TH>
<TH align=left width=43%>Definition</TH>
</TR>

<TR VALIGN="top">
<TD width=57%>STI_DEVSTATUS_EVENTS_STATE</TD>
<TD width=43%>The driver should fill in the <B>dwEventHandlingState</B> member.</TD>
</TR>

<TR VALIGN="top">
<TD width=57%>STI_DEVSTATUS_ONLINE_STATE </TD>
<TD width=43%>The driver should fill in the <B>dwOnlineState</B> member.</TD>
</TR>
</TABLE><BR>

</DD>

<DT><B>dwOnlineState</B></DT>

<DD>Bit flags indicating the device's current status. Flags are listed in the following table, and defined in <I>sti.h</I>.

<P>Currently use of STI_ONLINESTATE_OPERATIONAL is required, while use of all other flags is optional. (Currently, STI_ONLINESTATE_OPERATIONAL is the only flag that is checked by the Still Image server.)


<TABLE>

<TR VALIGN="top">
<TH align=left width=23%>Flag</TH>
<TH align=left width=77%>Definition</TH>
</TR>

<TR VALIGN="top">
<TD colspan=2 width=100%>STI_ONLINESTATE_BUSY</TD>
</TR>

<TR VALIGN="top">
<TD width=23%>&nbsp;</TD>
<TD width=77%>The device is busy.</TD>
</TR>

<TR VALIGN="top">
<TD colspan=2 width=100%>STI_ONLINESTATE_ERROR</TD>
</TR>

<TR VALIGN="top">
<TD width=23%>&nbsp;</TD>
<TD width=77%>The device has reported an error.</TD>
</TR>

<TR VALIGN="top">
<TD colspan=2 width=100%>STI_ONLINESTATE_INITIALIZING</TD>
</TR>

<TR VALIGN="top">
<TD width=23%>&nbsp;</TD>
<TD width=77%>The device is being initialized.</TD>
</TR>

<TR VALIGN="top">
<TD colspan=2 width=100%>STI_ONLINESTATE_IO_ACTIVE</TD>
</TR>

<TR VALIGN="top">
<TD width=23%>&nbsp;</TD>
<TD width=77%>The device is active but not accepting commands.</TD>
</TR>

<TR VALIGN="top">
<TD colspan=2 width=100%>STI_ONLINESTATE_OFFLINE</TD>
</TR>

<TR VALIGN="top">
<TD width=23%>&nbsp;</TD>
<TD width=77%>The device is off-line.</TD>
</TR>

<TR VALIGN="top">
<TD colspan=2 width=100%>STI_ONLINESTATE_OPERATIONAL</TD>
</TR>

<TR VALIGN="top">
<TD width=23%>&nbsp;</TD>
<TD width=77%>The device is online and ready. If set, Control Panel indicates the device is ready. Otherwise, it indicates the device is off-line.</TD>
</TR>

<TR VALIGN="top">
<TD colspan=2 width=100%>STI_ONLINESTATE_PAPER_JAM</TD>
</TR>

<TR VALIGN="top">
<TD width=23%>&nbsp;</TD>
<TD width=77%>The device has reported a paper jam.</TD>
</TR>

<TR VALIGN="top">
<TD colspan=2 width=100%>STI_ONLINESTATE_PAPER_PROBLEM</TD>
</TR>

<TR VALIGN="top">
<TD width=23%>&nbsp;</TD>
<TD width=77%>The device has reported an unspecified paper problem.</TD>
</TR>

<TR VALIGN="top">
<TD colspan=2 width=100%>STI_ONLINESTATE_PAUSED</TD>
</TR>

<TR VALIGN="top">
<TD width=23%>&nbsp;</TD>
<TD width=77%>The device is paused.</TD>
</TR>

<TR VALIGN="top">
<TD colspan=2 width=100%>STI_ONLINESTATE_PENDING</TD>
</TR>

<TR VALIGN="top">
<TD width=23%>&nbsp;</TD>
<TD width=77%>I/O operations are pending.</TD>
</TR>

<TR VALIGN="top">
<TD colspan=2 width=100%>STI_ONLINESTATE_POWER_SAVE</TD>
</TR>

<TR VALIGN="top">
<TD width=23%>&nbsp;</TD>
<TD width=77%>The device is in power save mode.</TD>
</TR>

<TR VALIGN="top">
<TD colspan=2 width=100%>STI_ONLINESTATE_TRANSFERRING</TD>
</TR>

<TR VALIGN="top">
<TD width=23%>&nbsp;</TD>
<TD width=77%>The device is transferring data.</TD>
</TR>

<TR VALIGN="top">
<TD colspan=2 width=100%>STI_ONLINESTATE_USER_INTERVENTION</TD>
</TR>

<TR VALIGN="top">
<TD width=23%>&nbsp;</TD>
<TD width=77%>The device requires user intervention.</TD>
</TR>

<TR VALIGN="top">
<TD colspan=2 width=100%>STI_ONLINESTATE_WARMING_UP</TD>
</TR>

<TR VALIGN="top">
<TD width=23%>&nbsp;</TD>
<TD width=77%>The device is warming up.</TD>
</TR>
</TABLE><BR>

</DD>

<DT><B>dwHardwareStatusCode</B></DT>

<DD>Optional device-specific, vendor-defined value.</DD>

<DT><B>dwEventHandlingState</B></DT>

<DD>Contains bit flags indicating event status. The following flags are defined in <I>sti.h</I>.

<TABLE>

<TR VALIGN="top">
<TH align=left width=23%>Flag</TH>
<TH align=left width=77%>Definition</TH>
</TR>

<TR VALIGN="top">
<TD colspan=2 width=100%>STI_EVENTHANDLING_ENABLED</TD>
</TR>

<TR VALIGN="top">
<TD width=23%>&nbsp;</TD>
<TD width=77%><I>Not used</I>.</TD>
</TR>

<TR VALIGN="top">
<TD colspan=2 width=100%>STI_EVENTHANDLING_PENDING</TD>
</TR>

<TR VALIGN="top">
<TD width=23%>&nbsp;</TD>
<TD width=77%>A device event has occurred.</TD>
</TR>

<TR VALIGN="top">
<TD colspan=2 width=100%>STI_EVENTHANDLING_POLLING</TD>
</TR>

<TR VALIGN="top">
<TD width=23%>&nbsp;</TD>
<TD width=77%><I>Not used</I>.</TD>
</TR>
</TABLE><BR>

</DD>

<DT><B>dwPollingInterval</B></DT>

<DD>Time value, in milliseconds, indicating how often the device should be polled, if polling is required.
</DD>
</DL>

<H4>Headers</H4>

<P>Declared in <I>sti.h</I>. Include <I>sti.h</I>.</P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: STI_DEVICE_STATUS"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
