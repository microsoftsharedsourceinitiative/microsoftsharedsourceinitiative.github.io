<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>NdisRecalculatePacketCounts</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="NdisRecalculatePacketCounts">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Network&nbsp;Devices&nbsp;and&nbsp;Protocols:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_ndisrecalculatepacketcounts_nr"></A>NdisRecalculatePacketCounts</H1>

<P><B>NdisRecalculatePacketCounts</B> resets the valid counts for a given packet. </P>

<PRE class=syntax><B>VOID
  NdisRecalculatePacketCounts(</B>
    <B>IN OUT PNDIS_PACKET</B>  <I>Packet</I>
    <B>);</B></PRE>

<H4>Parameters</H4>

<DL>
<DT><I>Packet</I></DT>

<DD>Pointer to the packet descriptor.
</DD>
</DL>

<H4>Headers</H4>

<P>Declared in <I>Ndis.h</I>. Include <I>Ndis.h</I>.</P>

<H4>Comments</H4>

<P>If a driver explicitly modifies a buffer descriptor chain for a packet descriptor, that driver should call <B>NdisRecalculatePacketCounts</B> with the modified packet. In general, any NDIS driver should avoid modifying buffer descriptor chains that it sets up, and any driver must not modify chains set up by other drivers. </P>

<P>This call resets the valid counts for the packet to FALSE, thereby forcing <A HREF="103ndisx_4ooi.htm"><B>NdisQueryPacket</B></A> to recalculate the buffer count for the modified packet if it is called subsequently with that packet. </P>

<P>Callers of <B>NdisRecalculatePacketCounts</B> can run at any IRQL. </P>

<H4>See Also</H4>

<P><A HREF="105nstru_6jn6.htm">NDIS_PACKET</A>, <A HREF="103ndisx_4ooi.htm"><B>NdisQueryPacket</B></A>, <A HREF="103ndisx_87hu.htm"><B>NdisReinitializePacket</B></A> </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: NdisRecalculatePacketCounts"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
