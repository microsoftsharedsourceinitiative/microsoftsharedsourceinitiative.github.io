<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>REMOTE_NDIS_KEEPALIVE_MSG</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="REMOTE_NDIS_KEEPALIVE_MSG">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Network&nbsp;Devices&nbsp;and&nbsp;Protocols:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_remote_ndis_keepalive_msg_nr"></A>REMOTE_NDIS_KEEPALIVE_MSG</H1>

<P>The host sends this message periodically when there has been no other control or data traffic from the device to the host for the bus defined <I>KeepAliveTimeoutPeriod</I>. This message is sent by the host at least every RNDIS_KEEPALIVE_TIMEOUT seconds, in the absence of other message traffic, to detect the state of the remote device. The remote device may use the same message in the reverse direction, but it is not required.</P>

<TABLE>

<TR VALIGN="top">
<TH align=left width=12%>Offset</TH>
<TH align=left width=10%>Size</TH>
<TH align=left width=28%>Field</TH>
<TH align=left width=50%>Description</TH>
</TR>

<TR VALIGN="top">
<TD width=12%>0</TD>
<TD width=10%>4</TD>
<TD width=28%>MessageType</TD>
<TD width=50%>Specifies the type of message being sent. Set to 0x00000008.</TD>
</TR>

<TR VALIGN="top">
<TD width=12%>4</TD>
<TD width=10%>4</TD>
<TD width=28%>MessageLength</TD>
<TD width=50%>Specifies, in bytes, the total length of this message, from the beginning of the message.</TD>
</TR>

<TR VALIGN="top">
<TD width=12%>8</TD>
<TD width=10%>4</TD>
<TD width=28%>RequestId</TD>
<TD width=50%>Specifies the Remote NDIS message ID value. This value is used to match messages sent by the host with device responses.</TD>
</TR>
</TABLE><BR>

<H4>Headers</H4>

<P>Defined in <I>rndis.h</I>. Include <I>rndis.h</I>.</P>

<H4>Comments</H4>

<P>The host will not send a REMOTE_NDIS_KEEPALIVE_MSG message until RNDIS_KEEPALIVE_TIMEOUT seconds have elapsed since the last message received from the remote device. This avoids unnecessary exchange of keep-alive messages when the communication channel is active.</P>

<P>The device can optionally send this message to the host as well. For example, the device may use this message to trigger a response from the host for the purpose of computing round-trip delay time. If implemented, the device must send REMOTE_NDIS_KEEPALIVE_MSG through the control channel and only when the device is in the rndis-initialized or rndis-data-initialized state.</P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: REMOTE_NDIS_KEEPALIVE_MSG"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
