<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>NdisFreePacket</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="NdisFreePacket">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Network&nbsp;Devices&nbsp;and&nbsp;Protocols:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_ndisfreepacket_nr"></A>NdisFreePacket</H1>

<P><B>NdisFreePacket</B> releases a packet that was allocated from packet pool with <A HREF="103ndisx_7d6a.htm"><B>NdisAllocatePacket</B></A> and returns it to the free list. </P>

<PRE class=syntax><B>VOID
  NdisFreePacket(</B>
    <B>IN PNDIS_PACKET</B>  <I>Packet</I>
    <B>);</B></PRE>

<H4>Parameters</H4>

<DL>
<DT><I>Packet</I></DT>

<DD>Pointer to the packet descriptor returned by <B>NdisAllocatePacket</B> or <A HREF="103ndisx_7otu.htm"><B>NdisDprAllocatePacket</B></A>. 
</DD>
</DL>

<H4>Headers</H4>

<P>Declared in <I>Ndis.h</I>. Include <I>Ndis.h</I>.</P>

<H4>Comments</H4>

<P>Before calling <B>NdisFreePacket</B>, the driver either must call <A HREF="103ndisx_044y.htm"><B>NdisFreeBuffer</B></A> as many times as necessary to release all buffer descriptors chained to the packet, or it must call an <B>NdisUnchainBufferAt</B><I>Xxx</I> function as many times as necessary to save all pointers to buffer descriptors. Otherwise, memory associated with buffer descriptors in the chain remains unusable by the driver and by NDIS until the system is rebooted.</P>

<P>The driver must release any spin lock it is holding before calling <B>NdisFreePacket</B>.</P>

<P>Callers of <B>NdisFreePacket</B> run at IRQL &lt;= DISPATCH_LEVEL. </P>

<H4>See Also</H4>

<P><A HREF="103ndisx_7d6a.htm"><B>NdisAllocatePacket</B></A>, <A HREF="103ndisx_7otu.htm"><B>NdisDprAllocatePacket</B></A>, <A HREF="103ndisx_044y.htm"><B>NdisFreeBuffer</B></A>, <A HREF="103ndisx_7uya.htm"><B>NdisReleaseSpinLock</B></A>, <A HREF="103ndisx_9vci.htm"><B>NdisUnchainBufferAtBack</B></A>, <A HREF="103ndisx_30mq.htm"><B>NdisUnchainBufferAtFront</B></A> </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: NdisFreePacket"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
