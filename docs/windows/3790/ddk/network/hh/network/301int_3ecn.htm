<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Sending Media-Specific OOB Information</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Sending Media-Specific OOB Information">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Network&nbsp;Devices&nbsp;and&nbsp;Protocols:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H3><A NAME="ddk_sending_media_specific_oob_information_ng"></A>Sending Media-Specific OOB Information</H3>

<P>NDIS per-packet information includes items such as checksum, security, and priority information. Intermediate drivers should use the <A HREF="103ndisx_0bjm.htm">NDIS_PER_PACKET_INFO_FROM_PACKET</A> macro to set per-packet information. For more information about per-packet information, see <A HREF="209offl_4kfb.htm">Accessing Per-Packet Information</A>.</P>

<P>Some media-specific information can be passed by an older intermediate driver in the out-of-band (OOB) block associated with each <A HREF="105nstru_6jn6.htm">NDIS_PACKET</A> descriptor. The OOB block is defined in the <A HREF="105nstru_1vqq.htm"><B>NDIS_PACKET_OOB_DATA</B></A>  data structure.If the intermediate driver knows that the underlying miniport driver to which it is sending packets supports OOB data, it can optionally set certain OOB structure members. For example, an intermediate driver can:

<UL>
	<LI>Request that the packet be sent at a specific time by writing the <B>TimeToSend</B> member using the NDIS_SET_PACKET_TIME_TO_SEND macro. This macro passes the requested time in system time units. The driver can call <A HREF="103ndisx_6m42.htm"><B>NdisGetCurrentSystemTime</B></A> in order to obtain the current system time with which to calculate a requested send time.
<P class=note><B>Note</B>&nbsp;&nbsp;Most minport drivers do not support this feature.
</LI>

	<LI>Pass media-specific information in a caller-allocated buffer at <B>MediaSpecificInformation</B> using the NDIS_PACKET_SET_MEDIA_SPECIFIC_INFO macro.</LI>
</UL>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Sending%20Media-Specific%20OOB%20Information"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
