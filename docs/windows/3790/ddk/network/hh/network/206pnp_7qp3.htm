<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>NDIS Processing of Plug and Play Events</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="NDIS Processing of Plug and Play Events">
</HEAD>
<BODY TOPMARGIN="0">
<DIV STYLE="display:none;">
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_function_drivers_kg">
</OBJECT>
<OBJECT ID="hhobj_2" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_ioattachdevice_kr">
</OBJECT>
</DIV>


<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Network&nbsp;Devices&nbsp;and&nbsp;Protocols:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_ndis_processing_of_plug_and_play_events_ng"></A>NDIS Processing of Plug and Play Events</H1>

<P>The <A HREF="JavaScript:hhobj_1.Click()">function driver</A> for a NIC is implemented as an NDIS/miniport driver pair. When a NIC is added to the system, NDIS creates the functional device object (FDO) for the NIC and subsequently handles all IRPs, including Plug and Play (PnP) and power management (PM) IRPs, that are passed to this FDO. The miniport driver for the NIC provides the operational interface for the NIC.</P>

<P>If necessary, a miniport driver can create an additional standalone device object by calling <A HREF="103ndisx_9qeq.htm"><B>NdisMRegisterDevice</B></A>. (The miniport driver should not attempt to stack the device object over the physical device object by calling <A HREF="JavaScript:hhobj_2.Click()"><B>IoAttachDevice</B></A>.) The miniport driver is responsible for processing all IRPs that it receives for such a device object. NDIS processes all Plug and Play and power management IRPs sent to such a device object.</P>

<P>The following sections describe how NDIS processes PnP IRPs on behalf of a NIC:</P>

<P class=indent1><A HREF="206pnp_3ejr.htm">Adding a NIC</A></P>

<P class=indent1><A HREF="206pnp_9a3r.htm">Starting a NIC</A></P>

<P class=indent1><A HREF="206pnp_015z.htm">Stopping a NIC</A></P>

<P class=indent1><A HREF="206pnp_9nmv.htm">Removing a NIC</A></P>

<P class=indent1><A HREF="206pnp_1z3b.htm">Processing the Surprise Removal of a NIC</A></P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: NDIS%20Processing%20of%20Plug%20and%20Play%20Events"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
