<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Connection-Oriented Timing Features</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Connection-Oriented Timing Features">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Network&nbsp;Devices&nbsp;and&nbsp;Protocols:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_connection_oriented_timing_features_ng"></A>Connection-Oriented Timing Features</H1>

<P>Connection-oriented NDIS supports using a NIC's local time for scheduling the transmission of packets and for time-stamping send and receive packets. </P>

<P class=note><B>Note</B>&nbsp;&nbsp;These connection-oriented timing features are optional. These features are not supported by all CoNDIS NICs.</P>

<P>A connection-oriented protocol can call <A HREF="103ndisx_8xde.htm"><B>NdisCoRequest</B></A> to query the local timing capabilities of a connection-oriented miniport driver or an MCM driver with <A HREF="211cooid_37n6.htm">OID_GEN_CO_GET_TIME_CAPS</A>. In response to such a query, the miniport driver or MCM driver returns the following information:

<UL>
	<LI>Whether there is a readable clock on the NIC</LI>

	<LI>Whether the NIC derives its time from the network connection</LI>

	<LI>The precision of the local clock</LI>

	<LI>Whether the NIC can timestamp received packets with its local time</LI>

	<LI>Whether the NIC can schedule a send packet for transmission according to its local time</LI>

	<LI>Whether the NIC can timestamp transmitted packets with its local time</LI>
</UL>

<P>To obtain a NIC's local time, a connection-oriented protocol can call <B>NdisCoRequest</B> to query a connection-oriented miniport driver or MCM driver with <A HREF="211cooid_9che.htm">OID_GEN_CO_GET_NETCARD_TIME</A>. The connection-oriented miniport driver or MCM driver synchronously returns its local time, which the connection-oriented protocol can then use to schedule the transmission of packets.</P>

<P>Timing information for a send or receive packet is contained in the packet's out-of-band (OOB) data. For more information, see <A HREF="105nstru_1vqq.htm">NDIS_PACKET_OOB_DATA</A>.</P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Connection-Oriented%20Timing%20Features"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
