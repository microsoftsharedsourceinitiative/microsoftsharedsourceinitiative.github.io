<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Balancing a Miniport Driver's Workload</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Balancing a Miniport Driver's Workload">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Network&nbsp;Devices&nbsp;and&nbsp;Protocols:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H2><A NAME="ddk_balancing_a_miniport_driver_s_workload_ng"></A>Balancing a Miniport Driver's Workload</H2>

<P>A miniport driver that previously initialized multiple miniport instances and made those miniport instances members of a bundle can use those miniport instances to balance the driver's workload. </P>

<P>NDIS only exposes the primary miniport instance to transports. If transports request to send packets to a miniport driver or if they request to set or query information in a miniport driver, NDIS will pass these requests to the primary miniport instance. To balance the miniport driver's workload, the driver should be implemented to offload some of these requests to secondary miniport instances. If the miniport driver requires secondary miniport instances to perform tasks that are associated with requests, the driver can reroute those requests to the secondary miniport instances. The miniport driver should use the handle to the primary miniport instance to subsequently complete those requests, regardless of whether the primary or a secondary miniport instance actually executes the requests. </P>

<P>However, if NDIS sends a request to a secondary miniport instance, that secondary miniport instance should use the handle to itself to complete the request. </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Balancing%20a%20Miniport%20Driver's%20Workload"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
