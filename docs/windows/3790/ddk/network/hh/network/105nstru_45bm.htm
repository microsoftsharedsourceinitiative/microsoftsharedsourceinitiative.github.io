<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>NDIS_PACKET_8021Q_INFO</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="NDIS_PACKET_8021Q_INFO">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Network&nbsp;Devices&nbsp;and&nbsp;Protocols:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_ndis_packet_8021q_info_nr"></A>NDIS_PACKET_8021Q_INFO</H1>

<P>The NDIS_PACKET_8021Q_INFO structure specifies packet information.</P>

<PRE class=syntax>typedef struct _NDIS_PACKET_8021Q_INFO {
    union {
        struct {
            UINT32  UserPriority:3;
            UINT32  CanonicalFormatId:1;
            UINT32  VlanId:12;
            UINT32  Reserved:16;
        } TagHeader;
        PVOID  Value;
    };
} NDIS_PACKET_8021Q_INFO, *PNDIS_PACKET_8021Q_INFO;</PRE>

<H4>Members</H4>

<DL>
<DT><B>TagHeader</B></DT>

<DD>Specifies a member in the union contained in NDIS_PACKET_8021Q_INFO that can hold information about a packet in a structure with the following members:

<DL>
<DT><B>UserPriority</B></DT>

<DD>Specifies 802.1p priority information that is used to establish packet priority in shared-media 802 networks. The bits in this member specify an 802.1p priority value. </DD>

<DT><B>CanonicalFormatId</B></DT>

<DD>This member should be set to zero, which indicates that all MAC address information present in a packet is in canonical format (that is, simplest form). </DD>

<DT><B>VlanId</B></DT>

<DD>Identifies the VLAN to which a packet belongs. Outgoing packets are marked with the VLAN identifier.</DD>

<DT><B>Reserved</B></DT>

<DD>This member is reserved and should be set to zero.</DD>
</DL>
</DD>

<DT><B>Value</B></DT>

<DD>Specifies a member in the union contained in NDIS_PACKET_8021Q_INFO that can hold information about a packet in a buffer.
</DD>
</DL>

<H4>Headers</H4>

<P>Defined in <I>Ndis.h</I>. Include <I>Ndis.h</I>.</P>

<H4>Comments</H4>

<P>When a miniport driver calls the <A HREF="103ndisx_0bjm.htm">NDIS_PER_PACKET_INFO_FROM_PACKET</A> macro to retrieve or insert 802.1Q information in a packet descriptor, the macro returns this information in the <B>Value</B> member of the union contained in NDIS_PACKET_8021Q_INFO. The miniport driver uses the <B>TagHeader</B> member of the union to modify specific types of information, such as 802.1p priority and VLAN identifier information. For more information, see <A HREF="204_802p_3ihz.htm">Packet Support for 802.1Q</A>. </P>

<H4>See Also</H4>

<P><A HREF="103ndisx_6pyq.htm">NDIS_PACKET_EXTENSION_FROM_PACKET</A>, <A HREF="103ndisx_0bjm.htm">NDIS_PER_PACKET_INFO_FROM_PACKET</A> </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: NDIS_PACKET_8021Q_INFO"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
