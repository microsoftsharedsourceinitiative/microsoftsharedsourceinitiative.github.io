<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Creating a Proxy Driver for a SAN Service Provider</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Creating a Proxy Driver for a SAN Service Provider">
</HEAD>
<BODY TOPMARGIN="0">
<DIV STYLE="display:none;">
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_kernel_mode_driver_components_kg">
</OBJECT>
</DIV>


<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Network&nbsp;Devices&nbsp;and&nbsp;Protocols:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_creating_a_proxy_driver_for_a_san_service_provider_ng"></A>Creating a Proxy Driver for a SAN Service Provider</H1>

<P>A proxy driver for a SAN service provider is a kernel-mode driver that performs tasks required by the Windows Sockets switch and the SAN service provider. Such tasks include managing memory and determining the IP addresses of network interface controllers (NICs) that are under the proxy driver's control. The proxy driver is not required to be a Windows Driver Model (WDM) driver. That is, it is not required to support Plug and Play or power management. For more information on developing a kernel-mode driver, see <A HREF="JavaScript:hhobj_1.Click()">Kernel-Mode Driver Components</A>. </P>

<P>Different vendors might use different underlying technologies to implement their SAN network interface controllers (NICs), therefore Windows Sockets Direct does not specify an interface between a SAN service provider and its proxy driver or between the proxy driver and a SAN transport. </P>

<P>A SAN NIC vendor must implement a transport interface that is suitable for its underlying technologies. A vendor can implement this interface in the SAN NIC, in a kernel-mode driver for the SAN NIC, or both. A SAN service provider maps this interface directly into a user-mode process’s address space. A vendor must ensure that all buffers passed across this interface are locked down and registered with the SAN NIC. </P>

<P>The following sections describe how to create a proxy driver for a SAN service provider DLL: </P>

<P class=indent1><A HREF="wsdp_8xk7.htm">Initializing and Unloading a SAN Proxy Driver</A> </P>

<P class=indent1><A HREF="wsdp_9lnr.htm">Allocating and Releasing Memory for a SAN Proxy Driver</A> </P>

<P class=indent1><A HREF="wsdp_4faf.htm">Securing and Releasing Ownership of Virtual Addresses</A></P>

<P class=indent1><A HREF="wsdp_2mw7.htm">Registering for SAN NIC Notifications</A> </P>

<P class=indent1><A HREF="wsdp_64tj.htm">Translating to a SAN Native Address</A> </P>

<P class=indent1><A HREF="wsdp_4q1z.htm">Implementing IOCTLs for a SAN service provider</A> </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Creating%20a%20Proxy%20Driver%20for%20a%20SAN%20Service%20Provider"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
