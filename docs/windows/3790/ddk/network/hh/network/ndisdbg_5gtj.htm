<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Setting Up NDIS Debug Tracing on Windows 98</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Setting Up NDIS Debug Tracing on Windows 98">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Network&nbsp;Devices&nbsp;and&nbsp;Protocols:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H2><A NAME="ddk_setting_up_ndis_debug_tracing_on_windows_98_ng"></A>Setting Up NDIS Debug Tracing on Windows 98</H2>

<P>You can use the Windows&nbsp;98 debugger (WDEB98/RTERM98) to modify the global debugging symbols for NDIS. The Windows&nbsp;98 debugger is available in the Windows&nbsp;98 DDK. The following sequence shows how to modify these global debugging symbols: </P>

<P class=proch><B><IMG SRC="../images/wedge.gif" ALT="" BORDER=0>To modify global debugging symbols for NDIS</B>

<OL>
	<LI>When you load the debugger, add the /B option to cause the debugger to break after VMM32 loads.
<P>At the break, you can load the global debugging symbols and set their values as shown in the following steps.
</LI>

	<LI>Load the global debugging symbols as shown in the following code snippet. These symbols must be on the debug console in the location specified in RTERM98’s Symbol Search Path (Settings/Options).
<PRE>kd&gt; wa ndis</PRE>
</LI>

	<LI>Set the <B>ndistraceimpt</B> flag as shown in the following code snippet:
<PRE>kd&gt; e ndistraceimpt 1 </PRE>
</LI>

	<LI>Set the <B>ndistraceall</B> flag as shown in the following code snippet:
<PRE>kd&gt; e ndistraceall 1 </PRE>
</LI>

	<LI>To obtain error-level debugging, enter the following value for the <B>ndisdebuglevel</B> symbol:
<PRE>kd&gt; e ndisdebuglevel 00 20 00 00 </PRE>
</LI>

	<LI>To obtain component-trace information for RECEIVE and SEND, enter the following value for the <B>ndisdebugsystems</B> symbol:
<PRE>kd&gt; e ndisdebugsystems 0C 00 00 00 </PRE>
</LI>

	<LI>All trace output is emitted to the debugger.</LI>
</OL>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Setting%20Up%20NDIS%20Debug%20Tracing%20on%20Windows%2098"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
