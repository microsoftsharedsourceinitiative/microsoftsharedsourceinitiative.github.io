<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Receiving Data in an Intermediate Driver</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Receiving Data in an Intermediate Driver">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Network&nbsp;Devices&nbsp;and&nbsp;Protocols:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H2><A NAME="ddk_receiving_data_in_an_intermediate_driver_ng"></A>Receiving Data in an Intermediate Driver</H2>

<P>Intermediate drivers receive data at their protocol lower edge in much the same way as protocol drivers. The following list summaries the basic requirements:

<UL>
	<LI>Intermediate driver protocols should provide both <A HREF="104tdlow_62k2.htm"><I>ProtocolReceive</I></A> and <A HREF="104tdlow_5i7n.htm"><I>ProtocolReceivePacket</I></A> functions when layered above connectionless miniports. </LI>

	<LI>For NDIS 5.1, intermediate drivers should use packet stacking.</LI>

	<LI>If an intermediate driver must create new packet descriptors, because it does not support packet stacking or to handle the case where stack locations are not available, it should also copy the OOB data.</LI>
</UL>

<P>For more information about managing received packets in intermediate drivers and packet-stacking, see <A HREF="301int_955z.htm">Intermediate Driver Packet Management</A>. For more information about receiving data in an NDIS protocol driver, see <A HREF="302pro_1dgn.htm">Receiving Data in a Protocol Driver</A>. </P>

<P>Additional information about receiving data in intermediate drivers is also provided in the following sections:</P>

<P class=indent1><A HREF="301int_1fqf.htm">Receiving Data in an Intermediate Driver with a Connectionless Lower Edge</A></P>

<P class=indent1><A HREF="301int_35k7.htm">Receiving Data in an Intermediate Driver with a Connection-Oriented Lower Edge</A></P>

<P class=indent1><A HREF="301int_7nxj.htm">Indicating Receive Packets to Higher Level Drivers</A></P>

<P class=indent1><A HREF="301int_2jfr.htm">Accessing Per-Packet Information from an Intermediate Driver</A></P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Receiving%20Data%20in%20an%20Intermediate%20Driver"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
