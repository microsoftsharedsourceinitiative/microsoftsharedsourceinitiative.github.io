<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>NdisIMCancelInitializeDeviceInstance</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="NdisIMCancelInitializeDeviceInstance">
</HEAD>
<BODY TOPMARGIN="0">
<DIV STYLE="display:none;">
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_unicode_string_kr">
</OBJECT>
<OBJECT ID="hhobj_2" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_ansi_string_kr">
</OBJECT>
<OBJECT ID="hhobj_3" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_unicode_string_kr">
</OBJECT>
</DIV>


<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Network&nbsp;Devices&nbsp;and&nbsp;Protocols:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_ndisimcancelinitializedeviceinstance_nr"></A>NdisIMCancelInitializeDeviceInstance</H1>

<P>The <B>NdisIMCancelInitializeDeviceInstance</B> function cancels a preceding call to <A HREF="103ndisx_3m2a.htm"><B>NdisIMInitializeDeviceInstance</B></A>.</P>

<PRE class=syntax><B>NDIS_STATUS 
  NdisIMCancelInitializeDeviceInstance(
    IN NDIS_HANDLE</B>  <I>DriverHandle</I><B>,</B>
    <B>IN PNDIS_STRING</B>  <I>DeviceInstance
    </I><B>);</B></PRE>

<H4>Parameters</H4>

<DL>
<DT><I>DriverHandle</I></DT>

<DD>Specifies the handle returned by <A HREF="103ndisx_0sj7.htm"><B>NdisIMRegisterLayeredMiniport</B></A>. </DD>

<DT><I>DeviceInstance</I></DT>

<DD>Pointer to an NDIS_STRING type that describes a caller-initialized counted string, in the system-default character set, naming the registry key in which the driver stores information about its virtual NIC and, possibly, binding-specific information. For Windows 2000 and later drivers, this string contains Unicode characters. That is, for Windows 2000 and later, NDIS defines the NDIS_STRING type as a <A HREF="JavaScript:hhobj_1.Click()">UNICODE_STRING</A> type. 
</DD>
</DL>

<H4>Return Values</H4>

<P><B>NdisIMCancelInitializeDeviceInstance</B> returns NDIS_STATUS_SUCCESS if it canceled the preceding call to <B>NdisIMInitializeDeviceInstance</B>. Otherwise, it returns NDIS_STATUS_FAILURE if there is no way to stop the initialization operation for the virtual NIC. </P>

<H4>Headers</H4>

<P>Declared in <I>Ndis.h</I>. Include <I>Ndis.h</I>.</P>

<H4>Comments</H4>

<P>An intermediate driver calls the <A HREF="103ndisx_3m2a.htm"><B>NdisIMInitializeDeviceInstance</B></A> or <B>NdisIMInitializeDeviceInstanceEx</B> function to initiate the initialization operation for its virtual NICs.Before NDIS calls the driver’s <A HREF="101mini_9jzm.htm"><I>MiniportInitialize</I></A> function, the driver can call <B>NdisIMCancelInitializeDeviceInstance</B> to cancel the initialization operation. For example, if an underlying driver that the intermediate driver requires for normal operation is removed, the intermediate driver can cancel the initialization for any virtual NICs that are associated with the removed driver.</P>

<P>Callers of <B>NdisIMCancelInitializeDeviceInstance</B> run at IRQL = PASSIVE_LEVEL. </P>

<H4>See Also</H4>

<P><A HREF="JavaScript:hhobj_2.Click()">ANSI_STRING</A>, <A HREF="101mini_9jzm.htm"><I>MiniportInitialize</I></A>, <A HREF="103ndisx_3m2a.htm"><B>NdisIMInitializeDeviceInstance</B></A>, <A HREF="103ndisx_0jn6.htm"><B>NdisIMInitializeDeviceInstanceEx</B></A>, <A HREF="103ndisx_0sj7.htm"><B>NdisIMRegisterLayeredMiniport</B></A>, <A HREF="JavaScript:hhobj_3.Click()">UNICODE_STRING</A> </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: NdisIMCancelInitializeDeviceInstance"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
