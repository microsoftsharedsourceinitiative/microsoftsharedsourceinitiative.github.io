<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Required Compiler and Assembler Features</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT></HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Kernel-Mode&nbsp;Driver&nbsp;Architecture:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H4><A NAME="ddk_required_compiler_and_assembler_features_kg"></A>Required Compiler and Assembler Features</H4>

<P>The following compiler and assembler features are required for the AMD 64-bit calling convention: </P>

<H4>Compiler</H4>

<P>The AMD64 compiler requires pointer decorations to specify that the pointer only requires 32 bits of storage when the compiler is in memory. When the compiler is used as an actual pointer to access data, its sign is extended to 64 bits before being used. This feature is required in the AMD64 compiler so the 64-bit system can be booted using the 32-bit x86 loader.</P>

<P>Another time when bits are extended is when a 32-bit value of zero (0x00000000) is passed to a vararg function. In these cases, the compiler extends this 32-bit value to a 64-bit value of zero.</P>

<H4>Assembler</H4>

<P>The AMD64 assembler must have the capability to declare and use exception handling along with epilog and prolog support.</P>

<P></P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Required%20Compiler%20and%20Assembler%20Features"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
