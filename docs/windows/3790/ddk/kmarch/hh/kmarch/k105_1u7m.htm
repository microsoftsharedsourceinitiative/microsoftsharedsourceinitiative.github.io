<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>KeQueryActiveProcessors</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="KeQueryActiveProcessors">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Kernel-Mode&nbsp;Driver&nbsp;Architecture:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_kequeryactiveprocessors_kr"></A>KeQueryActiveProcessors</H1>

<P>The <B>KeQueryActiveProcessors</B> routine returns a bitmap of the currently active processors.</P>

<PRE class=syntax><B>NTKERNELAPI
KAFFINITY
  KeQueryActiveProcessors (
    VOID
    );</B></PRE>

<H4>Parameters</H4>

<P>None</P>

<H4>Return Value</H4>

<P><B>KeQueryActiveProcessors</B> returns a <A HREF="k112_214i.htm">KAFFINITY</A> value representing the set of currently active processors.</P>

<H4>Headers</H4>

<P>Declared in <I>ntddk.h</I>. Include <I>ntddk.h</I>.</P>

<H4>Comments</H4>

<P>This routine is not available on Windows 98/Me.</P>

<P>Callers cannot assume that <B>KeQueryActiveProcessors</B> maps processors to bits consecutively, or that the routine consistently uses the same mapping each time it is called. The only valid use for the return value is to determine the number of active processors by counting the number of bits that are set.</P>

<P>Callers of this routine must be running at IRQL&nbsp;&lt; DISPATCH_LEVEL.</P>

<H4>See Also</H4>

<P><A HREF="k112_214i.htm">KAFFINITY</A> </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: KeQueryActiveProcessors"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
