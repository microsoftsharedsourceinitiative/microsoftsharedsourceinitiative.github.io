<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>IoCreateUnprotectedSymbolicLink</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="IoCreateUnprotectedSymbolicLink">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Kernel-Mode&nbsp;Driver&nbsp;Architecture:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_iocreateunprotectedsymboliclink_kr"></A>IoCreateUnprotectedSymbolicLink</H1>

<P>The <B>IoCreateUnprotectedSymbolicLink</B> routine sets up an unprotected symbolic link between a device object name and a corresponding Win32®-visible name.</P>

<PRE class=syntax><B>NTSTATUS 
</B>  <B>IoCreateUnprotectedSymbolicLink(</B>
<B>    IN PUNICODE_STRING</B>  <I>SymbolicLinkName</I><B>,</B>
<B>    IN PUNICODE_STRING</B>  <I>DeviceName</I>
<B>    );</B></PRE>

<H4>Parameters</H4>

<DL>
<DT><I>SymbolicLinkName</I></DT>

<DD>Supplies the symbolic link name as a Unicode string.</DD>

<DT><I>DeviceName</I></DT>

<DD>Supplies the name of the device object to which the symbolic link name refers.
</DD>
</DL>

<H4>Return Value</H4>

<P><B>IoCreateUnprotectedSymbolicLink</B> returns the final status of the operation.</P>

<H4>Headers</H4>

<P>Declared in <I>wdm.h</I> and <I>ntddk.h</I>. Include <I>wdm.h</I> or <I>ntddk.h</I>. </P>

<H4>Comments</H4>

<P>WDM drivers do not name device objects and therefore should not use this routine. Instead, a WDM driver should call <A HREF="k104_27n6.htm"><B>IoRegisterDeviceInterface</B></A> to set up a symbolic link. </P>

<P><B>IoCreateUnprotectedSymbolicLink</B> can be used by drivers if the user needs to be able to manipulate the symbolic link. For example, the parallel and serial drivers create unprotected symbolic links for LPTx and COMx, so that users can manipulate and reassign them by using the MODE command.</P>

<P>In general, drivers should call this routine instead of <A HREF="k104_28xe.htm"><B>IoCreateSymbolicLink</B></A> if a protected subsystem lets end users change what a named device references as, for example, when using LPT1 to access a network printer.</P>

<P>For more information on when to use <B>IoCreateSymbolicLink</B>, see <A HREF="devobjts_4zl3.htm">Named Device Objects</A>.</P>

<P>Callers of <B>IoCreateUnprotectedSymbolicLink</B> must be running at IRQL&nbsp;= PASSIVE_LEVEL.</P>

<H4>See Also</H4>

<P><A HREF="k104_27n6.htm"><B>IoRegisterDeviceInterface</B></A>, <A HREF="k104_60c2.htm"><B>IoAssignArcName</B></A>, <A HREF="k104_28xe.htm"><B>IoCreateSymbolicLink</B></A>, <A HREF="k104_8xbm.htm"><B>IoDeleteSymbolicLink</B></A> </P>

<P></P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: IoCreateUnprotectedSymbolicLink"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
