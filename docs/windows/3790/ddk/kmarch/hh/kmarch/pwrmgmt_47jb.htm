<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Driver Role in Power Management</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Driver Role in Power Management">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Kernel-Mode&nbsp;Driver&nbsp;Architecture:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H2><A NAME="ddk_driver_role_in_power_management_kg"></A>Driver Role in Power Management</H2>

<P>Drivers support power management in two ways:

<OL>
	<LI>Drivers respond to system-wide power requests issued by the Power Manager.</LI>

	<LI>Drivers manage power for their individual devices.</LI>
</OL>

<P>Every driver must have a <A HREF="drvrrtns_00mq.htm"><I>DispatchPower</I></A> routine to handle <A HREF="k113_7jjm.htm">IRP_MJ_POWER</A> requests. The <I>DispatchPower</I> routine must inspect each power IRP and either handle it or pass it down to the next-lower driver.</P>

<P>For a device to participate in power management, every driver in the device stack for the device must respond to or pass power IRPs appropriately. Failure of a single driver to act correctly can cause power management to be disabled across the entire system. </P>

<P>One driver for each device <A HREF="pwrmgmt_817r.htm">manages power policy</A> for its device. That driver can send power IRPs to its own device stack to perform power operations on its device. The power policy manager is responsible for issuing device power IRPs that correspond to system power IRPs.</P>

<P>In addition, drivers might perform certain power tasks, such as powering on a device at start-up or powering off a device at removal, without receiving a power IRP. These are considered implicit power requests.</P>

<P>For more information, see <A HREF="pwrmgmt_97hj.htm">Power Management Responsibilities for Drivers</A>.</P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Driver%20Role%20in%20Power%20Management"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
