<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Calling Convention for AMD 64-Bit Environments</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Calling Convention for AMD 64-Bit Environments">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Kernel-Mode&nbsp;Driver&nbsp;Architecture:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H2><A NAME="ddk_calling_convention_for_amd_64_bit_environments_kg"></A>Calling Convention for AMD 64-Bit Environments</H2>

<P>Of the three calling convention modes (STDCALL, FASTCALL, and CDECL) allowed on the x86-model compiler, the calling convention mode for the <A HREF="64bitamd_65nr.htm">64-bit compiler</A> contained in Microsoft® Windows® Server 2003 DDK is limited to just the FASTCALL type. Essentially, the two primary benefits from the 64-bit architecture are the 64-bit addressing capability and a flat set of 16 64-bit registers for general use. Given the expanded register set, using a FASTCALL methodology of calling convention and a RISC-based exception-handling model makes much more sense. This is because the FASTCALL model requires that the first four arguments be in registers and that the stack frame is used to pass the other parameters. The following sections further describe the 64-bit AMD calling convention:</P>

<P class=indent1><A HREF="64bitamd_0ief.htm">Alignment Requirements for AMD 64 Bit</A></P>

<P class=indent1><A HREF="64bitamd_6wmf.htm">Register Usage for AMD 64 Bit</A></P>

<P class=indent1><A HREF="64bitamd_0zvr.htm">Calling Convention Process for AMD 64 Bit</A></P>

<P class=indent1><A HREF="64bitamd_982v.htm">Stack Usage for AMD 64 Bit</A></P>

<P class=indent1><A HREF="64bitamd_15pj.htm">Prolog and Epilog Code for AMD 64 Bit</A></P>

<P class=indent1><A HREF="64bitamd_9hrb.htm">Exception Handling for AMD 64 Bit</A></P>

<P class=indent1><A HREF="64bitamd_9n6v.htm">Other Issues for the 64-Bit AMD Calling Convention</A></P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Calling%20Convention%20for%20AMD%2064-Bit%20Environments"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
