<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Providing ISR Context Information</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Providing ISR Context Information">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Kernel-Mode&nbsp;Driver&nbsp;Architecture:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H2><A NAME="ddk_providing_isr_context_information_kg"></A>Providing ISR Context Information</H2>

<P>On entry, an ISR receives a pointer to whatever context area the driver set up when it called <A HREF="k104_7h9u.htm"><B>IoConnectInterrupt</B></A>.</P>

<P>Most drivers set the context pointer to the device object that represents the physical device that generates interrupts, or to that device object’s device extension. In the device extension, the driver can store state information for the driver’s ISR and <A HREF="drvrrtns_9ycy.htm"><I>DpcForIsr</I></A> routine, the latter of which usually does almost all of the I/O processing to satisfy each request that caused the device to interrupt. </P>

<P>Typically, drivers use the device extension to store pointers to each of the device's interrupt objects (returned from calls to <B>IoConnectInterrupt</B>). Drivers also typically store information in the device extension that allows an ISR to determine if an interrupt was issued by a device the ISR supports.</P>

<P>(Alternatively, interrupt object pointers can be stored in nonpaged pool allocated by the driver, or in a controller extension if a non-WDM driver creates a controller object.)</P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Providing%20ISR%20Context%20Information"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
