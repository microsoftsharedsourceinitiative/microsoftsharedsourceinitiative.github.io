<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>GetRootHubSymbolicName</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="GetRootHubSymbolicName">
</HEAD>
<BODY TOPMARGIN="0">
<DIV STYLE="display:none;">
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_irp_mn_query_interface_dr">
</OBJECT>
</DIV>


<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>System&nbsp;Support&nbsp;for&nbsp;Buses:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_getroothubsymbolicname_kr"></A><I>GetRootHubSymbolicName</I></H1>

<P>The <I>GetRootHubSymbolicName </I>routine returns the symbolic name of the root hub device. </P>

<PRE class=syntax><B>NTSTATUS
GetRootHubSymbolicName (
  IN PVOID</B>  <I>BusContext</I>,
<B>  IN OUT PVOID</B>  <I>HubInformationBuffer</I>,
<B>  IN ULONG</B>  <I>HubInformationBufferLength</I>,
<B>  OUT PULONG</B>  <I>HubNameActualLength</I>
<B>  )</B></PRE>

<H4>Parameters</H4>

<DL>
<DT><I>BusContext</I></DT>

<DD>Contains a handle to the bus context returned in the <I>BusContext</I> member of the structure by an <A HREF="JavaScript:hhobj_1.Click()">IRP_MN_QUERY_INTERFACE</A> request. The port driver provides this information when the hub driver queries for the interface. </DD>

<DT><I>HubInformationBuffer</I></DT>

<DD>Contains, on return, the symbolic name of the root hub. Only the symbolic name itself, and not the fully qualified path, is returned. If the fully qualified pathname of the root hub in the object tree is "\xxx\name",  <I>GetRootHubSymbolicName </I>removes "\xxx\" where "x" represents zero or more characters. So, for instance, if the fully qualified name is "\\??\USB\ROOT_HUB, <I>GetRootHubSymbolicName </I>returns "ROOT_HUB."</DD>

<DT><I>HubInformationBufferLength</I></DT>

<DD>Contains the length in bytes of the caller-allocated buffer that was passed to <I>GetRootHubSymbolicName </I>in the parameter <I>HubInformationBuffer</I>. </DD>

<DT><I>HubNameActualLength</I></DT>

<DD>Contains, on return, the length in bytes of the root hub symbolic name. 
</DD>
</DL>

<H4>Return Value</H4>

<P><I>GetRootHubSymbolicName</I> returns one of the following values:

<DL>
<DT>STATUS_SUCCESS</DT>

<DD>The call completed successfully.</DD>

<DT>STATUS_UNSUCCESSFUL</DT>

<DD>There was no symbolic name recorded in the device extension of the root hub.</DD>

<DT>STATUS_INSUFFICIENT_RESOURCES</DT>

<DD>The port driver could not allocate necessary memory resources. </DD>
</DL>

<H4>Headers</H4>

<P>Declared in <I>usbbusif.h</I>. Include <I>usbbusif.h</I>. </P>

<H4>Comments</H4>

<P>The routine definition that is provided on this reference page is an example routine whose parameters are just placeholder names. The actual prototype of the routine is declared in <I>usbbusif.h</I> as follows:</P>

<PRE>typedef NTSTATUS
  (USB_BUSIFFN *PUSB_BUSIFFN_GET_ROOTHUB_SYM_NAME) (
    IN PVOID,
    IN OUT PVOID,
    IN ULONG,
    IN OUT PULONG
    );</PRE>

<P>Callers of this routine must be running at IRQL&nbsp;= PASSIVE_LEVEL. </P>

<H4>See Also</H4>

<P><A HREF="usbinterkr_7k4y.htm">USB Interfaces</A></P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: GetRootHubSymbolicName"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
