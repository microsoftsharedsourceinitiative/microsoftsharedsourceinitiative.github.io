<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>RootHubInitNotification</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="RootHubInitNotification">
</HEAD>
<BODY TOPMARGIN="0">
<DIV STYLE="display:none;">
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_irp_mn_query_interface_dr">
</OBJECT>
</DIV>


<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>System&nbsp;Support&nbsp;for&nbsp;Buses:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_roothubinitnotification_kr"></A><I>RootHubInitNotification</I></H1>

<P>The <I>RootHubInitNotification </I>routine provides the port driver with a callback routine that the port driver uses to notify the bus driver that it may enumerate its devices.</P>

<PRE class=syntax><B>NTSTATUS
RootHubInitNotification (
  IN PVOID</B>  <I>BusContext</I>,
<B>  IN PVOID</B>  <I>CallbackContext</I>,
<B>  IN PRH_INIT_CALLBACK</B>  <I>CallbackFunction</I>
<B>  )</B>
</PRE>

<H4>Parameters</H4>

<DL>
<DT><I>BusContext</I></DT>

<DD>Contains a handle to the bus context returned in the <I>BusContext</I> member of the structure by an <A HREF="JavaScript:hhobj_1.Click()">IRP_MN_QUERY_INTERFACE</A> request. The port driver provides this information when the hub driver queries for the interface. </DD>

<DT><I>CallbackContext</I></DT>

<DD>Pointer to a buffer containing the context information that the port driver should pass to the <I>CallbackFunction</I>. </DD>

<DT><I>CallbackFunction</I></DT>

<DD>Pointer to a callback routine. The port driver calls this routine to notify the bus driver that it can enumerate the devices on the bus. The bus driver should not enumerate its devices before receiving this notification. 
</DD>
</DL>

<H4>Return Value</H4>

<P><I>RootHubInitNotification</I> returns STATUS_SUCCESS.</P>

<H4>Headers</H4>

<P>Declared in <I>usbbusif.h</I>. Include <I>usbbusif.h </I>and <I>hubbusif.h</I>. </P>

<H4>Comments</H4>

<P>The routine definition that is provided on this reference page is an example routine whose parameters are just placeholder names. The actual prototype of the routine is declared in <I>usbbusif.h</I> as follows:</P>

<PRE>typedef NTSTATUS
  (USB_BUSIFFN *PUSB_BUSIFFN_ROOTHUB_INIT_NOTIFY) (
    IN PVOID,
    IN PVOID,
    IN PRH_INIT_CALLBACK
    );</PRE>

<P>The prototype of the callback routine is defined in <I>hubbusif.h</I> as follows:</P>

<PRE>typedef VOID
  (__stdcall *PRH_INIT_CALLBACK) (
    IN PVOID
  );</PRE>

<P>Callers of this routine must be running at IRQL&nbsp;= PASSIVE_LEVEL. </P>

<H4>See Also</H4>

<P><A HREF="usbinterkr_7k4y.htm">USB Interfaces</A></P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: RootHubInitNotification"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
