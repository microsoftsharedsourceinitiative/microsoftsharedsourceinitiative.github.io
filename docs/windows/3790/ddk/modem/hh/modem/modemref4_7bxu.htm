<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>ISDN\Protocol</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="ISDN\Protocol">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Modem&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_isdn_protocol_mr"></A>ISDN\Protocol</H1>

<P>The <B>ISDN\Protocol</B> INF file entries enable the corresponding protocols to be selected in the user interface (see Data Connection Preferences) and indicated through TAPI and Unimodem. </P>

<P>ISDN supports a large number of B channel protocols. Windows&nbsp;2000 allows users and communications applications (for example, RAS) to select them dynamically. When a protocol is selected in the user interface, Unimodem issues the corresponding AT commands before originating a call as part of a sequence of commands that set response format and presentation, carrier-detect on, and so forth.</P>

<P>Note that this entry does not set a direct mode. The rate is the DCE-DCE rate, not the DTE-DCE rate.</P>

<H4>Format</H4>

<P>For each B channel protocol, ISDN Protocol registry entries have the following form:</P>

<PRE>HKR, Protocol\ISDN\&lt;protocol_type&gt;, 1,, "command string&lt;cr&gt;“</PRE>

<H4>Sample</H4>

<P>The following example selects a V.120 on one 64 kbps channel, using the command *V2=1.</P>

<PRE>HKR, Protocol\ISDN\V120_64K, 1,,"AT*V2=1&lt;cr&gt;“
</PRE>

<P>The following table lists the ISDN protocols, entries, sample command strings, and notes.</P>

<TABLE border=1 frame=box rules=all>

<TR VALIGN="top">
<TH align=left width=22%>Protocol Type</TH>
<TH align=left width=32%>&lt;protocol_<BR>
type&gt; Entry</TH>
<TH align=left width=46%>Sample Commands</TH>
</TR>

<TR VALIGN="top">
<TD width=22%>V.120, 1B, 64kbps</TD>
<TD width=32%>V120_64K
<P><B>Note:</B> Does not initialize device for V.42bis over V.120.  See Note 1.</P>
</TD>
<TD width=46%>AT*V2=1&lt;cr&gt; AT\N4&lt;cr&gt; 
<P>AT\N4%C0&lt;cr&gt;</P>

<P>AT&amp;E0B20<BR>
&amp;J0&lt;cr&gt;</P>

<P>AT&amp;F$IBP=V120&lt;cr&gt;</P>
</TD>
</TR>

<TR VALIGN="top">
<TD width=22%>V.120, 1B, 56kbps</TD>
<TD width=32%>V120_56K</TD>
<TD width=46%>AT*V2=1S67.1=1S67.2=0&lt;cr&gt;</TD>
</TR>

<TR VALIGN="top">
<TD width=22%>V.120, 2B w/MLB, 128kbps</TD>
<TD width=32%>V120_128K</TD>
<TD width=46%>AT&amp;E0B20<BR>
&amp;J3&lt;cr&gt;</TD>
</TR>

<TR VALIGN="top">
<TD width=22%>V.120, 2B w/MLB, 112kbps</TD>
<TD width=32%>V120_112K</TD>
<TD width=46%>AT&amp;E0B20<BR>
&amp;J3&lt;cr&gt;</TD>
</TR>

<TR VALIGN="top">
<TD width=22%>V.110, 1B, 1.2kbps</TD>
<TD width=32%>V110_1DOT2K</TD>
<TD width=46%>AT%B1200<BR>
%G1\N0&lt;cr&gt;</TD>
</TR>

<TR VALIGN="top">
<TD width=22%>V.110, 1B, 2.4kbps</TD>
<TD width=32%>V110_2DOT4K </TD>
<TD width=46%>AT%B2400<BR>
%G1\N0&lt;cr&gt;</TD>
</TR>

<TR VALIGN="top">
<TD width=22%>V.110, 1B, 4.8kbps</TD>
<TD width=32%>V110_4DOT8K</TD>
<TD width=46%>AT%B4800<BR>
%G1\N0&lt;cr&gt;</TD>
</TR>

<TR VALIGN="top">
<TD width=22%>V.110, 1B, 9.6kbps</TD>
<TD width=32%>V110_9DOT6K</TD>
<TD width=46%>AT%B9600<BR>
%G1\N0&lt;cr&gt;</TD>
</TR>

<TR VALIGN="top">
<TD width=22%>V.110, 1B, 12.0kbps</TD>
<TD width=32%>V110_12DO<BR>
T0K</TD>
<TD width=46%>AT%B12000<BR>
%G1<BR>
\N0&lt;cr&gt;</TD>
</TR>

<TR VALIGN="top">
<TD width=22%>V.110, 1B, 14.4kbps</TD>
<TD width=32%>V110_14DO<BR>
T4K</TD>
<TD width=46%>AT%B14400<BR>
%G1\N0&lt;cr&gt;</TD>
</TR>

<TR VALIGN="top">
<TD width=22%>V.110, 1B, 19.2kbps</TD>
<TD width=32%>V110_19DOT2K</TD>
<TD width=46%>AT%B19200%G1<BR>
\N0&lt;cr&gt;
<P>AT*V2=2S80.3=0&lt;cr&gt;</P>
</TD>
</TR>

<TR VALIGN="top">
<TD width=22%>V.110, 1B, 28.8kbps</TD>
<TD width=32%>V110_28DOT8K</TD>
<TD width=46%>AT%B28800%G1<BR>
\N0&lt;cr&gt;
<P>ATB19&amp;J0&lt;cr &gt;</P>
</TD>
</TR>

<TR VALIGN="top">
<TD width=22%>V.110, 1B, 38.4kbps</TD>
<TD width=32%>V110_38DOT4K</TD>
<TD width=46%>AT*V2=2S80.3=1&lt;cr&gt;</TD>
</TR>

<TR VALIGN="top">
<TD width=22%>V.110, 1B, 57.6kbps</TD>
<TD width=32%>V110_57DOT6K</TD>
<TD width=46%>AT%B57600%G1<BR>
\N0&lt;cr&gt;
<P>ATB19&amp;J0&lt;cr&gt;</P>
</TD>
</TR>

<TR VALIGN="top">
<TD width=22%>X.75, 1B, 57.6kbps</TD>
<TD width=32%>X75_64K</TD>
<TD width=46%>ATB00&amp;J0&lt;cr&gt;
<P>AT&amp;F$IBP=X75&lt;cr&gt;</P>
</TD>
</TR>

<TR VALIGN="top">
<TD width=22%>X.75, T.70, 57.6kbps</TD>
<TD width=32%>X75_T_70</TD>
<TD width=46%>&nbsp;</TD>
</TR>

<TR VALIGN="top">
<TD width=22%>X.75 BTX</TD>
<TD width=32%>X75_BTX</TD>
<TD width=46%>AT&amp;F$IBP=BTX&lt;cr&gt;"</TD>
</TR>

<TR VALIGN="top">
<TD width=22%>Automatic protocol selection on origination</TD>
<TD width=32%>AUTO_1CH
<P><B>Note:</B> Must include auto-detection of HDLC at 64 kbps.</P>
</TD>
<TD width=46%>&nbsp;</TD>
</TR>

<TR VALIGN="top">
<TD width=22%>Automatic protocol selection on answer</TD>
<TD width=32%>AUTO_2CH
<P><B>Note:</B> Must include dual channel connections, HDLC at 128 kbps using PAP/CHAP.</P>
</TD>
<TD width=46%>&nbsp;</TD>
</TR>

<TR VALIGN="top">
<TD width=22%>HDLC PPP, 1B, 56kbps</TD>
<TD width=32%>HDLC_PPP_56K
<P><B>Note:</B> RFC 1662.</P>
</TD>
<TD width=46%>AT%B57600%G1<BR>
\N0&lt;cr&gt;</TD>
</TR>

<TR VALIGN="top">
<TD width=22%>HDLC PPP, 1B, 64kbps</TD>
<TD width=32%>HDLC_PPP_64K
<P><B>Note:</B> RFC 1662.</P>
</TD>
<TD width=46%>AT%%A4=0%%A2=95@B0=1&lt;cr&gt;
<P>AT&amp;F$IBP=HDLCP&lt;cr&gt;</P>
</TD>
</TR>

<TR VALIGN="top">
<TD width=22%>HDLC PPP, 2B, 112kbps</TD>
<TD width=32%>HDLC_PPP_112K
<P><B>Note:</B> RFC 1662 &amp; RFC 1717,</P>

<P>Note 2 below.</P>
</TD>
<TD width=46%>AT%A2=95@B0=2<BR>
%A4=1&lt;cr&gt;</TD>
</TR>

<TR VALIGN="top">
<TD width=22%>HDLC PPP, 2B, 128kbps</TD>
<TD width=32%>HDLC_PPP_128K
<P><B>Note:</B> RFC 1662 &amp; RFC 1717,</P>

<P>Note 2 below.</P>
</TD>
<TD width=46%>AT%A2=95@B0=2<BR>
%A4=0&lt;cr&gt;</TD>
</TR>

<TR VALIGN="top">
<TD width=22%>HDLC PPP, 2B, 128kbps, with PAP in the modem</TD>
<TD width=32%>HDLC_PPP_128K_PAP
<P><B>Note:</B> PAP is in RFC 1334.</P>
</TD>
<TD width=46%>AT%A2=95@B0=2%A4=0@M2=P&lt;cr&gt;</TD>
</TR>

<TR VALIGN="top">
<TD width=22%>HDLC PPP, 2B, 128kbps,
<P>With CHAP in the modem</P>
</TD>
<TD width=32%>HDLC_PPP_128K_CHAP</TD>
<TD width=46%>AT%A2=95@B0=2%A4=0@M2=M&lt;cr&gt;</TD>
</TR>

<TR VALIGN="top">
<TD width=22%>HDLC PPP, 2B, 128kbps,
<P>With MSCHAP in the modem</P>
</TD>
<TD width=32%>HDLC_PPP_128K_MSCHAP
<P><B>Note:</B> MS CHAP is the Microsoft version of RSA MD4.</P>
</TD>
<TD width=46%>AT%A2=95@B0=2%A4=0@M2=M&lt;cr&gt;</TD>
</TR>

<TR VALIGN="top">
<TD width=22%>PAIFS Incoming</TD>
<TD width=32%>PIAFS_<BR>
INCOMING</TD>
<TD width=46%>ATPIAFSI&lt;cr&gt;</TD>
</TR>

<TR VALIGN="top">
<TD width=22%>PAIFS Outgoing </TD>
<TD width=32%>PIAFS_<BR>
OUTGOING</TD>
<TD width=46%>ATPIAFSO&lt;cr&gt;</TD>
</TR>

<TR VALIGN="top">
<TD width=22%>Analog V34 1B Channel</TD>
<TD width=32%>ANALOG_V34
<P><B>Note:</B> Analog connectivity over ISDN.</P>
</TD>
<TD width=46%>AT+PSTN&lt;cr&gt;</TD>
</TR>
</TABLE><BR>

<H4>Note </H4>

<P>These entries are not intended to initialize the device to use V42bis over V.120. If the device defaults to using V.42bis compression when initialized to V.120, the entries should initialize to V.120 with compression off.</P>

<P>These entries should also contain commands to disable any authentication method on the B channel that is not exposed to the operating system over the RS232 communications interface.</P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: ISDN%5CProtocol"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
