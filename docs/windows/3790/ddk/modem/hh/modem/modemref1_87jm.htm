<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Init</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Init">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Modem&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_init_mr"></A>Init</H1>

<P>Use the <B>Init</B> entry to specify the AT commands that are sent to initialize a modem.</P>

<H4>Format</H4>

<P>One or more command strings.</P>

<H4>Samples</H4>

<P>The following are examples of this entry:</P>

<PRE>    HKR, Init,    1,, "AT&lt;cr&gt;"
    HKR, Init,    2,, "AT &amp;F E0 V1 &amp;D2 &amp;C1 W2 S95=47&lt;cr&gt;"</PRE>

<P>Or:</P>

<PRE>    HKR, Init,    1,, "AT&lt;cr&gt;"
    HKR, Init,     2,, "AT &amp;F E0 S0=0 $BA0 S25=20&lt;cr&gt;"</PRE>

<H4>Note</H4>

<P>The <B>Init</B> command should put the modem in the following state:

<UL>
	<LI>Set Factory Defaults (&amp;F)</LI>

	<LI>No Echo (E0)</LI>

	<LI>Return Result Codes (Q0)</LI>

	<LI>Return all possible Negotiation and Call progress messages (W2 S95=47)</LI>

	<LI>Track status of carrier-detect signal (&amp;C1)</LI>

	<LI>Monitor DTR. When an off-to-on transition occurs, hang up and enter command state (&amp;D2)</LI>

	<LI>Communicate in fixed DTE mode (&amp;Q5)</LI>

	<LI>Assert DSR always (&amp;S0)</LI>

	<LI>Do not answer automatically (S0=0)</LI>
</UL>

<P>If the modem is set to these values after the factory default reset (&amp;F), the values need not be included in the <B>Init</B> command strings. It is important to verify that the factory default reset (&amp;F) uses the correct values.</P>

<P>The default modulation, compression, and protocol options in the <B>Init</B> command strings should be set to enable maximum flexibility. Do not put any settings in the <B>Init</B> string that restrict these capabilities.</P>

<P>A large number of modems require that command lines be no greater than 40 characters in length. To be safe, Unimodem assumes that modems can only handle commands that are less than 40 characters long.</P>

<P>A modem is generally set to report verbose responses. However, either verbose or numeric responses are acceptable. It is important that the correct responses are put in the <B>Responses</B> INF file entries.</P>

<P>The user can define a custom <B>Init</B> command string in Control Panel that is issued after Unimodem completes its dynamic initialization. This setting is found in the modem program in Control Panel under the advanced modem properties tab. The field name in the dialog is <B>Extra Settings</B>.</P>

<H4>See Also</H4>

<P><A HREF="modemref1_90vm.htm"><B>Responses</B></A></P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Init"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
