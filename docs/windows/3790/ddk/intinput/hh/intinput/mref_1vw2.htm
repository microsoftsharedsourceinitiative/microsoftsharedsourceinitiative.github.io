<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>IRP_MJ_CREATE (Mouclass)</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="IRP_MJ_CREATE (Mouclass)">
</HEAD>
<BODY TOPMARGIN="0">
<DIV STYLE="display:none;">
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_irp_mj_create_kr">
</OBJECT>
</DIV>


<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Interactive&nbsp;Input&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_irp_mj_create_mouclass__kr"></A>IRP_MJ_CREATE (Mouclass)</H1>

<H4>When Sent</H4>

<P>The Microsoft Win32 subsystem opens all mouse devices for its exclusive use during a system boot or after a new mouse device is installed.</P>

<H4>Input Parameters</H4>

<P>None.</P>

<H4>Output Parameters</H4>

<P>None.</P>

<H4>I/O Status Block</H4>

<DL>
<DT><B>Plug and Play Operation</B></DT>

<DD>The <B>Information</B> member of the IRP is set to zero. 

<P>The <B>Status</B> member is set to one of the following values:


<DL>
<DT>STATUS_SUCCESS</DT>

<DD>The request completed successfully.</DD>

<DT>STATUS_UNSUCCESFFUL</DT>

<DD>The device is not started.</DD>

<DT>STATUS_<I>Xxx</I></DT>

<DD>A lower-level driver returned an error status.</DD>
</DL>
</DD>

<DT><B>Legacy Operation</B></DT>

<DD>The <B>Information</B> member is set to zero. 

<P>The <B>Status</B> member is set to STATUS_SUCCESS or the status returned by a lower-level driver for the IOCTL_INTERNAL_MOUSE_ENABLE request.

</DD>
</DL>

<H4>Headers</H4>

<P>Defined in <I>ntddk.h</I> and <I>wdm.h</I>. Include <I>ntddk.h</I> or <I>wdm.h</I>.</P>

<H4>Operation</H4>

<P>Mouclass does one of the following:

<DL>
<DT><B>Plug and Play Operation</B></DT>

<DD>If the device is started, Mouclass sends the IRP_MJ_CREATE request down the device stack. If the device is not started, Mouclass completes the request without sending the request down the driver stack. Mouclass sets the "trusted" file that is permitted read access to the device. If there is a grandmaster device, Mouclass sends a create request to all the mouse devices associated with the subordinate class device objects.

<P>For information about grandmaster devices, see <A HREF="km-ovr_6muf.htm">Configuration of Device Objects for More Than One Device</A>.
</DD>

<DT><B>Legacy Operation</B></DT>

<DD>Mouclass sends a synchronous IOCTL_INTERNAL_MOUSE_ENABLE request down the device stack.</DD>
</DL>

<H4>See Also</H4>

<P><A HREF="mref_7k4y.htm">IRP_MJ_CLOSE (Mouclass)</A>, <A HREF="JavaScript:hhobj_1.Click()">IRP_MJ_CREATE</A></P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: IRP_MJ_CREATE%20(Mouclass)"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
