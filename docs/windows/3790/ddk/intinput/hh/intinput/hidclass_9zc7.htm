<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Communicating with a HID Minidriver</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Communicating with a HID Minidriver">
</HEAD>
<BODY TOPMARGIN="0">
<DIV STYLE="display:none;">
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_adddevice_kr">
</OBJECT>
<OBJECT ID="hhobj_2" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_unload_kr">
</OBJECT>
<OBJECT ID="hhobj_3" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_fdo_dg_gly">
</OBJECT>
</DIV>


<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Interactive&nbsp;Input&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H3><A NAME="ddk_communicating_with_a_hid_minidriver_kg"></A>Communicating with a HID Minidriver</H3>

<P>The HID class driver communicates with a HID minidriver by calling the HID minidriver's <A HREF="JavaScript:hhobj_1.Click()"><I>AddDevice</I></A>, <A HREF="JavaScript:hhobj_2.Click()"><I>Unload</I></A>, and dispatch routines as follows:</P>

<H4>Calling the AddDevice Routine</H4>

<P>When the HID class driver's <I>AddDevice</I> routine is called to create a functional device object (<A HREF="JavaScript:hhobj_3.Click()">FDO</A>), the HID class driver creates the FDO, initializes it, and calls the HID minidriver <I>AddDevice</I> routine. The HID minidriver <I>AddDevice</I> routine does internal device-specific initialization and, if successful, returns STATUS_SUCCESS. If the HID minidriver <I>AddDevice</I> routine is not successful, the HID class driver deletes the FDO and returns the status returned by the HID minidriver <I>AddDevice</I> routine.</P>

<H4>Calling the Unload Routine</H4>

<P>When the HID class driver <I>Unload</I> routine is called, the HID class driver completes releasing all resources associated with FDO and calls the HID minidriver's <I>Unload</I> routine.</P>

<H4>Calling the Dispatch Routines</H4>

<P>To operate a device, the HID class driver primarily calls the HID minidriver dispatch routine for internal device control requests.</P>

<P>In addition, when the I/O manager sends Plug and Play, power, or system control requests to the HID class driver for an FDO, the HID class driver processes the request, and calls the HID minidriver's corresponding dispatch routine. </P>

<P>The HID class driver does not send the following requests to the HID minidriver: create, close, or device control.</P>

<P>For more information about how a HID minidriver handles I/O requests, see <A HREF="hidclass_1x9j.htm">Dispatch Routines Provided by a HID Minidriver</A>.</P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Communicating%20with%20a%20HID%20Minidriver"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
