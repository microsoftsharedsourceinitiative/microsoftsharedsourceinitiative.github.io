<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Supporting Plug and Play and Power Management in a Video Miniport</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Supporting Plug and Play and Power Management in a Video Miniport">
</HEAD>
<BODY TOPMARGIN="0">
<DIV STYLE="display:none;">
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_ddc_glossary">
</OBJECT>
<OBJECT ID="hhobj_2" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_i2c_gg_gly">
</OBJECT>
<OBJECT ID="hhobj_3" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_irp_major_function_codes_kr">
</OBJECT>
<OBJECT ID="hhobj_4" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_plug_and_play_kg">
</OBJECT>
</DIV>


<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Display&nbsp;and&nbsp;Print&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_supporting_plug_and_play_and_power_management_in_a_video_miniport_gg"></A>Supporting Plug and Play and Power Management in a Video Miniport</H1>

<P>All Windows®&nbsp;2000 and later miniport drivers must support Plug and Play and Power Management. This includes the ability to enumerate child devices such as <A HREF="JavaScript:hhobj_1.Click()">DDC</A> monitors, <A HREF="JavaScript:hhobj_2.Click()">I2C</A> (I<SUP>2</SUP>C) devices, and secondary adapters.</P>

<P>The video port driver manages most of the PnP requirements for the miniport driver, including creating the FDO (Functional Device Object) and receiving and dispatching PnP-specific IRP codes (see <A HREF="JavaScript:hhobj_3.Click()">IRP Major Function Codes</A>) on the miniport driver's behalf.</P>

<P>Miniport drivers must implement the following functions to support PnP and Power Management:</P>

<P class=indent1><A HREF="vmpfncs_6v1j.htm"><I>HwVidSetPowerState</I></A> </P>

<P class=indent1><A HREF="vmpfncs_4zs7.htm"><I>HwVidGetPowerState</I></A> </P>

<P class=indent1><A HREF="vmpfncs_76hz.htm"><I>HwVidGetVideoChildDescriptor</I></A> </P>

<P>The graphics adapter for a legacy miniport driver cannot be removed from the system while the system is running, nor are legacy miniport drivers automatically detected when added to a running system.</P>

<P>See <A HREF="vmport_9h5z.htm">Child Devices of the Graphics Adapter</A> for more information about detecting and communicating with an adapter's child devices. For general information about Plug and Play drivers, see <A HREF="JavaScript:hhobj_4.Click()">Plug and Play</A>.</P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Supporting%20Plug%20and%20Play%20and%20Power%20Management%20in%20a%20Video%20Miniport"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
