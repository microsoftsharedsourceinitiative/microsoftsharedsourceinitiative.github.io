<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>DDSETSTATEOUTINFO</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="DDSETSTATEOUTINFO">
</HEAD>
<BODY TOPMARGIN="0">
<DIV STYLE="display:none;">
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_vpe_gg_gly">
</OBJECT>
<OBJECT ID="hhobj_2" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_vbi_gg_gly">
</OBJECT>
</DIV>


<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Display&nbsp;and&nbsp;Print&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_ddsetstateoutinfo_gg"></A>DDSETSTATEOUTINFO</H1>

<P>The DDSETSTATEOUTINFO structure contains the state information for the <A HREF="JavaScript:hhobj_1.Click()">video port extensions (VPE)</A> object. </P>

<PRE class=syntax>typedef struct _DDSETSTATEOUTINFO {
  BOOL   bSoftwareAutoflip;
  DWORD  dwSurfaceIndex;
  DWORD  dwVBISurfaceIndex;
} DDSETSTATEOUTINFO, *PDDSETSTATEOUTINFO;</PRE>

<H4>Members</H4>

<DL>
<DT><B>bSoftwareAutoflip</B> </DT>

<DD>When set to a non-zero value, causes DirectDraw to revert to software autoflipping. Note that once software autoflipping has been initiated, you cannot revert back to hardware autoflipping until the VPE object and surface are destroyed and restarted. </DD>

<DT><B>dwSurfaceIndex</B> </DT>

<DD>Indicates the index in the autoflip chain of the surface currently receiving the data from the VPE object. This field is ignored unless the miniport driver is switching from hardware autoflipping to software autoflipping. </DD>

<DT><B>dwVBISurfaceIndex</B></DT>

<DD>Indicates the index in the autoflip chain of the <A HREF="JavaScript:hhobj_2.Click()">VBI</A> surface currently receiving the data from the VPE object. This field is ignored unless the miniport is switching from hardware autoflipping to software autoflipping. 
</DD>
</DL>

<H4>Headers</H4>

<P>Defined in <I>dxmini.h.</I> Include <I>dxmini.h</I>.</P>

<H4>Comments</H4>

<P>When asked to switch from bob to weave, the miniport may need to switch from hardware autoflipping to software autoflipping (no current hardware supports automatic field skipping, and so on). All the driver has to do is set the <B>bSoftwareAutoflip</B> member to a non-zero value and DirectDraw reverts to software autoflipping. </P>

<P>If the miniport driver switches from hardware to software autoflipping, DirectDraw must know which surface is currently receiving data from the VPE object so it can continue without causing a glitch. Therefore, the miniport driver must set the <B>dwSurfaceIndex</B> member to the index in the autoflip chain of the surface currently receiving the data from the VPE object. When <A HREF="ddfncs_6jon.htm"><I>DdVideoPortUpdate</I></A> is called, it gives an array of surfaces that the driver can autoflip between. You can program the addresses of these surfaces that are used for software autoflipping into your hardware. </P>

<H4>See Also</H4>

<P><A HREF="ddfncs_6jon.htm"><I>DdVideoPortUpdate</I></A>, <A HREF="ddfncs_1grr.htm"><I>DxSetState</I></A> </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: DDSETSTATEOUTINFO"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
