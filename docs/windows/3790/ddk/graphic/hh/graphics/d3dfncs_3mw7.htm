<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>D3dDestroyDDLocal</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="D3dDestroyDDLocal">
</HEAD>
<BODY TOPMARGIN="0">
<DIV STYLE="display:none;">
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_pdev_gg_gly">
</OBJECT>
</DIV>


<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Display&nbsp;and&nbsp;Print&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_d3ddestroyddlocal_gg"></A><I>D3dDestroyDDLocal</I></H1>

<P>The<I> D3dDestroyDDLocal</I> function destroys all the Direct3D surfaces previously created by the <A HREF="d3dfncs_0gtj.htm"><I>D3DCreateSurfaceEx</I></A> function that belong to the same given local DirectDraw object.</P>

<PRE class=syntax><B>DWORD
  (APIENTRY *PDD_DESTROYDDLOCAL)(
  </B>  <B>PDD_DESTROYDDLOCALDATA  </B><I>pcdddd
    </I><B>);</B></PRE>

<H4>Parameters</H4>

<DL>
<DT><I>pcdddd</I></DT>

<DD>Points to a <A HREF="d3dstrct_4ckn.htm">DDHAL_DESTROYDDLOCALDATA</A> structure that contains the information required for the driver to destroy the surfaces. 
</DD>
</DL>

<H4>Return Value</H4>

<P><I>D3dDestroyDDLocal</I> returns one of the following callback codes: </P>

<P class=indent1><A HREF="ddraw_7kbr.htm#ddk_ddhal_driver_handled_gg">DDHAL_DRIVER_HANDLED</A></P>

<P class=indent1><A HREF="ddraw_7kbr.htm#ddk_ddhal_driver_nothandled_gg">DDHAL_DRIVER_NOTHANDLED</A></P>

<H4>Headers</H4>

<P>Declared in <I>ddrawint.h</I>. Include <I>winddi.h</I>. </P>

<P></P>

<H4>Comments</H4>

<P>All Direct3D drivers must support <I>D3dDestroyDDLocal</I>.</P>

<P>Direct3D calls <I>D3dDestroyDDLocal</I> when the application indicates that the Direct3D context is no longer required and it will be destroyed along with all surfaces associated to it. The association comes through the pointer to the local DirectDraw object. The driver must free any memory that the driver's <A HREF="d3dfncs_0gtj.htm"><I>D3dCreateSurfaceEx</I></A> callback allocated for each surface, if necessary. </P>

<P>The driver should not destroy the DirectDraw surfaces associated with these Direct3D surfaces. This is the application's responsibility.</P>

<P>The pointer to the <A HREF="ddstrcts_55lz.htm">DD_DIRECTDRAW_LOCAL</A> structure that was passed in as the <B>lpDDLcl</B> member of the <A HREF="d3dstrct_2d9j.htm">D3DHAL_CONTEXTCREATEDATA</A> structure when <A HREF="d3dfncs_39yf.htm"><I>D3dContextCreate</I></A> was called is released by the operating system after <I>D3dDestroyDDLocal</I> returns. </P>

<P><I>D3dDestroyDDLocal</I> can be called with a disabled <A HREF="JavaScript:hhobj_1.Click()">PDEV</A>. A PDEV is disabled or enabled by calling the display driver's <A HREF="ddifncs_00pz.htm"><I>DrvAssertMode</I></A> function. See <A HREF="ddraw_2izr.htm">Managing PDEVs</A> for more information. </P>

<H4>See Also</H4>

<P><A HREF="d3dfncs_39yf.htm"><I>D3dContextCreate</I></A>, <A HREF="d3dfncs_0gtj.htm"><I>D3dCreateSurfaceEx</I></A>, <A HREF="d3dstrct_2d9j.htm">D3DHAL_CONTEXTCREATEDATA</A>, <A HREF="ddstrcts_55lz.htm">DD_DIRECTDRAW_LOCAL</A>, <A HREF="d3dstrct_4ckn.htm">DDHAL_DESTROYDDLOCALDATA</A> </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: D3dDestroyDDLocal"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
