<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Multiple Textures</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Multiple Textures">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Display&nbsp;and&nbsp;Print&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H2><A NAME="ddk_multiple_textures_gg"></A>Multiple Textures</H2>

<P>Direct3D drivers can support the simultaneous use of multiple textures by using texture-stage states of the texture stage state type D3DTEXTURESTAGESTATETYPE, which is described in the DirectX SDK documentation. This type allows all the properties of a texture to be defined and combined with vertex extensions that specify independent sets of texture coordinate data. </P>

<P>Adding multiple texture support for Direct3D drivers requires setting the correct capability bits (Caps), implementing texture blending, and implementing <A HREF="d3dfncs_33mv.htm"><I>D3dValidateTextureStageState</I></A>. </P>

<P>To be compliant with DirectX 6.0 and later versions, a driver is required to properly parse up to eight texture coordinate sets, even if the device can only iterate and use the number of coordinates defined in the <B>dwFVFCaps</B>  member of the <A HREF="d3dstrct_2zhj.htm">D3DHAL_D3DEXTENDEDCAPS</A> structure. The driver uses D3DTSS_TEXCOORDINDEX to get the correct coordinates to use for texturing.</P>

<P>Flexible vertex formats (<A HREF="d3d_449z.htm">FVF</A>) allow multiple texturing because they make it possible to pass more than one texture coordinate in the vertex structure. Multiple textures can then be blended together in an iterated process and applied to a piece of geometry.</P>

<P>Texture handles are no longer generated by Direct3D drivers. Instead, the texture handles are generated by the Direct3D runtime. Texture cache management is done completely by the Direct3D runtime so that, to the driver, textures always appear to come from the application itself. All texture state is sent to the driver in the <A HREF="d3dfncs_5usn.htm"><I>D3dDrawPrimitives2</I></A> command stream.</P>

<P>With the addition of multiple texturing, the methods for blending and texture filtering have also been refined to provide a clearer and more well-defined mechanism for blending. For more information on these blending and texture filtering mechanisms, see the Microsoft DirectX® SDK documentation.</P>

<P>If a driver sets the <A HREF="d3dstrct_278n.htm#ddk_d3ddevcaps_separatetexturememories_gg">D3DDEVCAPS_SEPARATETEXTUREMEMORIES</A> flag in the <B>DevCaps</B> member of the D3DCAPS8 structure, it indicates to DirectX 8.0 and later versions of applications that they are disabled from simultaneously using multiple textures. The driver returns a D3DCAPS8 structure in response to a <B>GetDriverInfo2</B> query as described in <A HREF="d3d_0r6v.htm">Reporting DirectX 8.0 Style Direct3D Capabilities</A>. Support of this query is described in <A HREF="d3d_052f.htm">Supporting GetDriverInfo2</A>.</P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Multiple%20Textures"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
