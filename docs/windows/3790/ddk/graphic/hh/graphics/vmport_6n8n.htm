<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Setting Hardware Information in the Registry</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Setting Hardware Information in the Registry">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Display&nbsp;and&nbsp;Print&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H3><A NAME="ddk_setting_hardware_information_in_the_registry_gg"></A>Setting Hardware Information in the Registry</H3>

<P><A HREF="vmpfncs_3e3r.htm"><I>HwVidFindAdapter</I></A> can call the <A HREF="vpfncs_8a07.htm"><B>VideoPortGetRegistryParameters</B></A> and <A HREF="vpfncs_33xj.htm"><B>VideoPortSetRegistryParameters</B></A> functions to get and set configuration information in the registry. For example, <I>HwVidFindAdapter</I> might call <B>VideoPortSetRegistryParameters</B> to set up nonvolatile configuration information in the registry for the next boot. It might call <B>VideoPortGetRegistryParameters</B> to get adapter-specific, bus-relative configuration parameters written into the registry by an installation program.</P>

<P>It is recommended that miniport drivers set certain hardware information in the registry to display useful information to the user and for assistance in debugging. A miniport driver can set a chip type, DAC type, memory size (of the adapter), and a string to identify the adapter. This information is shown by the Display program in Control Panel.</P>

<P>The driver sets this information by calling <B>VideoPortSetRegistryParameters</B>. Typically, the driver makes the call in its <I>HwVidFindAdapter</I> routine.</P>

<P>The following table describes the information that the driver can register and provides details for the <I>ValueName</I> and <I>ValueData</I> parameters of <B>VideoPortSetRegistryParameters</B>:</P>

<TABLE>

<TR VALIGN="top">
<TH align=left width=20%>Information for Entry</TH>
<TH align=left width=49%><I>ValueName</I></TH>
<TH align=left width=31%><I>ValueData</I></TH>
</TR>

<TR VALIGN="top">
<TD width=20%>Chip type</TD>
<TD width=49%>HardwareInformation.ChipType</TD>
<TD width=31%>Null terminated string containing the chip name.</TD>
</TR>

<TR VALIGN="top">
<TD width=20%>DAC type</TD>
<TD width=49%>HardwareInformation.DacType</TD>
<TD width=31%>Null terminated string containing the DAC name or ID.</TD>
</TR>

<TR VALIGN="top">
<TD width=20%>Memory size</TD>
<TD width=49%>HardwareInformation.MemorySize</TD>
<TD width=31%>ULONG containing, in MB, the amount of video memory on the adapter.</TD>
</TR>

<TR VALIGN="top">
<TD width=20%>Adapter ID</TD>
<TD width=49%>HardwareInformation.AdapterString</TD>
<TD width=31%>Null-terminated string containing the name of the adapter.</TD>
</TR>

<TR VALIGN="top">
<TD width=20%>BIOS</TD>
<TD width=49%>HardwareInformation.BiosString</TD>
<TD width=31%>Null-terminated string containing information about the BIOS.</TD>
</TR>
</TABLE><BR>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Setting%20Hardware%20Information%20in%20the%20Registry"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
