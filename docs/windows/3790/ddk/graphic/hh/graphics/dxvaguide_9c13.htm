<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>DirectX VA Relationship to IAMVideoAccelerator API and Motion Compensation DDI</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="DirectX VA Relationship to IAMVideoAccelerator API and Motion Compensation DDI">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Display&nbsp;and&nbsp;Print&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H2><A NAME="ddk_directx_va_relationship_to_iamvideoaccelerator_api_and_motion_compensation_ddi_gg"></A>DirectX VA Relationship to IAMVideoAccelerator API and Motion Compensation DDI</H2>

<P>DirectX VA uses the <B>IAMVideoAcceleratorNotify </B>and <B>IAMVideoAccelerator </B>interfaces (documented in the Platform SDK), and the <A HREF="ddraw_27jb.htm">motion compensation DDI</A> to specify the format of the data exchanged between the software decoder, the video mixing renderer (VMR) or the overlay mixer (OVM), and the video display driver. The following figure shows the relationship of these interfaces to the software decoder, VMR, and video display driver.</P>

<P><IMG SRC="images/iamvideo.gif" ALT="" BORDER=0></P>

<P><B>DirectX VA Data Flow</B></P>

<P>The <B>IAMVideoAcceleratorNotify</B> interface retrieves or sets decompressed buffer information for a given video accelerator GUID.</P>

<P>The <B>IAMVideoAccelerator</B> interface enables a video decoder filter to access the functionality of a video accelerator and provides video rendering using the video mixing renderer (VMR) or the overlay mixer (OVM).</P>

<P>The motion compensation DDI establishes a common interface to access hardware acceleration capabilities and allow cross-vendor compatibility between user-mode software applications and acceleration capabilities. The DDI notifies the decoder when a video acceleration object is being used, starts and stops the decoding of frame buffers, indicates the uncompressed picture formats that the hardware supports, and notifies the display driver of the macroblocks that need to be rendered. The motion compensation DDI is accessed through the <A HREF="ddstrcts_0qav.htm">DD_MOTIONCOMPCALLBACKS</A> structure. </P>

<P>For more information about the <B>IAMVideoAccelerator</B> and <B>IAMVideoAcceleratorNotify</B> interfaces, see the Platform SDK documentation. For more information about the motion compensation DDI, see <A HREF="ddraw_27jb.htm">Motion Compensation</A> and <A HREF="ddraw_83dz.htm">Motion Compensation Callbacks</A>.</P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: DirectX%20VA%20Relationship%20to%20IAMVideoAccelerator%20API%20and%20Motion%20Compensation%20DDI"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
