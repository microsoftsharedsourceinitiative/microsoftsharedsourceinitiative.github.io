<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>IOCTL_VIDEO_VALIDATE_CHILD_STATE_CONFIGURATION</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="IOCTL_VIDEO_VALIDATE_CHILD_STATE_CONFIGURATION">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Display&nbsp;and&nbsp;Print&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_ioctl_video_validate_child_state_configuration_gg"></A>IOCTL_VIDEO_VALIDATE_CHILD_STATE_CONFIGURATION</H1>

<H4>Operation</H4>

<P>Queries the miniport driver to determine whether it is ready for a display device switch. This switch is a state change in which the video signal going to one display device is sent to another, possibly different type of display device. After the display device switch, the video signal can be sent to one or both display devices. When the video port driver receives a request to switch display devices (by, for example, a hotkey being pressed), it sends this IOCTL to the video miniport driver. The value returned by the miniport driver indicates whether the video port driver should proceed with the display device switch. </P>

<P>When the miniport driver receives this request, it should indicate that it has successfully handled the request by:

<UL>
	<LI>Placing the appropriate value (described in the <B>Output</B> section) in <B>OutputBuffer</B></LI>

	<LI>Returning NO_ERROR in the <B>Status</B> member of the VRP's <B>StatusBlock</B> </LI>
</UL>

<P>The video miniport driver carries out a validated display device switch when it receives an <A HREF="virqs_2ecn.htm">IOCTL_VIDEO_SET_CHILD_STATE_CONFIGURATION</A> request.</P>

<P>The miniport driver is not required to handle this modal IOCTL. The video port driver interprets a default return value from the miniport driver as permission to proceed with the display device switch.</P>

<H4>Input</H4>

<P>The VRP <B>InputBuffer</B> contains a <A HREF="vstrcts_3rqf.htm">VIDEO_CHILD_STATE_CONFIGURATION</A> structure.</P>

<H4>Output</H4>

<P>The miniport driver returns 1 in the VRP <B>OutputBuffer</B> if the video port driver should proceed with the display device switch; otherwise, the driver returns 0 in the VRP <B>OutputBuffer</B>.</P>

<H4>Status Block</H4>

<P>The miniport driver stores NO_ERROR in <B>Status</B> if it has successfully handled this IOCTL; otherwise, the driver stores a relevant video error code in <B>Status</B>. In either case, the miniport driver sets the <B>Information</B> member of the <A HREF="vstrcts_00pz.htm">STATUS_BLOCK</A> structure to <B>sizeof</B>(ULONG).</P>

<H4>Headers</H4>

<P>Defined in <I>ntddvdeo.h</I>. Include <I>ntddvdeo.h</I>.</P>

<H4>See Also</H4>

<P><A HREF="virqs_2ecn.htm">IOCTL_VIDEO_SET_CHILD_STATE_CONFIGURATION</A>, <A HREF="vstrcts_3rqf.htm">VIDEO_CHILD_STATE_CONFIGURATION</A>, <A HREF="vstrcts_00pz.htm">STATUS_BLOCK</A> </P>

<P></P>

<P></P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: IOCTL_VIDEO_VALIDATE_CHILD_STATE_CONFIGURATION"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
