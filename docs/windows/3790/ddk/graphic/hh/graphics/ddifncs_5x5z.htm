<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>DrvCreateDeviceBitmap</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="DrvCreateDeviceBitmap">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Display&nbsp;and&nbsp;Print&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_drvcreatedevicebitmap_gg"></A><I>DrvCreateDeviceBitmap</I></H1>

<P>The <I>DrvCreateDeviceBitmap</I> function creates and manages bitmaps. </P>

<PRE class=syntax><B>HBITMAP
  </B><I>DrvCreateDeviceBitmap</I><B>(</B>
    <B>IN DHPDEV</B>  <I>dhpdev<B>,</B>
 <B>   </B></I><B>IN SIZEL</B>  <I>sizl<B>,</B>
</I>    <B>IN ULONG</B>  <I>iFormat</I>
<B>    );</B></PRE>

<H4>Parameters</H4>

<DL>
<DT><I>dhpdev</I></DT>

<DD>Handle to the PDEV that describes the physical device that an application has designated as the primary target for a bitmap. The format of the bitmap must be compatible with this physical device.</DD>

<DT><I>sizl</I></DT>

<DD>Specifies a SIZEL structure that contains the width and height of the bitmap to be created. The <B>cx</B> and <B>cy</B> members of this structure contain respectively, the bitmap's width and height, in pixels. A SIZEL structure is identical to a <A HREF="grstrcts_5q93.htm">SIZE</A> structure.</DD>

<DT><I>iFormat</I></DT>

<DD>Specifies the bitmap format, which indicates the required number of bits of color information per pixel, and always matches the format of the primary. This value can be one of the following:

<TABLE>

<TR VALIGN="top">
<TH align=left width=38%>Value</TH>
<TH align=left width=62%>Meaning</TH>
</TR>

<TR VALIGN="top">
<TD width=38%>BMF_8BPP</TD>
<TD width=62%>8 bits per pixel.</TD>
</TR>

<TR VALIGN="top">
<TD width=38%>BMF_16BPP</TD>
<TD width=62%>16 bits per pixel.</TD>
</TR>

<TR VALIGN="top">
<TD width=38%>BMF_24BPP</TD>
<TD width=62%>24 bits per pixel.</TD>
</TR>

<TR VALIGN="top">
<TD width=38%>BMF_32BPP</TD>
<TD width=62%>32 bits per pixel.</TD>
</TR>
</TABLE><BR>

</DD>
</DL>

<H4>Return Value</H4>

<P>The return value is a handle that identifies the created bitmap if the function is successful. If the driver chooses to let GDI create and manage the bitmap, the return value is zero. If an error occurs, the return value is 0xFFFFFFFF, and GDI logs an error code.</P>

<H4>Headers</H4>

<P>Declared in <I>winddi.h</I>. Include <I>winddi.h</I>.</P>

<H4>Comments</H4>

<P>If the driver creates the bitmap, it can store it anywhere and in any format. It is assumed that the driver will take into account the specifications of the parameters and provide a bitmap with at least as many bits per pixel as requested.</P>

<P>The contents of the created bitmap are undefined.</P>

<P>This function is optional. If this function is implemented, however, <A HREF="ddifncs_2lk7.htm"><I>DrvDeleteDeviceBitmap</I></A> must also be implemented.</P>

<H4>See Also</H4>

<P><A HREF="ddifncs_2lk7.htm"><I>DrvDeleteDeviceBitmap</I></A> </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: DrvCreateDeviceBitmap"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
