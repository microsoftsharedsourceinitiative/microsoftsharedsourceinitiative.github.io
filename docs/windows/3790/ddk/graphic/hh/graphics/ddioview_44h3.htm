<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Conditionally Required Graphics Driver Functions</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Conditionally Required Graphics Driver Functions">
</HEAD>
<BODY TOPMARGIN="0">
<DIV STYLE="display:none;">
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_drawing_functions_gg_gly">
</OBJECT>
<OBJECT ID="hhobj_2" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_dib_gg_gly">
</OBJECT>
<OBJECT ID="hhobj_3" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_device_managed_surface_gg_gly">
</OBJECT>
<OBJECT ID="hhobj_4" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_pdev_gg_gly">
</OBJECT>
</DIV>


<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Display&nbsp;and&nbsp;Print&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H2><A NAME="ddk_conditionally_required_graphics_driver_functions_gg"></A>Conditionally Required Graphics Driver Functions</H2>

<P>Besides the functions that are always required, certain other functions may be required, depending on how a driver is implemented. The conditionally-required functions are listed in the following table. If the driver manages its own primary surface (using the <A HREF="gdifncs_995z.htm"><B>EngCreateDeviceSurface</B></A> function to get a handle to the surface), or its own offscreen bitmaps, the driver must also support several <A HREF="JavaScript:hhobj_1.Click()">drawing functions</A>. Drivers writing to standard format <A HREF="JavaScript:hhobj_2.Click()">DIBs</A> usually allow GDI to manage most or all of these operations. Displays that support settable palettes must also support the <A HREF="ddifncs_9ep3.htm"><I>DrvSetPalette</I></A> function.</P>

<P>It is more common for a printer driver than a display driver to define or draw fonts. A display driver is not required to handle fonts. If the hardware has a resident font, the driver must supply information to GDI about this font. This information includes font metrics, mappings from Unicode to individual glyph identities, individual glyph attributes, and kerning tables.</P>

<TABLE>

<TR VALIGN="top">
<TH align=left width=40%>Entry Point</TH>
<TH align=left width=27%>When Required</TH>
<TH align=left width=33%>Description</TH>
</TR>

<TR VALIGN="top">
<TD width=40%><A HREF="ddifncs_27mv.htm"><I>DrvCopyBits</I></A></TD>
<TD width=27%><A HREF="JavaScript:hhobj_3.Click()">Device-managed surfaces</A></TD>
<TD width=33%>Translates between device-managed raster surfaces and GDI standard-format bitmaps.</TD>
</TR>

<TR VALIGN="top">
<TD width=40%><A HREF="ddifncs_30h3.htm"><I>DrvDescribePixelFormat</I></A></TD>
<TD width=27%>Displays that support windows with different pixel formats on a single surface</TD>
<TD width=33%>Describes a <A HREF="JavaScript:hhobj_4.Click()">PDEV’s</A> pixel format.</TD>
</TR>

<TR VALIGN="top">
<TD width=40%><A HREF="ddifncs_44kn.htm"><I>DrvGetTrueTypeFile</I></A></TD>
<TD width=27%>TrueType font drivers</TD>
<TD width=33%>Gives GDI access to a memory-mapped TrueType font file.</TD>
</TR>

<TR VALIGN="top">
<TD width=40%><A HREF="ddifncs_6vjb.htm"><I>DrvLoadFontFile</I></A></TD>
<TD width=27%>Font drivers</TD>
<TD width=33%>Specifies file to use for font realizations.</TD>
</TR>

<TR VALIGN="top">
<TD width=40%><A HREF="ddifncs_66uf.htm"><I>DrvQueryFont</I></A></TD>
<TD width=27%>Printer drivers</TD>
<TD width=33%>Retrieves a GDI structure for a given font.</TD>
</TR>

<TR VALIGN="top">
<TD width=40%><A HREF="ddifncs_8gmf.htm"><I>DrvQueryFontCaps</I></A></TD>
<TD width=27%>Font drivers</TD>
<TD width=33%>Asks driver for font driver capabilities.</TD>
</TR>

<TR VALIGN="top">
<TD width=40%><A HREF="ddifncs_2kvb.htm"><I>DrvQueryFontData</I></A></TD>
<TD width=27%>Printer drivers</TD>
<TD width=33%>Retrieves information about a realized font.</TD>
</TR>

<TR VALIGN="top">
<TD width=40%><A HREF="ddifncs_461z.htm"><I>DrvQueryFontFile</I></A></TD>
<TD width=27%>Font drivers</TD>
<TD width=33%>Asks driver for font file information.</TD>
</TR>

<TR VALIGN="top">
<TD width=40%><A HREF="ddifncs_9faf.htm"><I>DrvQueryFontTree</I></A></TD>
<TD width=27%>Printer drivers</TD>
<TD width=33%>Queries a tree structure defining one of three types of font mapping.</TD>
</TR>

<TR VALIGN="top">
<TD width=40%><A HREF="ddifncs_5wrr.htm"><I>DrvQueryTrueTypeOutline</I></A></TD>
<TD width=27%>TrueType font drivers</TD>
<TD width=33%>Returns TrueType glyph handles to GDI.</TD>
</TR>

<TR VALIGN="top">
<TD width=40%><A HREF="ddifncs_6oiv.htm"><I>DrvQueryTrueTypeTable</I></A></TD>
<TD width=27%>TrueType font drivers</TD>
<TD width=33%>Gives GDI access to TrueType font files.</TD>
</TR>

<TR VALIGN="top">
<TD width=40%><A HREF="ddifncs_6vqf.htm"><I>DrvResetPDEV</I></A></TD>
<TD width=27%>Devices that allow mode changes in documents</TD>
<TD width=33%>Transfers driver state from old PDEV to new PDEV.</TD>
</TR>

<TR VALIGN="top">
<TD width=40%><A HREF="ddifncs_9ep3.htm"><I>DrvSetPalette</I></A></TD>
<TD width=27%>Displays that support settable palettes</TD>
<TD width=33%>Realizes the palette for a specified device.</TD>
</TR>

<TR VALIGN="top">
<TD width=40%><A HREF="ddifncs_2uuf.htm"><I>DrvSetPixelFormat</I></A></TD>
<TD width=27%>Displays that support windows with different pixel formats on a single surface</TD>
<TD width=33%>Sets a window’s pixel format.</TD>
</TR>

<TR VALIGN="top">
<TD width=40%><A HREF="ddifncs_81ev.htm"><I>DrvStrokePath</I></A></TD>
<TD width=27%>Device-managed surfaces</TD>
<TD width=33%>Renders a path on the display.</TD>
</TR>

<TR VALIGN="top">
<TD width=40%><A HREF="ddifncs_9huv.htm"><I>DrvSwapBuffers</I></A></TD>
<TD width=27%>Drivers that support a pixel format with double buffering</TD>
<TD width=33%>Displays contents of a surface’s hidden buffer.</TD>
</TR>

<TR VALIGN="top">
<TD width=40%><A HREF="ddifncs_4kkn.htm"><I>DrvTextOut</I></A></TD>
<TD width=27%>Device-managed surfaces or drivers that define fonts</TD>
<TD width=33%>Renders a set of character images (glyphs) at specified positions.</TD>
</TR>

<TR VALIGN="top">
<TD width=40%><A HREF="ddifncs_6syv.htm"><I>DrvUnloadFontFile</I></A></TD>
<TD width=27%>Font drivers</TD>
<TD width=33%>Informs driver that a font file is not needed.</TD>
</TR>
</TABLE><BR>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Conditionally%20Required%20Graphics%20Driver%20Functions"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
