<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>GDI from the Driver's Perspective</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="GDI: driver">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Display&nbsp;and&nbsp;Print&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_gdi_from_the_driver.92.s_perspective_gg"></A>GDI from the Driver’s Perspective</H1>

<P>GDI is the intermediary support between a Windows®&nbsp;NT-based graphics driver and an application. Applications call Win32® GDI functions to make graphics output requests. These requests are routed to kernel-mode GDI. Kernel-mode GDI then sends these requests to the appropriate graphics driver, such as a display driver or printer driver. Kernel-mode GDI is a system-supplied module that cannot be replaced.</P>

<P>GDI communicates with the graphics driver through a set of graphics device driver interface (graphics DDI) functions. These functions are identified by their <I>Drv</I> prefix. Information is passed between GDI and the driver through the input/output parameters of these entry points. The driver <I>must</I> support certain <I>DrvXxx</I> functions for GDI to call. The driver supports GDI’s requests by performing the appropriate operations on its associated hardware before returning to GDI.</P>

<P>GDI includes many graphics output capabilities in itself, eliminating the need for the driver to support these capabilities and thereby making it possible to reduce the size of the driver. GDI also exports service functions that the driver can call, further reducing the amount of support the driver must provide. GDI service functions are identified by their <B>Eng</B> prefix, and functions that provide access to<I> </I>GDI-maintained structures have names in the form <I>Xxx</I><B>OBJ<I>_</I></B><I>Xxx</I>.</P>

<P>The following figure shows this flow of communication.</P>

<P><IMG SRC="images/gditoddi.gif" ALT="" BORDER=0></P>

<P><B>Graphics Driver and GDI Interaction</B></P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: GDI%20from%20the%20Driver's%20Perspective"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
