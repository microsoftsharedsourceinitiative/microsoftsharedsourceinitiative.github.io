<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>DDRAWI_DDRAWSURFACE_MORE</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="DDRAWI_DDRAWSURFACE_MORE">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Display&nbsp;and&nbsp;Print&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_ddrawi_ddrawsurface_more_gg"></A>DDRAWI_DDRAWSURFACE_MORE</H1>

<P>The DDRAWI_DDRAWSURFACE_MORE structure contains additional local data for each individual DirectDrawSurface object. </P>

<PRE class=syntax>typedef struct _DDRAWI_DDRAWSURFACE_MORE {
  DWORD  dwSize;
  IUNKNOWN_LIST  FAR  *lpIUnknowns;
  LPDDRAWI_DIRECTDRAW_LCL  lpDD_lcl;
  DWORD  dwPageLockCount;
  DWORD  dwBytesAllocated;
  LPDDRAWI_DIRECTDRAW_INT  lpDD_int;
  DWORD  dwMipMapCount;
  LPDDRAWI_DDRAWCLIPPER_INT  lpDDIClipper;
  LPHEAPALIASINFO  lpHeapAliasInfo;
  DWORD  dwOverlayFlags;
  VOID  *rgjunc;
  LPDDRAWI_DDVIDEOPORT_LCL  lpVideoPort;
  LPDDOVERLAYFX  lpddOverlayFX;
  DDSCAPSEX  ddsCapsEx;
  DWORD  dwTextureStage;
  LPVOID  lpDDRAWReserved;
  LPVOID  lpDDRAWReserved2;
  LPVOID  lpDDrawReserved3;
  DWORD  dwDDrawReserved4;
  LPVOID  lpDDrawReserved5;
  LPDWORD  lpGammaRamp;
  LPDWORD  lpOriginalGammaRamp;
  LPVOID  lpDDrawReserved6;
#ifndef WIN95
  DISPLAYMODEINFO  dmiDDrawReserved7;
#endif
  DWORD  dwSurfaceHandle;
  DWORD  qwDDrawReserved8[2];
  LPVOID  lpDDrawReserved9;
  DWORD  cSurfaces;
  LPDDSURFACEDESC2  pCreatedDDSurfaceDesc2;
  LPDDRAWI_DDRAWSURFACE_LCL *slist;
  DWORD  dwFVF;
  PVOID  lpVB;
} DDRAWI_DDRAWSURFACE_MORE;</PRE>

<H4>Members</H4>

<DL>
<DT><B>dwSize</B></DT>

<DD>Specifies the size of this structure. This member must be initialized before the structure is used.</DD>

<DT><B>lpIUnknowns</B></DT>

<DD>Used by DirectDraw and should not be filled in by the driver.<B> </B></DD>

<DT><B>lpDD_lcl</B></DT>

<DD>Used by DirectDraw and should not be filled in by the driver.<B> </B></DD>

<DT><B>dwPageLockCount</B></DT>

<DD>Used by DirectDraw and should not be filled in by the driver.<B> </B></DD>

<DT><B>dwBytesAllocated</B></DT>

<DD>Used by DirectDraw and should not be filled in by the driver.<B> </B></DD>

<DT><B>lpDD_int</B></DT>

<DD>Used by DirectDraw and should not be filled in by the driver.<B> </B></DD>

<DT><B>dwMipMapCount</B></DT>

<DD>Contains the number of MIP map levels in the chain.</DD>

<DT><B>lpDDIClipper</B></DT>

<DD>Used by DirectDraw and should not be filled in by the driver.<B> </B></DD>

<DT><B>lpHeapAliasInfo</B></DT>

<DD>Used by DirectDraw and should not be filled in by the driver.<B> </B></DD>

<DT><B>dwOverlayFlags</B></DT>

<DD>Contains the overlay flags most recently passed to <B>UpdateOverlay</B>.

<TABLE>

<TR VALIGN="top">
<TH align=left width=48%>Flag</TH>
<TH align=left width=52%>Meaning</TH>
</TR>

<TR VALIGN="top">
<TD width=48%>DDOVER_ADDDIRTYRECT</TD>
<TD width=52%>Add a dirty rectangle to an emulated overlaid surface.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>DDOVER_ALPHADEST</TD>
<TD width=52%>Use the alpha information in the pixel format or the alpha channel surface attached to the destination surface as the alpha channel for the destination overlay.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>DDOVER_ALPHADESTCONSTOVERRIDE</TD>
<TD width=52%>Use the <B>dwConstAlphaDest</B> field in the DDOVERLAYFX structure (defined in the DirectDraw SDK documentation) as the destination alpha channel for this overlay.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>DDOVER_ALPHADESTNEG</TD>
<TD width=52%>The NEG suffix indicates that the destination surface becomes more transparent as the alpha value increases.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>DDOVER_ALPHADESTSURFACEOVERRIDE</TD>
<TD width=52%>Use the <B>lpDDSAlphaDest</B> field in the DDOVERLAYFX structure (defined in the DirectDraw SDK documentation) as the alpha channel destination for this overlay.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>DDOVER_ALPHAEDGEBLEND</TD>
<TD width=52%>Use the <B>dwAlphaEdgeBlend</B> field in the DDOVERLAYFX structure (defined in the DirectDraw SDK documentation) as the alpha channel for the edges of the image that border the color key colors.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>DDOVER_ALPHASRC</TD>
<TD width=52%>Use the alpha information in the pixel format or the alpha channel surface attached to the source surface as the source alpha channel for this overlay.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>DDOVER_ALPHASRCCONSTOVERRIDE</TD>
<TD width=52%>Use the <B>dwConstAlphaSrc</B> field in the DDOVERLAYFX structure (defined in the DirectDraw SDK documentation) as the source alpha channel for this overlay.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>DDOVER_ALPHASRCNEG</TD>
<TD width=52%>The NEG suffix indicates that the source surface becomes more transparent as the alpha value increases.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>DDOVER_ALPHASRCSURFACEOVERRIDE</TD>
<TD width=52%>Use the <B>lpDDSAlphaSrc</B> field in the DDOVERLAYFX structure (defined in the DirectDraw SDK documentaion) as the alpha channel source for this overlay.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>DDOVER_ARGBSCALEFACTORS</TD>
<TD width=52%>The DDOVERLAYFX structure (defined in the DirectDraw SDK documentation) contains valid ARGB scaling factors.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>DDOVER_AUTOFLIP</TD>
<TD width=52%>Autoflip the overlay whenever the video port autoflips.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>DDOVER_BOB</TD>
<TD width=52%>Display each field of video port data individually without causing any jittery artifacts.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>DDOVER_BOBHARDWARE</TD>
<TD width=52%>Bob will be performed using hardware rather than software or emulation.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>DDOVER_DDFX</TD>
<TD width=52%>Use the overlay FX flags to define special overlay FX.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>DDOVER_DEGRADEARGBSCALING</TD>
<TD width=52%>ARGB scaling factors can be degraded to conform with driver capabilities.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>DDOVER_HIDE</TD>
<TD width=52%>Turn this overlay off.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>DDOVER_INTERLEAVED</TD>
<TD width=52%>The surface memory is composed of interleaved fields.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>DDOVER_KEYDEST</TD>
<TD width=52%>Use the color key associated with the destination surface.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>DDOVER_KEYDESTOVERRIDE</TD>
<TD width=52%>Use the <B>dckDestColorkey</B> field in the DDOVERLAYFX structure (defined in the DirectDraw SDK documentation) as the color key for the destination surface.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>DDOVER_KEYSRC</TD>
<TD width=52%>Use the color key associated with the source surface.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>DDOVER_KEYSRCOVERRIDE</TD>
<TD width=52%>Use the <B>dckSrcColorkey</B> field in the DDOVERLAYFX structure as the color key for the source surface.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>DDOVER_OVERRIDEBOBWEAVE</TD>
<TD width=52%>Bob/weave decisions should not be overridden by other interfaces.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>DDOVER_REFRESHALL</TD>
<TD width=52%>Redraw the entire surface on an emulated overlaid surface.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>DDOVER_REFRESHDIRTYRECTS</TD>
<TD width=52%>Redraw all dirty rectangles on an emulated overlaid surface.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>DDOVER_SHOW</TD>
<TD width=52%>Turn this overlay on.</TD>
</TR>
</TABLE><BR>

</DD>

<DT><B>rgjunc</B></DT>

<DD>Used by DirectDraw and should not be filled in by the driver.<B> </B></DD>

<DT><B>lpVideoPort</B></DT>

<DD>Points to a <A HREF="ddstrcts_5l47.htm">DDRAWI_DDVIDEOPORT_LCL</A> structure of the video port currently writing data to this surface.</DD>

<DT><B>lpddOverlayFX</B></DT>

<DD>Points to a DDOVERLAYFX structure (defined in the DirectDraw SDK documentation) that contains the current overlay FX. </DD>

<DT><B>ddsCapsEx</B></DT>

<DD>Specifies a DDSCAPSEX structure that defines additional capabilities of a DirectDraw surface object. A DDSCAPSEX structure is the same as a <A HREF="ddstrcts_3jqf.htm">DDSCAPS2</A> structure without the <B>dwCaps</B> member. </DD>

<DT><B>dwTextureStage</B></DT>

<DD>Specifies the stage in a multitexture cascade.</DD>

<DT><B>lpDDRAWReserved</B></DT>

<DD>Reserved for system use. The driver should ignore this member.</DD>

<DT><B>lpDDRAWReserved2</B></DT>

<DD>Reserved for system use. The driver should ignore this member.</DD>

<DT><B>lpDDrawReserved3</B></DT>

<DD>Reserved for system use. The driver should ignore this member.</DD>

<DT><B>dwDDrawReserved4</B></DT>

<DD>Reserved for system use. The driver should ignore this member.</DD>

<DT><B>lpDDrawReserved5</B></DT>

<DD>Reserved for system use. The driver should ignore this member.</DD>

<DT><B>lpGammaRamp</B></DT>

<DD>Used by DirectDraw and should not be filled in by the driver.</DD>

<DT><B>lpOriginalGammaRamp</B></DT>

<DD>Used by DirectDraw and should not be filled in by the driver.</DD>

<DT><B>lpDDrawReserved6</B></DT>

<DD>Reserved for system use. The driver should ignore this member.</DD>

<DT><B>dmiDDrawReserved7</B></DT>

<DD>Reserved for system use. The driver should ignore this member.</DD>

<DT><B>dwSurfaceHandle</B></DT>

<DD>Specifies a cookie for use with the driver's <A HREF="d3dfncs_0gtj.htm"><I>D3dCreateSurfaceEx</I></A> DDI.</DD>

<DT><B>qwDDrawReserved8</B></DT>

<DD>Reserved for system use. The driver should ignore this member.</DD>

<DT><B>lpDDrawReserved9</B></DT>

<DD>Reserved for system use. The driver should ignore this member.</DD>

<DT><B>cSurfaces</B></DT>

<DD>Used by DirectDraw and should not be filled in by the driver.</DD>

<DT><B>pCreatedDDSurfaceDesc2</B></DT>

<DD>Used by DirectDraw and should not be filled in by the driver.</DD>

<DT><B>slist</B></DT>

<DD>Used by DirectDraw and should not be filled in by the driver.</DD>

<DT><B>dwFVF</B></DT>

<DD>Specifies the saved FVF flags for execute buffers.</DD>

<DT><B>lpVB</B></DT>

<DD>Used by DirectDraw and should not be filled in by the driver.
</DD>
</DL>

<H4>Headers</H4>

<P>Defined in <I>ddrawi.h</I>. Include <I>ddrawi.h</I>.</P>

<H4>Comments</H4>

<P>The DDRAWI_DDRAWSURFACE_MORE structure is similar in purpose to the Windows&nbsp;2000 and later structure, <A HREF="ddstrcts_3esn.htm">DD_SURFACE_MORE</A>.</P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: DDRAWI_DDRAWSURFACE_MORE"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
