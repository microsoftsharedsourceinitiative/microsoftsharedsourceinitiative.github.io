<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>TEXM3x3SPEC Instruction</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="TEXM3x3SPEC Instruction">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Display&nbsp;and&nbsp;Print&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H2><A NAME="ddk_texm3x3spec_instruction_gg"></A>TEXM3x3SPEC Instruction</H2>

<P>The TEXM3x3SPEC instruction performs a 3x3 matrix multiply and uses the result to perform a texture lookup.</P>

<H4>Format</H4>

<P class=indent1><A HREF="d3denum_62sn.htm">instruction token</A> that contains D3DSIO_TEXM3x3SPEC. </P>

<P class=indent1><A HREF="d3denum_5mp3.htm">destination parameter token</A> </P>

<P class=indent1>first <A HREF="d3denum_6jon.htm">source parameter token</A></P>

<P class=indent1>second source parameter token</P>

<H4>Comments</H4>

<P>The TEXM3x3SPEC instruction must be used with two <A HREF="d3denum_090n.htm">TEXM3x3PAD instructions</A>. This instruction set can be used for specular reflection and environment mapping.</P>

<P>The TEXM3x3SPEC instruction performs the final row of a 3x3 matrix multiply, uses the resulting vector as a normal vector to reflect an eye-ray vector, and then uses the reflected vector to perform a texture lookup. The shader reads the eye-ray vector from a constant register. The 3x3 matrix multiply is typically useful for orienting a normal vector to the correct tangent space for the surface being rendered.</P>

<P>The 3x3 matrix is comprised of the texture coordinates of the third texture stage and the two preceding texture stages. The resulting post reflection vector (U,V,W) is used to sample the texture on the final texture stage. Any texture assigned to the preceding two texture stages is ignored.</P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: TEXM3x3SPEC%20Instruction"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
