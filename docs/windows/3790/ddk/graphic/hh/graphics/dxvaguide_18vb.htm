<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>ProcAmpControlQueryCaps</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="ProcAmpControlQueryCaps">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Display&nbsp;and&nbsp;Print&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_procampcontrolquerycaps_gg"></A><I>ProcAmpControlQueryCaps</I></H1>

<P>The sample <I>ProcAmpControlQueryCaps</I> function allows the VMR to query the driver to determine input requirements of the ProcAmp control device and additional video processing operations that might be supported at the same time as the ProcAmp adjustments operation is being performed.</P>

<PRE class=syntax><B>HRESULT
</B>  <I>ProcAmpControlQueryCaps</I><B>(</B>
    [<B>in</B>] <B>DXVA_VideoDesc</B>*  <I>lpVideoDescription</I>, 
    [<B>out</B>] <B>DXVA_ProcAmpControlCaps</B>*  <I>lpProcAmpCaps</I>
    <B>);</B></PRE>

<H4>Parameters</H4>

<DL>
<DT><I>lpVideoDescription</I></DT>

<DD>Pointer to a <A HREF="dxvaref_3t0n.htm">DXVA_VideoDesc</A> structure that defines the ProcAmp control parameters for the video to be processed.</DD>

<DT><I>lpProcAmpCaps</I></DT>

<DD>Pointer to a <A HREF="dxvaref_2vjb.htm">DXVA_ProcAmpControlCaps</A> structure that contains the driver capabilities for ProcAmp control operations.</DD>
</DL>

<H4>Return Value</H4>

<P>S_OK</P>

<H4>Comments</H4>

<P>The driver reports its capabilities to a user-mode component for that ProcAmp control mode in the <A HREF="dxvaref_2vjb.htm">DXVA_ProcAmpControlCaps</A> structure pointed to by <I>lpProcAmpCaps</I>.</P>

<P>The sample <I>ProcAmpControlQueryCaps</I> function maps directly to a call to the <B>RenderMoComp</B> member of the <A HREF="ddstrcts_0qav.htm">DD_MOTIONCOMPCALLBACKS</A> structure in the deinterlace container device. <B>RenderMoComp</B> points to the driver-supplied <I>DdMoCompRender</I> callback that references the <A HREF="ddstrcts_5jtz.htm">DD_RENDERMOCOMPDATA</A> structure. The DD_RENDERMOCOMPDATA structure is completed as follows:</P>

<TABLE>

<TR VALIGN="top">
<TH align=left width=45%>Member</TH>
<TH align=left width=55%>Value</TH>
</TR>

<TR VALIGN="top">
<TD width=45%><B>dwNumBuffers</B></TD>
<TD width=55%>Zero</TD>
</TR>

<TR VALIGN="top">
<TD width=45%><B>lpBufferInfo</B></TD>
<TD width=55%>NULL</TD>
</TR>

<TR VALIGN="top">
<TD width=45%><B>dwFunction</B></TD>
<TD width=55%>DXVA_ProcAmpControlQueryCapsFnCode constant (defined in <I>dxva.h</I>)</TD>
</TR>

<TR VALIGN="top">
<TD width=45%><B>lpInputData</B></TD>
<TD width=55%>Pointer to a completed <A HREF="dxvaref_3t0n.htm">DXVA_VideoDesc</A> structure.</TD>
</TR>

<TR VALIGN="top">
<TD width=45%><B>lpOutputData</B></TD>
<TD width=55%>Pointer to a <A HREF="dxvaref_2vjb.htm">DXVA_ProcAmpControlCaps</A> structure.</TD>
</TR>
</TABLE><BR>

<P>Note that the DirectX VA container device’s <B>RenderMoComp</B> function will be called without <B>BeginMoCompFrame</B> or <B>EndMoCompFrame</B> being called first.</P>

<H4>See Also</H4>

<P><A HREF="dxvaref_3t0n.htm">DXVA_VideoDesc</A>, <A HREF="dxvaref_2vjb.htm">DXVA_ProcAmpControlCaps</A>, <A HREF="ddstrcts_0qav.htm">DD_MOTIONCOMPCALLBACKS</A>, <A HREF="ddstrcts_5jtz.htm">DD_RENDERMOCOMPDATA</A></P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: ProcAmpControlQueryCaps"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
