<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Setting and Retrieving Gamma Ramp Levels</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Setting and Retrieving Gamma Ramp Levels">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Display&nbsp;and&nbsp;Print&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H3><A NAME="ddk_setting_and_retrieving_gamma_ramp_levels_gg"></A>Setting and Retrieving Gamma Ramp Levels</H3>

<P><B>This topic applies only to Windows Me.</B></P>

<P>Gamma ramp levels are effectively lookup tables that DirectDraw uses to map the frame buffer color components to new levels that will be displayed. You set and retrieve ramp levels for the primary surface by calling the <A HREF="ddfncs_5qqv.htm"><B>IDirectDrawGammaControl::SetGammaRamp</B></A> and <A HREF="ddfncs_08tj.htm"><B>IDirectDrawGammaControl::GetGammaRamp</B></A> methods.</P>

<P>The first parameter is the pointer to the IDIRECTDRAWGAMMACONTROL structure. The next parameter specifies the flags, which for the <B>IDirectDrawGammaControl::GetGammaRamp</B> call must be 0. For the <B>IDirectDrawGammaControl::SetGammaRamp</B> call, this parameter may be DDSGR_CALIBRATE. If this flag is set, then DirectDraw calibrates the gamma ramp; otherwise, it sets the gamma ramp without calibrating it. The last parameter is the pointer to the <A HREF="ddstrcts_4h0n.htm">DDGAMMARAMP</A> structure that contains three 256-element arrays of WORDs, one array each to contain the red, green, and blue gamma ramps.</P>

<P>Games that use this function should always provide values ranging between 0 and 0xFFFF. DACs vary in resolution; DACs that support fewer than 16 bits ignore the least significant bits of the gamma ramp entries.</P>

<P>The gamma ramp values that the application calls should range between 0 and 0xFFFF, just as in the <A HREF="ddfncs_3s4n.htm"><B>SetDeviceGammaRamp</B></A> and <A HREF="ddfncs_627b.htm"><B>GetDeviceGammaRamp</B></A> calls. The driver may need to perform some additional converting. For all, the covered range is the same with only a difference in accuracy.</P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Setting%20and%20Retrieving%20Gamma%20Ramp%20Levels"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
