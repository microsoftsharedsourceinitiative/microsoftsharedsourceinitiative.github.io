<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Notifying about DirectX Version</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Notifying about DirectX Version">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Display&nbsp;and&nbsp;Print&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H3><A NAME="ddk_notifying_about_directx_version_gg"></A>Notifying about DirectX Version</H3>

<P>DirectX 8.0 and later drivers are always notified about the DirectX runtime version being used by an application in a <A HREF="d3dstrct_2ucn.htm#ddk_d3dgdi2_type_dxversion_gg">D3DGDI2_TYPE_DXVERSION</A> request so they can report device capabilities for the version. In addition, because an application requests operations on surfaces with various pixel formats, DirectX 9.0 and later drivers are also notified about the DirectX runtime version that the application supports in <A HREF="d3dstrct_2ucn.htm#ddk_d3dgdi2_type_getformatcount_gg">D3DGDI2_TYPE_GETFORMATCOUNT</A> and <A HREF="d3dstrct_2ucn.htm#ddk_d3dgdi2_type_getformat_gg">D3DGDI2_TYPE_GETFORMAT</A> queries so those drivers can appropriately handle the operations for the version. </P>

<P>For example, for version 8.0 of the DirectX runtime, a DirectX 9.0 or later driver can set the number of samples for a multiple-sampled surface using elements of the D3DMULTISAMPLE_TYPE enumerated type regardless of whether the driver supports maskable multisampling. However, for version 9.0 of the DirectX runtime, a DirectX 9.0 or later driver must not set D3DMULTISAMPLE_TYPE bits in the DDSCAPS3_MULTISAMPLE_MASK mask unless the driver supports the bits as maskable. For more information about D3DMULTISAMPLE_TYPE, see the DirectX SDK documentation.</P>

<P>In a D3DGDI2_TYPE_GETFORMATCOUNT query, the DirectX 9.0 driver is notified of the runtime version in the <B>dwReserved</B> member of the <A HREF="d3dstrct_9hgn.htm">DD_GETFORMATCOUNTDATA</A> structure. The <B>dwReserved</B> member is set to DD_RUNTIME_VERSION, which is 0x00000900 for DirectX 9.0.</P>

<P>In a D3DGDI2_TYPE_GETFORMAT query, the DirectX 9.0 driver is notified of the runtime version in the <B>dwSize</B> member of the DDPIXELFORMAT structure that is specified in the <B>format</B> member of the <A HREF="d3dstrct_95pk.htm">DD_GETFORMATDATA</A> structure. The <B>dwSize</B> member is also set to DD_RUNTIME_VERSION.</P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Notifying%20about%20DirectX%20Version"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
