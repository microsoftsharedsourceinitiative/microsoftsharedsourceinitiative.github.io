<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Customized Data Stream Compression</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Customized Data Stream Compression">
</HEAD>
<BODY TOPMARGIN="0">
<DIV STYLE="display:none;">
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_gpd_gg_gly">
</OBJECT>
</DIV>


<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Display&nbsp;and&nbsp;Print&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H3><A NAME="ddk_customized_data_stream_compression_gg"></A>Customized Data Stream Compression</H3>

<P>Unidrv allows data compression operations to be performed by customized code. To perform customized compression operations, do the following:

<OL>
	<LI>Provide a rendering plug-in that implements the <A HREF="drvrfnc_4m93.htm"><B>IPrintOemUni::Compression</B></A> method.</LI>

	<LI>Include a <A HREF="nt5gpd_7up3.htm#ddk_cmdenableoemcomp_gg"><B>CmdEnableOEMComp</B></A> command entry in the printer's <A HREF="JavaScript:hhobj_1.Click()">generic printer description (GPD)</A> file.</LI>
</OL>

<P>The <B>IPrintOemUni::Compression</B> method receives scan line data as input. The method must compress the data and then return the result to Unidrv. The <B>CmdEnableOEMComp</B> command entry specifies the command that must be sent to the printer so the printer can accept the compressed data. For each scan line that is to be sent to the printer, Unidrv calls <B>IPrintOemUni::Compression</B> to compress the scan line data. Then, if this is the only compression method available, Unidrv sends to the printer the command specified by the <B>CmdEnableOEMComp</B> command entry, followed by the compressed data.</P>

<P>If the printer minidriver contains GPD entries that also enable Unidrv-supported compression methods, Unidrv tries each compression algorithm for each scan line and chooses the algorithm that produces the best result. For more information about Unidrv's compression capabilities, see <A HREF="nt5gpd_6c2w.htm">Compressing Raster Data</A>.</P>

<P>Only one customized compression method can be enabled at one time.</P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Customized%20Data%20Stream%20Compression"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
