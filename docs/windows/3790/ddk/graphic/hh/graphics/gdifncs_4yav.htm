<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>EngSetPointerTag</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="EngSetPointerTag">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Display&nbsp;and&nbsp;Print&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_engsetpointertag_gg"></A>EngSetPointerTag</H1>

<P>The <B>EngSetPointerTag</B> function is <B>obsolete</B> for Windows&nbsp;2000 and later operating system versions. This function is still supported, but always returns FALSE.</P>

<P><B>EngSetPointerTag</B> creates a shape that is unioned with the application's pointer shape on <A HREF="ddifncs_799j.htm"><I>DrvSetPointerShape</I></A> calls to other associated drivers in a mirrored system.</P>

<PRE class=syntax><B>BOOL
  EngSetPointerTag(</B>
<B>    IN HDEV</B>  <I>hdev</I><B>,</B>
<B>    IN SURFOBJ</B>  <I>*psoMask</I><B>,</B>
<B>    IN SURFOBJ</B>  <I>*psoColor</I><B>,</B>
<B>    IN XLATEOBJ</B>  <I>*pxlo</I><B>,</B>
<B>    IN FLONG</B>  <I>fl</I>
<B>    );</B></PRE>

<H4>Parameters</H4>

<DL>
<DT><I>hdev</I></DT>

<DD>Handle to the device. This handle is the GDI handle received by the driver as the <I>hdev</I> parameter for <A HREF="ddifncs_13xj.htm"><I>DrvCompletePDEV</I></A>.</DD>

<DT><I>psoMask</I></DT>

<DD>Pointer to a 1bpp <A HREF="grstrcts_3rtz.htm">SURFOBJ</A> structure that describes the monochrome components of the tag. The dimensions of this bitmap determine the size of the tag. There are no implicit constraints on tag sizes, but optimal tag sizes are 32 x 32, 48 x 48, and 64 x 64 pixels. GDI removes the current tag when this value is NULL.</DD>

<DT><I>psoColor</I></DT>

<DD>Pointer to a SURFOBJ structure in the same color format as the calling driver. This value can be NULL if the tag contains no color components. The color bitmap has the same width as <I>psoInputMask</I> and half the height.</DD>

<DT><I>pxlo</I></DT>

<DD>Reserved for system use; must be set to NULL.</DD>

<DT><I>fl</I></DT>

<DD>Reserved for system use; must be set to zero.
</DD>
</DL>

<H4>Return Value</H4>

<P><B>EngSetPointerTag</B> returns TRUE when it successfully applies the tag. Otherwise, it returns FALSE. For Windows&nbsp;2000 and later, this function always returns FALSE.</P>

<H4>Headers</H4>

<P>Declared in <I>winddi.h</I>. Include <I>winddi.h</I>.</P>

<H4>Comments</H4>

<P>A remote-control driver can call <B>EngSetPointerTag</B> to tag a pointer shape to denote control of the system. Once the remote-control driver sets a tag, GDI will automatically composite it with all pointer shapes generated by the system, until the driver removes or changes the tag.</P>

<P>The driver that calls <B>EngSetPointerShape</B> never gets its own tag applied to its own <A HREF="ddifncs_799j.htm"><I>DrvSetPointerShape</I></A> calls by GDI; only other drivers in the mirrored system get the tag applied.</P>

<P>If <I>psoColor</I> is NULL, <I>psoMask</I> points to a monochrome surface that is twice as high as it is wide. The top half contains the monochrome AND mask, and the bottom half contains the monochrome XOR mask.</P>

<P>If <I>psoColor</I> is not NULL, <I>psoMask</I> contains only the monochrome AND mask and <I>psoColor</I> contains the color XOR surface. This color surface must be in the same color format as the driver. GDI joins the shapes by anchoring the upper-left corners of each bitmap.</P>

<P>GDI makes copies of <I>psoMask</I> and <I>psoColor</I>, so the surfaces passed in by the driver can be deleted immediately after calling <B>EngSetPointerTag</B>.</P>

<P>The results of <B>EngSetPointerTag</B> take effect on the next pointer shape call generated by the system.</P>

<H4>See Also</H4>

<P><A HREF="ddifncs_799j.htm"><I>DrvSetPointerShape</I></A>, <A HREF="gdifncs_1y5j.htm"><B>EngSetPointerShape</B></A>, <A HREF="grstrcts_3rtz.htm">SURFOBJ</A> </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: EngSetPointerTag"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
