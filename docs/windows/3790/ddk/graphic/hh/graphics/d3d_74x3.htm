<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Reporting Support for Programmable Vertex Processing Hardware</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Reporting Support for Programmable Vertex Processing Hardware">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Display&nbsp;and&nbsp;Print&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H4><A NAME="ddk_reporting_support_for_programmable_vertex_processing_hardware_gg"></A>Reporting Support for Programmable Vertex Processing Hardware</H4>

<P>For a DirectX 8.0 level driver to report support for programmable vertex shader hardware it must set the <B>VertexShaderVersion</B> field of the D3DCAPS8 structure to a valid, nonzero vertex shader version number. The <B>VertexShaderVersion</B> is a DWORD where the most significant word must have the value 0xFFFE and the least significant word holds the actual version number. The least significant byte of this word holds the minor version number and the most significant byte holds the major version number. Because the format of this DWORD is complex, the driver must set the value of <B>VertexShaderVersion</B> using the macro D3DVS_VERSION defined in <I>d3d8types.h</I>. For example, the following code fragment sets the <B>VertexShaderVersion</B> to indicate support for 1.0 level functionality.</P>

<PRE>myD3DCaps8.VertexShaderVersion = D3DVS_VERSION(1, 0);</PRE>

<P>To report no support for programmable vertex shaders, the following code fragment would be used:</P>

<PRE>myD3DCaps8.VertexShaderVersion = D3DVS_VERSION(0, 0);</PRE>

<P>Drivers that do not support programmable vertex processing should set <B>VertexShaderVersion</B> to zero.</P>

<P>In addition to setting the vertex shader version, the driver should report the number of constant registers it has for vertex shading. In order to support the 1.0 vertex shading specification, the device must have at least 96 constant registers. The driver reports the number of constant registers in the <B>MaxVertexShaderConst</B> field of the D3DCAPS8 structure. For example, the following code fragment reports the minimum number of constant registers required for version 1.0 vertex shaders.</P>

<PRE>myD3DCaps8.MaxVertexShaderConst = 96;</PRE>

<P><I>d3d8types.h</I> defines a symbol for the minimum number of constant registers required by version 1.0 of the vertex shader specification. This symbol is D3DVS_CONSTREG_MAX_V1_0 and it is recommended that the driver use this symbol unless it supports more than 96 constant registers.</P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Reporting%20Support%20for%20Programmable%20Vertex%20Processing%20Hardware"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
