<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Using Presets</TITLE>
<META Name="InChm" Content="True">
<META name="rtfFileName" content="prefast.rtf">
<!--CSS_START-->
<SCRIPT SRC="../scripts/dtuelink.js"></SCRIPT>
<!--CSS_END--></HEAD>
<body topmargin=0 id="bodyID" class = "dtBODY">

<!--NONSCROLLING BANNER START-->
<div id="nsbanner">
<div id="bannerrow1">
<TABLE CLASS="bannerparthead" CELLSPACING=0>
<TR ID="hdr">
<TD CLASS="runninghead" nowrap>PREfast&nbsp;User&nbsp;Guide</TD>
<TD CLASS="product" nowrap>&nbsp;</TD>
</TR>
</TABLE>
</div>
<div id="TitleRow">
<H1 class="dtH1"><A NAME="vcgrfusingpresets"></A>Using Presets</H1>
</div></div>
<!--NONSCROLLING BANNER END-->
<DIV id="nstext" valign="bottom">
<div id="allHistory" class="saveHistory" onsave="saveAll()" onload="loadAll()"></div><!-- Topic Status -->
<P>A preset is a predetermined list of chosen filters and warnings. PREfast comes with a standard preset that can be applied to your message list.</P>

<P>Use the /FILTERPRESET switch to enable a filter preset for the <A HREF="vcgrflist.htm">LIST</A> or <A HREF="vcgrfview.htm">VIEW</A> commands.</P>

<P>For example:</P>

<PRE class="code"><code><b class="cfe">prefast /FILTERPRESET=</b></code><I>filtername</I><code class="ce"> </code><code><b class="cfe">LIST</b></code></PRE>

<P>Filter presets are case sensitive.</P>

<H2 class="dtH2">WINPFT Preset</H2>

<P>PREfast includes the WINPFT preset, which filters messages that may not be relevant. The WINPFT filter preset is identical to the WSPMIN filter preset.</P>

<PRE class="code"><code class="ce">prefast /filterpreset=winpft view
prefast /filterpreset=winpft list </code></PRE>

<P>This applies the WINPFT preset at the time of your PREfast run. The result is a log file containing all defects found during the run and a message list showing only those defects not filtered out by the WINPFT preset.</P>

<P>Note that the <code class="ce">/filterpreset</code> option limits your view to the target issues in the following section. You can omit this switch to view more errors.</P>

<H2 class="dtH2">Target Issues</H2>

<P>Using the WINPFT filter preset limits your message list to the following warnings:

<UL type="disc">
	<LI>29 - Possible buffer overrun in call to &lt;function&gt;.</li>

	<LI>53 - Call to &lt;function&gt; may not zero-terminate string &lt;variable&gt;.</li>

	<LI>56 - Call to &lt;function&gt; does not validate buffer size.</li>

	<LI>57 - Buffer overrun due to number of characters/number of bytes mismatch in call to &lt;function&gt;.</li>

	<LI>59 - Misuse of length parameter in call to &lt;function&gt;.</li>

	<LI>63 - Format string mismatch.</li>

	<LI>67 - Format string mismatch.</li>

	<LI>201 - Buffer overrun for stack buffer &lt;variable&gt;.</li>

	<LI>202 - Buffer overrun for stack buffer &lt;variable&gt; in call to &lt;function&gt;.</li>

	<LI>205 - Stack buffer overrun in &lt;variable&gt; in call to evil function &lt;function&gt;.</li>

	<LI>207 - Buffer overrun in call to evil function &lt;function&gt;.</li>

	<LI>241 - Value returned from the finally-block overrides the value returned from its corresponding try-block.</li>

	<LI>243 - Return from a finally-block halts global unwind.</li>

	<LI>248 - Setting a SECURITY_DESCRIPTOR's DACL to NULL will result in an unprotected object.</li>

	<LI>252 - Untagged pool allocation.</li>

	<LI>259 - Labeled code is unreachable.</li>

	<LI>260 - Sizeof * Sizeof is almost always wrong.</li>

	<LI>268 - Incorrect order of operations.</li>

	<LI>276 - Cast between semantically different string types.</li>

	<LI>277 - Dangerous call to CreateProcess.</li>

	<LI>281 - Incorrect order of operators.</li>

	<LI>282 - Incorrect operator.</li>

	<LI>287 &#0150; Redundant code.</li>

	<LI>288 &#0150; Incorrect operator: Mutual inclusion over &amp;&amp; is always FALSE. Was || intended?</li>

	<LI>289 &#0150; Incorrect operator.</li>

	<LI>290 &#0150; Bitwise operation on logical result.</li>

	<LI>291 &#0150; Bitwise operation on logical result.</li>

	<LI>296 &#0150; Ill-defined for-loop.</li>

	<LI>298 &#0150; Using a read-only string &lt;pointer&gt; as a writable string argument.</li>

	<LI>299 &#0150; Explicitly comparing a bit field to a Boolean will yield unexpected results.</li>

	<LI>305 &#0150; Potential mismatch between sizeof and countof quantities.</li>

	<LI>306 &#0150; Incorrect call to &lt;function&gt; Consider using an alternate function that accepts a va_list as an argument.</li>

	<LI>308 &#0150; Leaking memory.</li>
</UL>

<H4 class="dtH4">See Also</H4>

<P><A HREF="vcgrffilteringmessagelist.htm">Filtering the Message List Window</A></P>
<!--Footer Start-->
<DIV CLASS="footer">
<br>
<HR><!--Copyright-->
<p><MSHelp:link keywords="vxmscCopyright" TABINDEX="0">&copy; Microsoft Corporation. All rights reserved.</MSHelp:link></p></div> <!--Closes the footer div-->
</div> <!--closes the topic content div-->
<!--FOOTER_END-->
</BODY>
</HTML>
