<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>INF DefaultInstall.Services Section</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="INF DefaultInstall.Services Section">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Device&nbsp;Installation:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_inf_defaultinstall.services_section_dr"></A>INF DefaultInstall.Services Section</H1>

<P><B>[DefaultInstall.Services]</B> |<BR>
<B>[DefaultInstall.nt.Services]</B> |<BR>
<B>[DefaultInstall.ntx86.Services]</B> <BR>
<B>[DefaultInstall.ntia64.Services]</B> <BR>
&nbsp;<BR>
<B>AddService=</B><I>ServiceName</I><B>,</B>[<I>flags</I>]<B>,</B><I>service-install-section</I>[<B>,</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<I>event-log-install-section</I>[<B>,</B>[<I>EventLogType</I>][<B>,</B><I>EventName</I>]]]...<BR>
[<B>DelService=</B><I>ServiceName</I>[<B>,</B>[<I>flags</I>][<B>,</B>[<I>EventLogType</I>][<B>,</B><I>EventName</I>]]]...<BR>
[<B>Include=</B><I>filename</I><B>.</B><I>inf</I>[<B>,</B><I>filename2</I><B>.</B><I>inf</I>]...]<BR>
[<B>Needs=</B><I>inf-section-name</I>[<B>,</B><I>inf-section-name</I>]...]<BR>
<B>&nbsp;</B><BR>
<B>&nbsp;</B><BR>
 </P>

<P>A <B>DefaultInstall.Services</B> section contains one or more <B>AddService</B> directives referencing additional INF-writer-defined sections in a Windows&nbsp;2000 or later INF file. This section is equivalent to the <A HREF="inf-format_6nle.htm">INF <I>DDInstall</I><B>.Services</B> section</A>, and is used in association with an <A HREF="inf-format_33ea.htm">INF <B>DefaultInstall</B> section</A>.</P>

<H4>Directives and Entries</H4>

<DL>
<DT><B>AddService=</B><I>ServiceName</I><B>,</B>[<I>flags</I>]<B>,</B><I>service-install-section</I>[<B>,</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<I>event-log-install-section</I>[<B>,</B>[<I>EventLogType</I>][<B>,</B><I>EventName</I>]]]...</DT>

<DD>This directive references an INF-writer-defined <I>service-install-section</I> and, possibly, an <I>event-log-install-section</I> elsewhere in the INF file for the drivers of the devices covered by this <B>DefaultInstall</B> section. For more information, see <A HREF="inf-format_79te.htm">INF <B>AddService</B> Directive</A>.</DD>

<DT><B>DelService=</B><I>ServiceName</I>[<B>,</B>[<I>flags</I>][<B>,</B>[<I>EventLogType</I>][<B>,</B><I>EventName</I>]]]...</DT>

<DD>This directive removes a previously installed service from the target machine. This directive is very rarely used. For more information, see <A HREF="inf-format_91iq.htm">INF <B>DelService</B> Directive</A>.</DD>

<DT><B>Include=</B><I>filename</I><B>.</B><I>inf</I>[<B>,</B><I>filename2</I><B>.</B><I>inf</I>]...</DT>

<DD>This optional entry specifies one or more additional system-supplied INF files containing sections needed to install this device. If this entry is specified, usually so is a <B>Needs</B> entry. (For further information on the <B>Include</B> entry and restrictions on its use, see <A HREF="create-inf_82g7.htm">Specifying the Source and Target Locations for Device Files</A>).</DD>

<DT><B>Needs=</B><I>inf-section-name</I>[<B>,</B><I>inf-section-name</I>]...</DT>

<DD>This optional entry specifies the particular named section that must be processed during the installation of this device. Typically, such a named section is a <I>DDInstall</I><B>.Services</B> section within a system-supplied INF file listed in an <B>Include</B> entry. However, it can be any section that is referenced within such a <I>DDInstall</I><B>.Services</B> section. 

<P><B>Needs</B> entries cannot be nested. (For further information on the <B>Needs</B> entry and restrictions on its use, see <A HREF="create-inf_82g7.htm">Specifying the Source and Target Locations for Device Files</A>).

</DD>
</DL>

<H4>Comments</H4>

<P>INF files use the <B>DefaultInstall.Services</B> section only if they also use an <A HREF="inf-format_33ea.htm">INF <B>DefaultInstall</B> section</A>. Otherwise, they use <A HREF="inf-format_6nle.htm">INF <I>DDInstall</I><B>.Services</B> sections</A> in conjunction with <A HREF="inf-format_2k8i.htm">INF <I>DDInstall</I> sections</A>. The <A HREF="inf-format_79te.htm">INF <B>AddService</B> directive</A> controls how and when the services of a particular driver are loaded, any dependencies on other services or on underlying (legacy) drivers it might have, and so forth. Optionally, it sets up event-logging services for the device drivers as well. </P>

<P><B>DefaultInstall.Services</B> sections should have the same platform and OS decorations as their related <B>DefaultInstall</B> sections. For example, a <B>DefaultInstall.ntx86</B> section would have a corresponding <B>DefaultInstall.ntx86.Services</B> section. For more information about how to use the system-defined <B>.nt</B>, <B>.ntx86</B>, and <B>.ntia64</B> extensions, see <A HREF="create-inf_9xpj.htm">Creating INF Files for Multiple Platforms and Operating Systems</A>.</P>

<P>This section is irrelevant to exclusively Windows&nbsp;9x/Me installations. </P>

<H4>Examples</H4>

<P>See the examples provided for the <A HREF="inf-format_6nle.htm">INF <I>DDInstall</I><B>.Services</B> section</A>.</P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: INF%20DefaultInstall.Services%20Section"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
