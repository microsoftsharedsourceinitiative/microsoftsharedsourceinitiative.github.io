<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>TapeMiniExtensionInit</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="TapeMiniExtensionInit">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Storage&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_tapeminiextensioninit_kr"></A>TapeMiniExtensionInit</H1>

<P><I>TapeMiniExtensionInit</I> initializes an optional, driver-specific context area. This routine is called by <A HREF="k303_9msy.htm"><B>TapeClassInitialize</B></A> when the tape miniclass driver is loaded. This routine is optional.</P>

<PRE class=syntax><B>VOID 
  TapeMiniExtensionInit(
    IN OUT PVOID </B> <I>MinitapeExtension</I><B>,</B>
<B>    IN PINQUIRYDATA</B>  <I>InquiryData</I><B>,</B>
<B>    IN PMODE_CAPABILITIES_PAGE</B>  <I>ModeCapabilitiesPage</I>  <B>OPTIONAL</B>
<B>    );</B></PRE>

<H4>Parameters</H4>

<DL>
<DT><I>MinitapeExtension</I></DT>

<DD>Pointer to a buffer of the size requested by the tape miniclass driver when it initialized.</DD>

<DT><I>InquiryData</I></DT>

<DD>Pointer to the SCSI inquiry data for the tape device.</DD>

<DT><I>ModeCapabilitiesPage</I></DT>

<DD>Pointer to a buffer that contains low-level information for the tape device. The format of this page is defined by the QIC 157 standard and is subject to change. This is NULL if the device does not support a mode capabilities page. 
</DD>
</DL>

<H4>Return Value</H4>

<P>None</P>

<H4>Headers</H4>

<P>Declared in <I>minitape.h</I>. Include <I>minitape.h</I>. </P>

<H4>Comments</H4>

<P>A tape miniclass driver requests a minitape extension by specifying a nonzero value for <B>MinitapeExtensionSize</B> in the <A HREF="k306_4rhu.htm">TAPE_INIT_DATA_EX</A> structure it passes to <A HREF="k303_9msy.htm"><B>TapeClassInitialize</B></A> from its <B>DriverEntry</B> routine. A miniclass driver defines the structure and contents of the minitape extension and typically uses it to store inquiry data for the devices it supports.</P>

<P>The tape class driver allocates the minitape extension and supplies it subsequently in calls to to the tape miniclass driver's routines that handle the device-specific aspects of device-control requests and to the miniclass driver's optional <A HREF="k304_1ir6.htm"><I>TapeMiniTapeError</I></A> routine.</P>

<P><I>TapeMiniExtensionInit</I> initializes the minitape extension, and the miniclass driver uses this area to maintain run-time state for its device. The tape class driver passes <I>InquiryData</I> and a <I>ModeCapabilitiesPage</I> to this routine because those structures contain information that a tape miniclass driver might want to store in the minitape extension.</P>

<H4>See Also</H4>

<P><A HREF="k304_6t9u.htm"><B>DriverEntry</B> of Tape Miniclass Driver</A>, <A HREF="k306_4rhu.htm">TAPE_INIT_DATA_EX</A>, <A HREF="k303_9msy.htm"><B>TapeClassInitialize</B></A>, <A HREF="k306_6cky.htm">TAPE_STATUS</A>,</P>

<P><A HREF="k304_1ir6.htm"><I>TapeMiniTapeError</I></A></P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: TapeMiniExtensionInit"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
