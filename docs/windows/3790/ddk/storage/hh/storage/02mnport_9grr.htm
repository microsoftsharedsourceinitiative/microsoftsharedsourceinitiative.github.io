<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Use Only Supplied Resources in a Plug and Play SCSI Miniport</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Use Only Supplied Resources in a Plug and Play SCSI Miniport">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Storage&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H3><A NAME="ddk_use_only_supplied_resources_in_a_plug_and_play_scsi_miniport_kg"></A>Use Only Supplied Resources in a Plug and Play SCSI Miniport</H3>

<P>One of the goals for a Plug and Play system is to reduce or eliminate the number of drivers that detect their devices by accessing known memory locations. This includes drivers that determine their resources by reading the configuration space for their HBA. </P>

<P>Under Plug and Play, devices on enumerable buses are detected by the driver for the bus. This allows the bus driver to handle any resource conflicts, provide special-case fixes for broken bus and bridge parts, and so forth. </P>

<P>Consequently, a SCSI miniport must use only the resources provided by the port driver (if any) in Windows&nbsp;2000 and later systems. The miniport is allowed to scan the bus for an HBA only if the port driver passes in zero-value access ranges. If the miniport attempts to use resources that are not assigned to it, the <B>ScsiPortGetDeviceBase</B> call will fail. Calls to read and write device registers or ports that have not been properly mapped also might fail. </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Use%20Only%20Supplied%20Resources%20in%20a%20Plug%20and%20Play%20SCSI%20Miniport"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
