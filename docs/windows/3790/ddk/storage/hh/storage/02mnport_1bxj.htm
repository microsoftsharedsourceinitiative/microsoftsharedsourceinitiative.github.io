<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Verify Resource Ranges in HwScsiFindAdapter During Detection</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Verify Resource Ranges in HwScsiFindAdapter During Detection">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Storage&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H3><A NAME="ddk_verify_resource_ranges_in_hwscsifindadapter_during_detection_kg"></A>Verify Resource Ranges in HwScsiFindAdapter During Detection</H3>

<P>Although detection of devices by drivers is usually unnecessary under Plug and Play, the port driver might call a Plug and Play miniport’s <I>HwScsiFindAdapter</I> routine to detect devices on a nonenumerable bus. Although this operation is similar to detection in Windows NT 4.0, the miniport must take care not to operate on ranges that might be in use by another device. </P>

<P>The miniport should call <B>ScsiPortValidateRange</B> before calling <B>ScsiPortGetDeviceBase</B> to ensure that the miniport-supplied range is safe to use. The miniport must be prepared for <B>ScsiPortGetDeviceBase</B> to fail and return a NULL pointer. The miniport should also avoid mapping memory starting at address zero, which makes it impossible to detect the failure of <B>ScsiPortGetDeviceBase</B> on some systems.</P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Verify%20Resource%20Ranges%20in%20HwScsiFindAdapter%20During%20Detection"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
