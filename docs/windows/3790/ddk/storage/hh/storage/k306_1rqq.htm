<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>DISK_EX_INT13_INFO</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="DISK_EX_INT13_INFO">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Storage&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_disk_ex_int13_info_kr"></A>DISK_EX_INT13_INFO</H1>

<P>The DISK_EX_INT13_INFO structure is used by the BIOS to report disk detection data for a partition with an extended INT13 format. </P>

<PRE class=syntax>typedef struct _DISK_EX_INT13_INFO {
  USHORT  ExBufferSize;
  USHORT  ExFlags;
  ULONG  ExCylinders;
  ULONG  ExHeads;
  ULONG  ExSectorsPerTrack;
  ULONG64  ExSectorsPerDrive;
  USHORT  ExSectorSize;
  USHORT  ExReserved;
} DISK_EX_INT13_INFO, *PDISK_EX_INT13_INFO;</PRE>

<H4>Members</H4>

<DL>
<DT><B>ExBufferSize</B></DT>

<DD>Indicates the size of the buffer that the caller provides to the BIOS in which to return the requested drive data. <B>ExBufferSize</B> must be 26 or greater. If <B>ExBufferSize</B> is less than 26, the BIOS returns an error . If <B>ExBufferSize</B> is between 30 and 66, the BIOS sets it to exactly 30 on exit. If <B>ExBufferSize</B> is 66 or greater, the BIOS sets it to exactly 66 on exit. </DD>

<DT><B>ExFlags</B></DT>

<DD>Provides information about the drive. The following table describes the significance of each bit, where bit 0 is the least significant bit and bit 15 the most significant bit. A value of one in the indicated bit means that the feature described in the "Meaning" column is available. A value of zero in the indicated bit means that the feature is not available with this drive.

<TABLE>

<TR VALIGN="top">
<TH align=left width=16%>Bit number </TH>
<TH align=left width=84%>Meaning</TH>
</TR>

<TR VALIGN="top">
<TD width=16%>0 </TD>
<TD width=84%>DMA boundary errors are handled transparently. </TD>
</TR>

<TR VALIGN="top">
<TD width=16%>1 </TD>
<TD width=84%>The geometry supplied in bytes 8-12 is valid. </TD>
</TR>

<TR VALIGN="top">
<TD width=16%>2 </TD>
<TD width=84%>Device is removable. </TD>
</TR>

<TR VALIGN="top">
<TD width=16%>3 </TD>
<TD width=84%>Device supports write with verify. </TD>
</TR>

<TR VALIGN="top">
<TD width=16%>4 </TD>
<TD width=84%>Device has change line support (bit 2 must be set). </TD>
</TR>

<TR VALIGN="top">
<TD width=16%>5 </TD>
<TD width=84%>Device is lockable (bit 2 must be set). </TD>
</TR>

<TR VALIGN="top">
<TD width=16%>6 </TD>
<TD width=84%>Device geometry is set to maximum, no media is present (bit 2 must be set). This bit is turned off when media is present in a removable media device. </TD>
</TR>

<TR VALIGN="top">
<TD width=16%>7-15 </TD>
<TD width=84%>Reserved, must be 0. </TD>
</TR>
</TABLE><BR>

</DD>

<DT><B>ExCylinders</B></DT>

<DD>Indicates the number of <I>physical </I>cylinders. This is one greater than the maximum cylinder number.</DD>

<DT><B>ExHeads</B></DT>

<DD>Indicates the number of <I>physical </I>heads. This is one greater than the maximum head number. </DD>

<DT><B>ExSectorsPerTrack</B></DT>

<DD>Indicates the number of <I>physical </I>sectors per track. This number is the same as the maximum sector number. </DD>

<DT><B>ExSectorsPerDrive</B></DT>

<DD>Indicates the total count of sectors on the disk. This is one greater than the maximum logical block address. </DD>

<DT><B>ExSectorSize</B></DT>

<DD>Indicates the sector size in bytes. </DD>

<DT><B>ExReserved</B></DT>

<DD>Reserved. </DD>
</DL>

<H4>Headers</H4>

<P>Declared in <I>ntdddisk.h</I>. Include <I>ntdddisk.h</I>. </P>

<H4>See Also</H4>

<P><A HREF="k306_4z3m.htm">DISK_DETECTION_INFO</A>, <A HREF="k306_2p0y.htm">DISK_INT13_INFO</A></P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: DISK_EX_INT13_INFO"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
