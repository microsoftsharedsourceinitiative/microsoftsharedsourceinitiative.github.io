<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Enabling Smart Card Event Logging in the Registry</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Enabling Smart Card Event Logging in the Registry">
</HEAD>
<BODY TOPMARGIN="0">
<DIV STYLE="display:none;">
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_inf_addservice_directive_dr">
</OBJECT>
</DIV>


<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Smart&nbsp;Card&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H2><A NAME="_ntovr_enabling_smart_card_event_logging_in_the_registry"></A>Enabling Smart Card Event Logging in the Registry</H2>

<P>A smart card reader driver should use the system event logger to log errors, so that the system administrator can determine why a failing driver is unable to work properly. </P>

<P>In order to enable event logging, you must add several values to the registry under the following key:</P>

<P><B>HKEY_LOCAL_MACHINE\System\CurrentControlSet\Services\EventLog\System\<I>SmartCardDriver</I></B>

<DL>
<DT>The registry values that enable event logging are listed in the following table.</DT>

<DD>

<TABLE>

<TR VALIGN="top">
<TH align=left width=27%>Registry Value Name</TH>
<TH align=left width=73%>Contents of the Registry Value</TH>
</TR>

<TR VALIGN="top">
<TD width=27%><I>EventMessageFile</I></TD>
<TD width=73%><B>%SystemRoot%\System32\SmartCardDriver.sys</B>
<P>Note: The file name extension must be included in the value name <I>EventMessageFile</I>, but it must never appear in any other part of the registry path. </P>
</TD>
</TR>

<TR VALIGN="top">
<TD width=27%><I>TypesSupported</I></TD>
<TD width=73%><B>DWORD:0x00000007</B></TD>
</TR>
</TABLE><BR>

</DD>
</DL>

<P>For more information about specifying these registry entries, see <A HREF="JavaScript:hhobj_1.Click()">INF <B>AddService</B> Directive</A>.</P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Enabling%20Smart%20Card%20Event%20Logging%20in%20the%20Registry"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
