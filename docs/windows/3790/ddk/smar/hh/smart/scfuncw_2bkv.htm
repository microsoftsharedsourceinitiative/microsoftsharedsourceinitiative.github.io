<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>SmartcardLogError (WDM)</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="SmartcardLogError (WDM)">
</HEAD>
<BODY TOPMARGIN="0">
<DIV STYLE="display:none;">
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_unicode_string_kr">
</OBJECT>
</DIV>


<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Smart&nbsp;Card&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="_ntfunc_smartcardlogerror_wdm_"></A>SmartcardLogError (WDM)</H1>

<P>The <B>SmartcardLogError</B> function writes an error message to the event log.</P>

<PRE class=syntax><B>VOID 
  SmartcardLogError(
    IN PVOID  </B><I>Object</I><B>,</B>
<B>    IN NTSTATUS  </B><I>ErrorCode</I><B>,</B>
<B>    IN PUNICODE_STRING  </B><I>Insertion</I><B>,</B>
<B>    IN ULONG  </B><I>DumpData</I>
<B>    );</B></PRE>

<H4>Parameters</H4>

<DL>
<DT><I>Object</I></DT>

<DD>Pointer either to the driver object, before you have created a device object, or to your device object.</DD>

<DT><I>ErrorCode</I></DT>

<DD>Win32 error code of a function. </DD>

<DT><I>Insertion</I></DT>

<DD>Pointer to an uninitialized <A HREF="JavaScript:hhobj_1.Click()">UNICODE_STRING</A> that contains an insertion string to be written to the event log. Your message file must have a place holder for the insertion. For example, "serial port %2 is either not available or used by another device." In this example, %2 will be replaced by the insertion string. Note that "%1" is reserved for the file name.</DD>

<DT><I>DumpData</I></DT>

<DD>Contains a ULONG value that caller can insert into the log error message to indicate the sort of error that occurred. This value will appear in the data window of the event log.
</DD>
</DL>

<H4>Return Value</H4>

<P>None</P>

<H4>Headers</H4>

<P>Declared in <I>smclib.h</I>. Include <I>smclib.h</I>.</P>

<H4>Comments</H4>

<P><B>SmartcardLogError</B> provides a convenient way to write error messages to the system event log. Refer to <A HREF="scovr_67w9.htm">Enabling Smart Card Event Logging in the Registry</A> for information on how to set up event logging.</P>

<P>This function is not available when developing VxD drivers. For a list of the functions that can be used, see <A HREF="scfunc_97dv.htm">VxD Smart Card Driver Functions</A>.</P>

<H4></H4>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: SmartcardLogError%20(WDM)"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
