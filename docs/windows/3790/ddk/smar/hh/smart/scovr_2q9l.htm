<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Smart Card Driver Library</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Smart Card Driver Library">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Smart&nbsp;Card&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="_ntovr_smart_card_driver_library"></A>Smart Card Driver Library</H1>

<P>Microsoft provides a driver library containing a set of routines that standardize most of the functions that a smart card reader driver must perform. Vendor-supplied reader drivers should call these routines to perform the following actions:

<UL>
	<LI>Creation of device names that the smart card resource manager requires. </LI>

	<LI>Parameter checking and error detection for IOCTL calls. </LI>

	<LI>ATR parsing and parameter conversion. </LI>

	<LI>Support for the ISO protocols T=0 and T=1. </LI>

	<LI>Support for inverse convention. </LI>

	<LI>Event logging. </LI>

	<LI>Synchronizing access to the driver. </LI>
</UL>

<P>The <A HREF="scovr_2shf.htm">Smart Card Driver Library Routines</A> section lists the driver library routines and indicates which routine performs each of these functions.</P>

<P>In addition, the driver library processes most IOCTL requests that the resource manager sends to the reader driver. The <A HREF="scovr_6jjt.htm">IOCTL Codes Serviced by the Smart Card Driver Library</A> section lists the IOCTLs that the driver library processes on the reader driver's behalf. </P>

<P>Finally, there are several differences between the WDM and the VxD versions of the driver library. These are also discussed in <A HREF="scovr_2shf.htm">Smart Card Driver Library Routines</A> section.</P>

<P>The following files are used by the smart card driver library and by drivers that call smart card driver library routines. </P>

<TABLE>

<TR VALIGN="top">
<TH align=left width=20%>File</TH>
<TH align=left width=80%>Description</TH>
</TR>

<TR VALIGN="top">
<TD width=20%><I>smclib.h</I></TD>
<TD width=80%>Contains declarations and definitions required by all drivers that call smart card library routines.</TD>
</TR>

<TR VALIGN="top">
<TD width=20%><I>Smcnt.h</I></TD>
<TD width=80%>Contains declarations and definitions required by a WDM driver that calls smart card library routines.</TD>
</TR>

<TR VALIGN="top">
<TD width=20%><I>Smcvxd.h</I></TD>
<TD width=80%>Contains declarations and definitions required by a VxD driver that calls smart card library routines.</TD>
</TR>

<TR VALIGN="top">
<TD width=20%><I>Winsmcrd.h</I></TD>
<TD width=80%>Global include file for all smart card reader drivers and smart card-aware applications.</TD>
</TR>

<TR VALIGN="top">
<TD width=20%><I>Smclib.sys</I></TD>
<TD width=80%>The library binary used by WDM drivers.</TD>
</TR>

<TR VALIGN="top">
<TD width=20%><I>smclib.vxd</I></TD>
<TD width=80%>The library binary used by VxD drivers.</TD>
</TR>
</TABLE><BR>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Smart%20Card%20Driver%20Library"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
