<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>StreamClassScheduleTimer</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="StreamClassScheduleTimer">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Streaming&nbsp;Devices&nbsp;(Video&nbsp;and&nbsp;Audio):&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_streamclassscheduletimer_ks"></A>StreamClassScheduleTimer</H1>

<P>The minidriver calls the <B>StreamClassScheduleTimer</B> routine to schedule a timer, and to specify a routine that is called when the timer expires.</P>

<PRE class=syntax><B>VOID STREAMAPI 
  StreamClassScheduleTimer(
    IN PHW_STREAM_OBJECT  </B><I>StreamObject</I>,
<B>    IN PVOID  </B><I>HwDeviceExtension</I>,
<B>    IN ULONG  </B><I>NumberOfMicroseconds</I>,
<B>    IN PHW_TIMER_ROUTINE  </B><I>TimerRoutine</I>,
<B>    IN PVOID  </B><I>Context</I>
<B>    );</B></PRE>

<H4>Parameters</H4>

<DL>
<DT><I>StreamObject</I></DT>

<DD>Specifies the stream that sets the timer, or NULL if the timer is set for the whole driver. The minidriver may only schedule one timer per stream, and one for the driver as a whole. This parameter is optional.</DD>

<DT><I>HwDeviceExtension</I></DT>

<DD>Pointer to the minidriver's device extension. The minidriver specifies the size of this buffer in the <A HREF="strclass-struct_4ks3.htm">HW_INITIALIZATION_DATA</A> structure it passes when it registers itself via <A HREF="strclass-routines_8bw3.htm"><B>StreamClassRegisterMinidriver</B></A>. The class driver then passes pointers to the buffer in the <B>HwDeviceExtension</B> member of the <A HREF="strclass-struct_2jeb.htm">HW_STREAM_REQUEST_BLOCK</A>, <A HREF="strclass-struct_4wc3.htm">HW_STREAM_OBJECT</A>, <A HREF="strclass-struct_2kvn.htm">HW_TIME_CONTEXT</A>, and <A HREF="strclass-struct_2h4j.htm">PORT_CONFIGURATION_INFORMATION</A> structures it passes to the minidriver.</DD>

<DT><I>NumberOfMicroseconds</I></DT>

<DD>Specifies the amount of time, in microseconds, before the timer expires.</DD>

<DT><I>TimerRoutine</I></DT>

<DD>Specifies the routine called when the timer expires. The routine's prototype must be of the form:

<PRE>    TimerRoutine(PVOID Context);</PRE>
</DD>

<DT><I>Context</I></DT>

<DD>Pointer to a context that the class driver passes to the callback routine once the timer expires.
</DD>
</DL>

<H4>Return Value</H4>

<P>None</P>

<H4>Headers</H4>

<P>Declared in <I>strmini.h</I>. Include <I>strmini.h</I>.</P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: StreamClassScheduleTimer"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
