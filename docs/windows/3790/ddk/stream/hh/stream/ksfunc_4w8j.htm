<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Clock Functions</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Clock Functions">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Streaming&nbsp;Devices&nbsp;(Video&nbsp;and&nbsp;Audio):&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_clock_functions_ks"></A>Clock Functions</H1>

<P>This section specifies the helper functions for clocks. These functions allow a device object to create clocks, interface to the system default clock, and validate creation requests. Internally the default clock implementation uses the shared structure KSIDEFAULTCLOCK. This allows a single structure to control many file object clients. There are specific functions for creating and manipulating one of these clock instances. This internal structure may change at any time and cannot be relied on externally. Externally, it is cast as a PVOID. </P>

<P>In order to allow convenient conversion from the performance counter time to 100-nanosecond units, a macro has been provided. KSCONVERT_PERFORMANCE_TIME performs an accurate 64-bit muldiv given the performance counter frequency and performance counter time, resulting in 100-nanosecond time units.</P>

<P>The following functions are provided:</P>

<P class=indent1><A HREF="ksfunc_4unn.htm"><B>KsCreateClock</B></A> </P>

<P class=indent1><A HREF="ksfunc_7usz.htm"><B>KsCreateDefaultClock</B></A> </P>

<P class=indent1><A HREF="ksfunc_7bcj.htm"><B>KsAllocateDefaultClock</B></A> </P>

<P class=indent1><A HREF="ksfunc_25df.htm"><B>KsAllocateDefaultClockEx</B></A> </P>

<P class=indent1><A HREF="ksfunc_2svn.htm"><B>KsFreeDefaultClock</B></A> </P>

<P class=indent1><A HREF="ksfunc_6d9v.htm"><B>KsValidateClockCreateRequest</B></A> </P>

<P class=indent1><A HREF="ksfunc_5oab.htm"><B>KsGetDefaultClockState</B></A> </P>

<P class=indent1><A HREF="ksfunc_7gvn.htm"><B>KsSetDefaultClockState</B></A> </P>

<P class=indent1><A HREF="ksfunc_9prn.htm"><B>KsGetDefaultClockTime</B></A> </P>

<P class=indent1><A HREF="ksfunc_3t0z.htm"><B>KsSetDefaultClockTime</B></A> </P>

<H4>Headers</H4>

<P>Declared in <I>ks.h</I>. Include <I>ks.h</I>.</P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Clock%20Functions"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
