<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>IPort::Init</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="IPort::Init">
</HEAD>
<BODY TOPMARGIN="0">
<DIV STYLE="display:none;">
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_device_object_kr">
</OBJECT>
<OBJECT ID="hhobj_2" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_irp_kr">
</OBJECT>
<OBJECT ID="hhobj_3" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_device_object_kr">
</OBJECT>
<OBJECT ID="hhobj_4" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_irp_kr">
</OBJECT>
</DIV>


<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Streaming&nbsp;Devices&nbsp;(Video&nbsp;and&nbsp;Audio):&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_iport_init_ks"></A>IPort::Init</H1>

<P>The <B>Init</B> method initializes the port driver.</P>

<PRE class=syntax><B>NTSTATUS
  Init(
    IN PDEVICE_OBJECT  </B><I>DeviceObject</I>,
<B>    IN PIRP  </B><I>Irp</I>,
<B>    IN PUNKNOWN  </B><I>UnknownMiniport</I>,
<B>    IN PUNKNOWN  </B><I>UnknownAdapter</I><B>  OPTIONAL</B>,
<B>    IN PRESOURCELIST  </B><I>ResourceList</I>
<B>    );</B></PRE>

<H4>Parameters</H4>

<DL>
<DT><I>DeviceObject</I></DT>

<DD>Pointer to the device object that was passed as an argument to the adapter driver's device-startup routine. The device object is a system structure of type <A HREF="JavaScript:hhobj_1.Click()">DEVICE_OBJECT</A>.</DD>

<DT><I>Irp</I></DT>

<DD>Pointer to the <A HREF="JavaScript:hhobj_2.Click()">IRP</A> that was passed as an argument to the adapter driver's device-startup routine.</DD>

<DT><I>UnknownMiniport</I></DT>

<DD>Pointer to the <B>IUnknown</B> interface of the uninitialized miniport object. This interface is queried for the specific miniport interface supported by the port driver, and the initialization function on that interface is called.</DD>

<DT><I>UnknownAdapter</I></DT>

<DD>Pointer to the <B>IUnknown</B> interface of the adapter object whose port driver is being initialized. This pointer is optional and can be specified as NULL. See the following <B>Comments</B> section.</DD>

<DT><I>ResourceList</I></DT>

<DD>Pointer to the <A HREF="audmp-routines_4c37.htm"><B>IResourceList</B></A> object that was passed as an argument to the adapter driver's device-startup routine. After passing this reference to the miniport driver, the port driver is free to examine the contents of the resource list but will not modify the contents of this list.
</DD>
</DL>

<H4>Return Value</H4>

<P><B>Init</B> returns STATUS_SUCCESS if the call was successful. Otherwise, the method returns an appropriate error code.</P>

<H4>Headers</H4>

<P>Declared in <I>portcls.h</I>. Include <I>portcls.h</I>.</P>

<H4>Comments</H4>

<P>The miniport object specified by <I>UnknownMiniport</I> must support the miniport interface that the port driver requires or the <B>Init</B> call will fail.</P>

<P>During the <B>IPort::Init</B> call, the port driver calls the miniport driver's initialization method (for example, see <A HREF="audmp-routines_12ur.htm"><B>IMiniportWavePci::Init</B></A>).</P>

<P>Parameter <I>UnknownAdapter</I> points to the COM interface of an adapter object. The adapter driver typically creates this object within its device-startup routine, which is the routine that the operating system calls to start the device (see <A HREF="pcdesign_92cn.htm">Startup Sequence</A>). For an example of an interface for an adapter object, see the definition and implementation of the <B>IAdapterObject</B> interface in the <I>sb16</I> and <I>msvad</I> sample audio adapters in the Windows DDK.</P>

<P>The <I>UnknownMiniport</I>, <I>UnknownAdapter</I>, and <I>ResourceList</I> parameters follow the <A HREF="pcdesign_1y93.htm">reference-counting conventions for COM objects</A>.</P>

<P>Callers of <B>Init</B> must run at IRQL PASSIVE_LEVEL.</P>

<H4>See Also</H4>

<P><A HREF="JavaScript:hhobj_3.Click()">DEVICE_OBJECT</A>, <A HREF="JavaScript:hhobj_4.Click()">IRP</A>, <A HREF="audmp-routines_4c37.htm"><B>IResourceList</B></A> </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: IPort::Init"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
