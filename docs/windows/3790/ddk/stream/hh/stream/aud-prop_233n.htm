<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>KSPROPERTY_AUDIO_FILTER_STATE</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="KSPROPERTY_AUDIO_FILTER_STATE">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Streaming&nbsp;Devices&nbsp;(Video&nbsp;and&nbsp;Audio):&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_ksproperty_audio_filter_state_ks"></A>KSPROPERTY_AUDIO_FILTER_STATE</H1>

<P>The KSPROPERTY_AUDIO_FILTER_STATE property is used to query a <A HREF="aud-design_6tgn.htm">GFX filter</A> for a list of the property sets that it supports. The list is retrieved in the form of an array of property-set GUIDs.</P>

<TABLE>

<TR VALIGN="top">
<TH align=left width=10%>Get</TH>
<TH align=left width=11%>Set</TH>
<TH align=left width=14%>Target</TH>
<TH align=left width=34%>Property Descriptor Type</TH>
<TH align=left width=31%>Property Value Type</TH>
</TR>

<TR VALIGN="top">
<TD width=10%>Yes</TD>
<TD width=11%>No</TD>
<TD width=14%>Filter</TD>
<TD width=34%><A HREF="ks-struct_6jlf.htm">KSPROPERTY</A></TD>
<TD width=31%>Array of GUIDs</TD>
</TR>
</TABLE><BR>

<P>The property data (operation data) is an array of GUIDs. Each GUID in the array specifies a property set that the filter supports.</P>

<H4>Return Value</H4>

<P>A KSPROPERTY_AUDIO_FILTER_STATE property request returns STATUS_SUCCESS to indicate that it has completed successfully. Otherwise, the request returns an appropriate error status code.</P>

<H4>Headers</H4>

<P>Declared in <I>ksmedia.h</I>. Include <I>ksmedia.h</I>.</P>

<H4>Comments</H4>

<P>The size of the array of GUIDs that this property returns depends on the number of property sets that the filter supports. Before retrieving the array, a client first queries the size of the property's GUID array by sending the miniport's property handler a KSPROPERTY_AUDIO_FILTER_STATE <I>get</I>-property request with a zero-length property-value buffer. The handler responds by returning the required buffer size and the status code STATUS_BUFFER_OVERFLOW. For more information, see <A HREF="aud-design_1s87.htm">Audio Property Handlers</A>.</P>

<P>With the array of GUIDs from a KSPROPERTY_AUDIO_FILTER_STATE <I>get</I>-property request, the operating system can serially interrogate the properties within each property set. This information enables the operating system to restore the state of a GFX filter object at the time that the filter is instantiated, and also to save the state of a GFX filter object at the time that the filter is destroyed. When saving or restoring the state of the GFX filter, the operating system serializes its requests for the properties in each property set, as described in <A HREF="ks-overview_1uhz.htm">KS Properties</A>. The purpose for saving and restoring the GFX filter's state is to preserve any changes the user has made to the filter's settings, and to make the settings persistent across successive instantiations of the filter. For additional information, see <A HREF="aud-design_0947.htm">Persistence of GFX Settings</A>.</P>

<H4>See Also</H4>

<P><A HREF="ks-struct_6jlf.htm">KSPROPERTY</A> </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: KSPROPERTY_AUDIO_FILTER_STATE"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
