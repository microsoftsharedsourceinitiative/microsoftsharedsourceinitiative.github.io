<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>KSPROPERTY_DVDCOPY_SET_COPY_STATE</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="KSPROPERTY_DVDCOPY_SET_COPY_STATE">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Streaming&nbsp;Devices&nbsp;(Video&nbsp;and&nbsp;Audio):&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_ksproperty_dvdcopy_set_copy_state_ks"></A>KSPROPERTY_DVDCOPY_SET_COPY_STATE</H1>

<P>The KSPROPERTY_DVDCOPY_SET_COPY_STATE property is used to set the copy state of the DVD decoder stream. Implementing this property is optional.</P>

<TABLE>

<TR VALIGN="top">
<TH align=left width=11%>Get</TH>
<TH align=left width=13%>Set</TH>
<TH align=left width=16%>Target</TH>
<TH align=left width=34%>Property descriptor type</TH>
<TH align=left width=26%>Property value type</TH>
</TR>

<TR VALIGN="top">
<TD width=11%>Yes</TD>
<TD width=13%>Yes</TD>
<TD width=16%>Pin</TD>
<TD width=34%><A HREF="ks-struct_6jlf.htm">KSPROPERTY</A></TD>
<TD width=26%><A HREF="dvdref_2xir.htm">KS_DVDCOPY_SET_COPY_STATE</A></TD>
</TR>
</TABLE><BR>

<P>The property value (operation data) is of type KS_DVDCOPY_SET_COPY_STATE.</P>

<H4>Return Value</H4>

<P>KSPROPERTY_DVDCOPY_SET_COPY_STATE property requests return STATUS_SUCCESS to indicate successful completion. Otherwise, requests return an appropriate error status code.</P>

<H4>Comments</H4>

<P>This property indicates whether this pin requires CSS authentication. If the property is not implemented, the default is assumed to be KS_DVDCOPYSTATE_AUTHENTICATION_REQUIRED.</P>

<P>The main use for this property is for a decoder that supports multiple pins with the same decrypter. For example, if one filter provides both subpicture and video decoding, the keys only need to be exchanged for one of the two pins. If a filter is going to return KS_DVDCOPYSTATE_AUTHENTICATION_NOT_REQUIRED on one of the pins, then it must always return KS_DVDCOPYSTATE_AUTHENTICATION_REQUIRED on the first pin that the property is issued on.</P>

<P>When this property is issued as a <B>Get</B> call, the filter can respond with either KS_DVDCOPYSTATE_AUTHENTICATION_REQUIRED or KS_DVDCOPYSTATE_AUTHENTICATION_NOT_REQUIRED.</P>

<P>When this property is issued as a <B>Set</B> call, this is an informational call used by hardware decoders to indicate what phase of the copyright protection negotiation is being entered. The decoder can hold off the SET_STATE with one of the following until the correct bits, indicating that a new CSS key is required, have been received:

<DL>
<DT><B>KS_DVDCOPYSTATE_INITIALIZE</B></DT>

<DD>Indicates the start of a disc key negotiation sequence.</DD>

<DT><B>KS_DVDCOPYSTATE_INITIALIZE_TITLE</B></DT>

<DD>Indicates the start of a title key negotiation sequence.</DD>

<DT><B>KS_DVDCOPYSTATE_DONE</B></DT>

<DD>Indicates the completion of a key negotiation sequence.
</DD>
</DL>

<H4>See Also</H4>

<P><A HREF="dvdref_2xir.htm">KS_DVDCOPY_SET_COPY_STATE</A>, <A HREF="dvd-design_8d5z.htm">DVD Copyright Protection</A>, <A HREF="dvd-design_995z.htm">Multiple Data Streams on the same Hardware</A>, <A HREF="dvd-design_9uzr.htm">Synchronizing Key Exchange with Data Flow</A></P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: KSPROPERTY_DVDCOPY_SET_COPY_STATE"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
