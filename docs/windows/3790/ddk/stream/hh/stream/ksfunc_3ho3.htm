<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>KsCacheMedium</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="KsCacheMedium">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Streaming&nbsp;Devices&nbsp;(Video&nbsp;and&nbsp;Audio):&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H3><A NAME="ddk_kscachemedium_ks"></A>KsCacheMedium</H3>

<P>The <B>KsCacheMedium</B> function improves graph building performance of pins that use Mediums to define connectivity.</P>

<PRE class=syntax><B>KSDDKAPI NTSTATUS NTAPI
  KsCacheMedium(</B>
    <B>IN PUNICODE_STRING </B><I>SymbolicLink</I><B>,</B>
<B>    IN PKSPIN_MEDIUM </B><I>Medium</I><B>,</B>
<B>    IN DWORD </B><I>PinDirection</I>
    <B>);</B></PRE>

<H4>Parameters</H4>

<DL>
<DT><I>Symbolic Link</I></DT>

<DD>The symbolic link used to open the device interface.</DD>

<DT><I>Medium</I></DT>

<DD>Points to the medium to cache.</DD>

<DT><I>PinDirection</I></DT>

<DD>Contains the direction of the Pin.  1 is output, 0 is input.
</DD>
</DL>

<H4>Return Value</H4>

<P><B>KsCacheMedium</B> returns STATUS_SUCCESS if the caching operation is successful, failure if it is not.</P>

<H4>Headers</H4>

<P>Declared in <I>ks.h</I>. Include <I>ks.h</I>.</P>

<H4>Comments</H4>

<P><B>KsCacheMedium</B> improves graph building performance by creating a registry key at: </P>

<P><B>\System\CurrentControlSet\Control\MediumCache\GUID\DWORD\DWORD </B></P>

<P>This enables fast lookup of connected filters in TvTuner and other complex graphs.  Note that the GUID identifies the Medium of the connection, and that the DWORDs denote the device instance.  The value name is the SymbolicLink for the driver, and ActualValue is the pin direction.turning. </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: KsCacheMedium"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
