<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>KsFilterFactoryUpdateCacheData</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="KsFilterFactoryUpdateCacheData">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Streaming&nbsp;Devices&nbsp;(Video&nbsp;and&nbsp;Audio):&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_ksfilterfactoryupdatecachedata_ks"></A>KsFilterFactoryUpdateCacheData</H1>

<P>The<B> KsFilterFactoryUpdateCacheData </B>function updates the FilterData registry key and the Medium cache (a set of registry keys) for a given filter factory.</P>

<PRE class=syntax><B>NTSTATUS
  KsFilterFactoryUpdateCacheData (
    IN PKSFILTERFACTORY  </B><I>FilterFactory</I>,
<B>    IN const KSFILTER_DESCRIPTOR*  </B><I>FilterDescriptor </I><B>OPTIONAL</B>
<B>    );</B></PRE>

<H4>Parameters</H4>

<DL>
<DT><I>FilterFactory</I></DT>

<DD>The <A HREF="avstruct_1bn7.htm">KSFILTERFACTORY</A> for which to update FilterData and Medium cache in the registry.</DD>

<DT><I>FilterDescriptor</I></DT>

<DD>An optional <A HREF="avstruct_541f.htm">KSFILTER_DESCRIPTOR</A> for which the FilterData key and Medium cache will be updated. If NULL, <I>FilterFactory</I>'s descriptor is used instead. Provide if the filter factory uses dynamic pins and needs to update information for pins that have not yet been instantiated.
</DD>
</DL>

<H4>Return Value</H4>

<P><B>KsFilterFactoryUpdateCacheData </B>returns STATUS_SUCCESS or a failure code, indicating whether the relevant registry information was successfully updated. It returns STATUS_INVALID_PARAMETER if no device interface is found that corresponds to the categories passed in the filter descriptor.</P>

<H4>Headers</H4>

<P>Declared in <I>ks.h</I>. Include <I>ks.h</I>.</P>

<H4>Comments</H4>

<P>This function is available in Windows&nbsp;XP and DirectX&nbsp;9.0 and later.</P>

<P>This function updates the FilterData key and Medium cache for all categories specified in <I>FilterDescriptor</I>. If <I>FilterDescriptor</I> is NULL, the FilterData and Medium cache are updated for all categories specified in <I>FilterFactory</I>'s <A HREF="avstruct_541f.htm">KSFILTER_DESCRIPTOR</A> member.</P>

<P><A HREF="avfunc_0pbn.htm"><B>KsRegisterFilterWithNoKSPins</B></A> provides similar functionality, but should not be used if two instances of <A HREF="avstruct_541f.htm">KSFILTER_DESCRIPTOR</A> under the same <A HREF="avstruct_9qcz.htm">KSDEVICE</A> are registered in the same category, and differ only in reference GUID. In this case, <B>KsRegisterFilterWithNoKSPins</B> updates data only for the first, even though the second may have been specified.</P>

<P>Do not use this routine in place of <B>KsRegisterFilterWithNoKSPins</B> for filters with no KS pins, such as analog style crossbars. Use this routine only for a specific filter for which the minidriver is passing the corresponding filter factory.</P>

<P>In addition, <B>KsRegisterFilterWithNoKSPins</B> only allows one medium per registered pin. This may not be sufficient for a BDA minidriver.</P>

<P>For more information, see <A HREF="avconcep_2fmv.htm">AVStream Object Hierarchy</A>.</P>

<H4>See Also</H4>

<P><A HREF="avfunc_0pbn.htm"><B>KsRegisterFilterWithNoKSPins</B></A>, <A HREF="avstruct_541f.htm">KSFILTER_DESCRIPTOR</A>, <A HREF="avstruct_1bn7.htm">KSFILTERFACTORY</A></P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: KsFilterFactoryUpdateCacheData"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
