<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Obsolete Port Class Functions</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Obsolete Port Class Functions">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Streaming&nbsp;Devices&nbsp;(Video&nbsp;and&nbsp;Audio):&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H3><A NAME="ddk_obsolete_port_class_functions_ks"></A>Obsolete Port Class Functions</H3>

<P>The header file <I>portcls.h </I>defines macros that contain the names of obsolete PortCls functions that have been replaced by new PortCls functions. These macros allow old source code that contains references to obsolete PortCls function names to be recompiled to use the new PortCls functions without requiring any edits to the source files.</P>

<P>When compiling source code that uses the obsolete names, define the parameter name PC_OLD_NAMES. This parameter can be defined by the compiler command-line argument "-DPC_OLD_NAMES" if that is more convenient than introducing the statement "#<B>define</B> PC_OLD_NAMES" into the source files themselves.</P>

<P>The following table lists the obsolete PortCls function names in the left column. For each obsolete name, the center column contains the name of the new PortCls function that replaces it.</P>

<TABLE>

<TR VALIGN="top">
<TH align=left width=30%>Obsolete Function Name</TH>
<TH align=left width=54%>New Function Name</TH>
<TH align=left width=16%>Did Arguments Change?</TH>
</TR>

<TR VALIGN="top">
<TD width=30%><B>AddAdapterDevice</B></TD>
<TD width=54%><A HREF="audpc-routines_6i7n.htm"><B>PcAddAdapterDevice</B></A></TD>
<TD width=16%>YES</TD>
</TR>

<TR VALIGN="top">
<TD width=30%><B>CompletePendingPropertyRequest</B></TD>
<TD width=54%><A HREF="audpc-routines_0oc3.htm"><B>PcCompletePendingPropertyRequest</B></A></TD>
<TD width=16%>no</TD>
</TR>

<TR VALIGN="top">
<TD width=30%><B>GetTimeInterval</B></TD>
<TD width=54%><A HREF="audpc-routines_1sc3.htm"><B>PcGetTimeInterval</B></A></TD>
<TD width=16%>no</TD>
</TR>

<TR VALIGN="top">
<TD width=30%><B>InitializeAdapterDriver</B></TD>
<TD width=54%><A HREF="audpc-routines_7xyr.htm"><B>PcInitializeAdapterDriver</B></A></TD>
<TD width=16%>YES</TD>
</TR>

<TR VALIGN="top">
<TD width=30%><B>NewDmaChannel</B></TD>
<TD width=54%><A HREF="audpc-routines_2qer.htm"><B>PcNewDmaChannel</B></A></TD>
<TD width=16%>no</TD>
</TR>

<TR VALIGN="top">
<TD width=30%><B>NewMiniport</B></TD>
<TD width=54%><A HREF="audpc-routines_4dyr.htm"><B>PcNewMiniport</B></A></TD>
<TD width=16%>no</TD>
</TR>

<TR VALIGN="top">
<TD width=30%><B>NewPort</B></TD>
<TD width=54%><A HREF="audpc-routines_58s3.htm"><B>PcNewPort</B></A></TD>
<TD width=16%>no</TD>
</TR>

<TR VALIGN="top">
<TD width=30%><B>NewResourceList</B></TD>
<TD width=54%><A HREF="audpc-routines_0uyb.htm"><B>PcNewResourceList</B></A></TD>
<TD width=16%>no</TD>
</TR>

<TR VALIGN="top">
<TD width=30%><B>NewResourceSublist</B></TD>
<TD width=54%><A HREF="audpc-routines_7esz.htm"><B>PcNewResourceSublist</B></A></TD>
<TD width=16%>no</TD>
</TR>

<TR VALIGN="top">
<TD width=30%><B>NewServiceGroup</B></TD>
<TD width=54%><A HREF="audpc-routines_77zn.htm"><B>PcNewServiceGroup</B></A></TD>
<TD width=16%>no</TD>
</TR>

<TR VALIGN="top">
<TD width=30%><B>RegisterPhysicalConnection</B></TD>
<TD width=54%><A HREF="audpc-routines_42pf.htm"><B>PcRegisterPhysicalConnection</B></A></TD>
<TD width=16%>YES</TD>
</TR>

<TR VALIGN="top">
<TD width=30%><B>RegisterPhysicalConnectionFromExternal</B></TD>
<TD width=54%><A HREF="audpc-routines_5p9v.htm"><B>PcRegisterPhysicalConnectionFromExternal</B></A></TD>
<TD width=16%>YES</TD>
</TR>

<TR VALIGN="top">
<TD width=30%><B>RegisterPhysicalConnectionToExternal</B></TD>
<TD width=54%><A HREF="audpc-routines_662b.htm"><B>PcRegisterPhysicalConnectionToExternal</B></A></TD>
<TD width=16%>YES</TD>
</TR>

<TR VALIGN="top">
<TD width=30%><B>RegisterSubdevice</B></TD>
<TD width=54%><A HREF="audpc-routines_4n8z.htm"><B>PcRegisterSubdevice</B></A></TD>
<TD width=16%>YES</TD>
</TR>
</TABLE><BR>

<P>In some cases, the change amounts to no more than a simple name change: The qualifier <B>Pc</B> is inserted at the beginning of the name to indicate that the function is implemented in PortCls. In other cases, however, the argument list has changed in addition to the name of the function. The right column in the preceding table indicates whether the arguments have changed.</P>

<P>In cases in which the arguments changed, the macros in <I>portcls.h </I>convert the argument lists for the obsolete PortCls functions to the equivalent arguments for the new PortCls functions. The following macros contain argument conversions:</P>

<PRE>#define InitializeAdapterDriver(c1,c2,a) \
    PcInitializeAdapterDriver(PDRIVER_OBJECT(c1),PUNICODE_STRING(c2),PDRIVER_ADD_DEVICE(a))
#define AddAdapterDevice(c1,c2,s,m) \
    PcAddAdapterDevice(PDRIVER_OBJECT(c1),PDEVICE_OBJECT(c2),s,m,0)
#define RegisterSubdevice(c1,c2,n,u) \
    PcRegisterSubdevice(PDEVICE_OBJECT(c1),n,u)
#define RegisterPhysicalConnection(c1,c2,fs,fp,ts,tp) \
    PcRegisterPhysicalConnection(PDEVICE_OBJECT(c1),fs,fp,ts,tp)
#define RegisterPhysicalConnectionToExternal(c1,c2,fs,fp,ts,tp) \
    PcRegisterPhysicalConnectionToExternal(PDEVICE_OBJECT(c1),fs,fp,ts,tp)
#define RegisterPhysicalConnectionFromExternal(c1,c2,fs,fp,ts,tp) \
    PcRegisterPhysicalConnectionFromExternal(PDEVICE_OBJECT(c1),fs,fp,ts,tp)</PRE>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Obsolete%20Port%20Class%20Functions"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
