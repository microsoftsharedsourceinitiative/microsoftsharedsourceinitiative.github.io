<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Miscellaneous Installation Issues for an Audio Adapter</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="Miscellaneous Installation Issues for an Audio Adapter">
</HEAD>
<BODY TOPMARGIN="0">
<DIV STYLE="display:none;">
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="ddk_creating_inf_files_for_multiple_platforms_and_operating_systems_dg">
</OBJECT>
</DIV>


<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Streaming&nbsp;Devices&nbsp;(Video&nbsp;and&nbsp;Audio):&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H3><A NAME="ddk_miscellaneous_installation_issues_for_an_audio_adapter_ksg"></A>Miscellaneous Installation Issues for an Audio Adapter</H3>

<P>Listed are the most common installation issues for an audio adapter:

<UL>
	<LI>Only Windows&nbsp;98/Me supports the <B>UseFDMA</B> flag. In these operating systems, the [WDMAUDIO.FDMA] section in the <I>wdmaudio.inf </I>file sets the <B>UseFDMA</B> flag in the registry, causing the DMA controller to be configured to perform Type-F DMA transfers. If a proprietary INF file needs to set this flag, it does so by including <I>wdmaudio.inf </I>and invoking the [WDMAUDIO.FDMA] section of that file.
<P>Windows&nbsp;2000 and later (including the 64-bit versions of Windows) ignores the <B>UseFDMA</B> flag, and the [WDMAUDIO.FDMA] section in their <I>wdmaudio.inf </I>files does not load this flag into the registry.
</LI>

	<LI>Windows&nbsp;98 does not support the following:
<UL>
	<LI>WavePci (see <A HREF="pcdesign_37dz.htm">PCI Scatter/Gather Miniport</A>) and DMus (see <A HREF="pcdesign_8o87.htm">Advanced MIDI DLS Miniport</A>) miniport drivers </LI>

	<LI>Hardware mixing on a <A HREF="pcdesign_7c13.htm">WaveCyclic miniport</A> </LI>
</UL>

<P>The INF file for a port-class audio adapter (see <A HREF="pcdesign_9y1z.htm">Introduction to Port Class</A>) that uses the above functionality should not install the driver in Windows&nbsp;98. See <A HREF="pcdesign_7ixz.htm">Installation Issues for an Audio Driver in Windows 98</A>.
</LI>

	<LI>Windows&nbsp;98 Second Edition does not support the full functionality of a WavePci miniport driver. In Windows&nbsp;98&nbsp;SE, installation of a port-class adapter driver with a WavePci miniport driver is driver-specific.</LI>

	<LI>During initial installation of an audio device or when undergoing an operating system upgrade that destroys existing audio settings, the driver should ensure that the settings are initialized to reasonable default values. For more information, see <A HREF="pcdesign_4s9z.htm">Default Audio Volume Settings</A>.</LI>

	<LI>During an operating system upgrade, an audio device's installed driver and registry settings can frequently be preserved. For guidelines on how to make this process transparent to users, see <A HREF="pcdesign_4ko7.htm">Operating System Upgrades</A>.</LI>

	<LI>Windows&nbsp;2000 limits the number of device interfaces that can be exposed through the following Windows multimedia APIs: <B>waveIn</B>, <B>waveOut</B>, <B>midiIn</B>, <B>midiOut</B>, <B>mixer</B>, and <B>aux</B>. For more information, see <A HREF="pcdesign_2u5j.htm">Windows&nbsp;2000 Device-Interface Limits</A>.</LI>

	<LI>When installing a driver in Windows&nbsp;98/Me, INF files are restricted to a size of 64K bytes and INF section names are limited to 28 characters. Windows&nbsp;2000 and later are not subject to these restrictions. Any INF file that is to be used both in Windows&nbsp;98/Me and in Windows&nbsp;2000 and later must meet the stricter limitations of Windows 98/Me. For more information, see <A HREF="JavaScript:hhobj_1.Click()">Creating INF Files for Multiple Platforms and Operating Systems</A>.</LI>

	<LI>In Windows&nbsp;98/Me, the total number of characters in all the multimedia device ID strings in an INF file, including terminating zeros, must not exceed 200. INF files are not subject to this restriction in Windows&nbsp;2000 and later.</LI>

	<LI>An audio driver is easily designed to allow multiple identical instances of an audio adapter card to be plugged into the same system. For more information, see <A HREF="pcdesign_4pwn.htm">System-Wide Unique Device IDs</A>.</LI>
</UL>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Miscellaneous%20Installation%20Issues%20for%20an%20Audio%20Adapter"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
