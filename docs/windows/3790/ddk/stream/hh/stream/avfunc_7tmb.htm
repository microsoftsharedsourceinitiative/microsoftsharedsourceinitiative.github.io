<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>KsGateInitialize</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="KsGateInitialize">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Streaming&nbsp;Devices&nbsp;(Video&nbsp;and&nbsp;Audio):&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_ksgateinitialize_ks"></A>KsGateInitialize</H1>

<P>The<B> KsGateInitialize</B> function initializes a gate for use.</P>

<PRE class=syntax><B>VOID __inline
  KsGateInitialize(
</B>    <B>IN PKSGATE</B>  <I>Gate</I>,
<B>    IN LONG</B>  <I>InitialCount</I>,
<B>    IN PKSGAT</B>E  <I>NextGate</I><B> OPTIONAL</B>
<B>    IN BOOLEAN</B>  <I>StateToPropagate</I>
<B>    );</B></PRE>

<H4>Parameters</H4>

<DL>
<DT><I>Gate</I></DT>

<DD>Pointer to the <A HREF="avstruct_684z.htm">KSGATE</A> structure to initialize.</DD>

<DT><I>InitialCount</I> </DT>

<DD>Specifies the initial count to place on the gate. Fills in <I>Gate -&gt; Count</I>. For a new AND gate, this should be 1 (1 – 0 off inputs), and for a new OR gate, this should be 0 (0 on inputs). For more information, see <A HREF="avconcep_4rzb.htm">Flow Control Gates in AVStream</A>.</DD>

<DT><I>NextGate</I></DT>

<DD>Pointer to a <A HREF="avstruct_684z.htm">KSGATE</A> structure to which <I>Gate</I> should attach its output for state transitions. If this optional parameter is unspecified, <I>Gate</I> is not be attached to a subsequent gate.</DD>

<DT><I>StateToPropagate</I></DT>

<DD>Specifies whether to propagate ON transitions or OFF transitions. For an OR gate, set to TRUE; for an AND gate, set to FALSE.
</DD>
</DL>

<H4>Return Value</H4>

<P>None</P>

<H4>Headers</H4>

<P>Declared in <I>ks.h</I>. Include <I>ks.h</I>.</P>

<H4>Comments</H4>

<P>This function is available in Windows&nbsp;XP and DirectX&nbsp;8.0 and later.</P>

<P>Minidrivers should not call <B>KsGateInitialize</B> directly, but should instead use <A HREF="avfunc_2cs3.htm"><B>KsGateInitializeAnd</B></A> or <A HREF="avfunc_3a2b.htm"><B>KsGateInitializeOr</B></A>.</P>

<P>AND and OR gates are conceptualizations of the gating mechanism. AVStream does not distinguish between them in the implementation of the common gate functions. The gate functions specific to AND and OR gates are inline calls to the common gate functions.</P>

<P><B>KsGateInitialize </B>may be called at any IRQL.</P>

<P>To learn more about the gate construct in AVStream, see <A HREF="avconcep_4rzb.htm"><B>Flow Control Gates in AVStream</B></A>, <A HREF="avstruct_684z.htm">KSGATE</A>.</P>

<H4>See Also</H4>

<P><A HREF="avfunc_2cs3.htm"><B>KsGateInitializeAnd</B></A>, <A HREF="avfunc_3a2b.htm"><B>KsGateInitializeOr</B></A>, <A HREF="avfunc_9whf.htm"><B>KsGateTerminateAnd</B></A>, <A HREF="avfunc_6ofn.htm"><B>KsGateTerminateOr</B></A></P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: KsGateInitialize"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
