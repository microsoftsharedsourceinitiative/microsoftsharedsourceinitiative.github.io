<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>KsStreamPointerGetIrp</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="KsStreamPointerGetIrp">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Streaming&nbsp;Devices&nbsp;(Video&nbsp;and&nbsp;Audio):&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_ksstreampointergetirp_ks"></A>KsStreamPointerGetIrp</H1>

<P>The<B> KsStreamPointerGetIrp </B>function<B> </B>returns the IRP associated with the frame that is referenced by the given stream pointer.</P>

<PRE class=syntax><B>PIRP
  KsStreamPointerGetIrp(
</B>    <B>IN PKSSTREAM_POINTER</B>  <I>StreamPointer</I>,
    <B>OUT PBOOLEAN</B>  <I>FirstFrameInIrp</I>, <B>OPTIONAL</B>
    <B>OUT PBOOLEAN</B>  <I>LastFrameInIrp</I> <B>OPTIONAL</B>
<B>    );</B></PRE>

<H4>Parameters</H4>

<DL>
<DT><I>StreamPointer</I></DT>

<DD>Pointer to the <A HREF="avstruct_9hyr.htm">KSSTREAM_POINTER</A> structure that references the frame for which the associated IRP is returned.</DD>

<DT><I>FirstFrameInIrp</I></DT>

<DD>Pointer to a caller-supplied BOOLEAN value set to TRUE on return if the frame referenced by <I>StreamPointer</I> is the first frame in the returned IRP and FALSE if not. If NULL, AVStream does not test this condition.</DD>

<DT><I>LastFrameInIrp</I></DT>

<DD>Pointer to a caller-supplied BOOLEAN value set to TRUE if the frame referenced by the stream pointer is the last frame in the returned IRP and FALSE if not. If NULL, AVStream does not test this condition.
</DD>
</DL>

<H4>Return Value</H4>

<P><B>KsStreamPointerGetIrp </B>returns either a pointer to the IRP associated with the frame that is referenced by the given stream pointer, or returns NULL. A return value of NULL indicates that the stream pointer is not locked.</P>

<H4>Headers</H4>

<P>Declared in <I>ks.h</I>. Include <I>ks.h</I>.</P>

<H4>Comments</H4>

<P>This function is available in Windows&nbsp;XP and DirectX&nbsp;8.0 and later.</P>

<P><B>KsStreamPointerGetIrp </B>can also be used to determine if <I>StreamPointer</I> references the first and/or last frame contained in the returned IRP.</P>

<P><I>StreamPointer</I> must be locked in order for <B>KsStreamPointerGetIrp </B>to execute successfully. Any attempt to call this function with an unlocked stream pointer results in a NULL return value.</P>

<P><I>FirstFrameInIrp </I>and<I>/</I>or <I>LastFrameInIrp</I> must be non-NULL at call-time in order for AVStream to fill in these values.</P>

<P>Also see <A HREF="avsover_0dgn.htm">Stream Pointers</A>.</P>

<P><B>KsStreamPointerGetIrp </B>must be called at IRQL &lt;= DISPATCH_LEVEL.</P>

<H4>See Also</H4>

<P><A HREF="avfunc_7ohf.htm"><B>KsStreamPointerLock</B></A>, <A HREF="avfunc_32yc.htm"><B>KsStreamPointerGetMdl</B></A></P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: KsStreamPointerGetIrp"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
