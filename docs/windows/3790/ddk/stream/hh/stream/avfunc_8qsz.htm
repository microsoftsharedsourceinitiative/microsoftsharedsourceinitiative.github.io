<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>KsStreamPointerAdvanceOffsetsAndUnlock</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="KsStreamPointerAdvanceOffsetsAndUnlock">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Streaming&nbsp;Devices&nbsp;(Video&nbsp;and&nbsp;Audio):&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_ksstreampointeradvanceoffsetsandunlock_ks"></A>KsStreamPointerAdvanceOffsetsAndUnlock</H1>

<P>The<B> KsStreamPointerAdvanceOffsetsAndUnlock</B> function advances <I>StreamPointer</I> the specified number of bytes into the stream (adjusting the <I>OffsetIn </I>and <I>OffsetOut </I>fields of <I>StreamPointer</I> as requested) and unlocks it.</P>

<PRE class=syntax><B>VOID
  KsStreamPointerAdvanceOffsetsAndUnlock(
    IN PKSSTREAM_POINTER  </B><I>StreamPointer</I>,
    <B>IN ULONG  </B><I>InUsed</I>,
    <B>IN ULONG  </B><I>OutUsed</I>,
<I>    </I><B>IN BOOLEAN  </B><I>Eject</I>
<B>    );</B></PRE>

<H4>Parameters</H4>

<DL>
<DT><I>StreamPointer</I></DT>

<DD>Pointer to a <A HREF="avstruct_9hyr.htm">KSSTREAM_POINTER</A> structure representing the stream pointer to advance and unlock.</DD>

<DT><I>InUsed</I></DT>

<DD>Contains the number of input bytes used. AVStream advances the input offset by this number of bytes. This must be less than the total number of remaining unused bytes in the frame referenced by <I>StreamPointer</I>. If <I>InUsed</I> is equal to the remaining number of bytes in the frame referenced by <I>StreamPointer</I>, AVStream advances <I>StreamPointer </I>to the next available data frame.</DD>

<DT><I>OutUsed</I></DT>

<DD>Contains the number of output bytes used. AVStream advances the output offset by this number of bytes. This must be less than the total number of remaining unused bytes in the frame referenced by <I>StreamPointer</I>. If <I>OutUsed</I> is equal to the remaining number of bytes in the frame referenced by <I>StreamPointer</I>, AVStream advances <I>StreamPointer </I>to the next available data frame.</DD>

<DT><I>Eject</I></DT>

<DD>Indicates whether or not <I>StreamPointer</I> should be advanced. If this parameter is set to TRUE, AVStream advances the stream pointer to the next available data frame regardless of the values in <I>InUsed </I>and <I>OutUsed</I>.
</DD>
</DL>

<H4>Return Value</H4>

<P>None</P>

<H4>Headers</H4>

<P>Declared in <I>ks.h</I>. Include <I>ks.h</I>.</P>

<H4>Comments</H4>

<P>This function is available in Windows&nbsp;XP and DirectX&nbsp;8.0 and later.</P>

<P>If using the specified number of bytes in the stream pointer results in zero remaining bytes to process in the current frame, AVStream advances the stream pointer to the next available frame. Minidrivers can force advancement to the next frame regardless of the number of bytes used by setting <I>Eject</I>.</P>

<P><B>KsStreamPointerAdvanceOffsetsAndUnlock </B>must be called at IRQL &lt;= DISPATCH_LEVEL.</P>

<H4>See Also</H4>

<P><A HREF="avfunc_4rlf.htm"><B>KsStreamPointerAdvance</B></A>, <A HREF="avfunc_9pgz.htm"><B>KsStreamPointerUnlock</B></A>, <A HREF="avfunc_7ohf.htm"><B>KsStreamPointerLock</B></A>, <A HREF="avfunc_8t6b.htm"><B>KsStreamPointerClone</B></A>, <A HREF="avfunc_4awj.htm"><B>KsStreamPointerDelete</B></A></P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: KsStreamPointerAdvanceOffsetsAndUnlock"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
