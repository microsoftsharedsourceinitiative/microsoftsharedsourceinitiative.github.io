<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>KSPROPERTY_SYNTH_LATENCYCLOCK</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="KSPROPERTY_SYNTH_LATENCYCLOCK">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Streaming&nbsp;Devices&nbsp;(Video&nbsp;and&nbsp;Audio):&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_ksproperty_synth_latencyclock_ks"></A>KSPROPERTY_SYNTH_LATENCYCLOCK</H1>

<P>The KSPROPERTY_SYNTH_LATENCYCLOCK property is used to query the miniport driver for the stream's current latency-clock time, which is always greater than the master-clock time.</P>

<TABLE>

<TR VALIGN="top">
<TH align=left width=11%>Get</TH>
<TH align=left width=12%>Set</TH>
<TH align=left width=17%>Target</TH>
<TH align=left width=34%>Property Descriptor Type</TH>
<TH align=left width=26%>Property Value Type</TH>
</TR>

<TR VALIGN="top">
<TD width=11%>Yes</TD>
<TD width=12%>No</TD>
<TD width=17%>Pin</TD>
<TD width=34%><A HREF="aud-prop_5n3n.htm">KSNODEPROPERTY</A></TD>
<TD width=26%>ULONGLONG</TD>
</TR>
</TABLE><BR>

<P>The property value (operation data) is of type ULONGLONG and represents the synthesizer's current latency time. This time is specified relative to the master clock and expressed in 100-nanosecond units.</P>

<H4>Return Value</H4>

<P>A KSPROPERTY_SYNTH_LATENCYCLOCK property request returns STATUS_SUCCESS to indicate that it has completed successfully. Otherwise, the request returns an appropriate error status code. The following table shows some of the possible error codes.</P>

<TABLE>

<TR VALIGN="top">
<TH align=left width=39%>Status Code</TH>
<TH align=left width=61%>Meaning</TH>
</TR>

<TR VALIGN="top">
<TD width=39%>STATUS_BUFFER_TOO_SMALL</TD>
<TD width=61%>The buffer was too small to complete the operation.</TD>
</TR>

<TR VALIGN="top">
<TD width=39%>STATUS_UNSUCCESSFUL</TD>
<TD width=61%>The operation did not complete successfully.</TD>
</TR>

<TR VALIGN="top">
<TD width=39%>STATUS_INVALID_DEVICE_REQUEST</TD>
<TD width=61%>The operation is invalid for this device.</TD>
</TR>
</TABLE><BR>

<H4>Headers</H4>

<P>Declared in <I>dmusprop.h</I>. Include <I>dmusprop.h</I>.</P>

<H4>Comments</H4>

<P>Latency clocks are typically used to synchronize audio output streams among multiple devices.</P>

<P>A KSPROPERTY_SYNTH_LATENCYCLOCK <I>get</I>-property request should return a latency-clock time that equals the current master-clock time, plus the minimum guaranteed latency of the audio filter that the stream passes through. An application program that schedules audio data to be played earlier than the current latency-clock time risks having the data played late.</P>

<P>For more information about latency clocks, see the following:

<UL>
	<LI>The discussion of the <A HREF="#ddk_ksproperty_synth_latencyclock_ks">KSPROPERTY_SYNTH_LATENCYCLOCK</A> property in <A HREF="dmdesign_9yqv.htm">Latency Clocks</A>.</LI>

	<LI>The descriptions of the <B>IDirectMusicPort::GetLatencyClock</B> and <B>IReferenceClock::GetTime</B> methods in the Platform SDK documentation.</LI>
</UL>

<H4>See Also</H4>

<P><A HREF="aud-prop_5n3n.htm">KSNODEPROPERTY</A>, <A HREF="audmp-routines_0u5v.htm"><B>IDirectMusicSynth::GetLatencyClock</B></A> </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: KSPROPERTY_SYNTH_LATENCYCLOCK"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
